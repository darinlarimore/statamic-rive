var Bi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wr={exports:{}};(function(P,v){(function(H,te){P.exports=te()})(Bi,()=>(()=>{var S=[,(K,X,I)=>{I.r(X),I.d(X,{default:()=>re});var U=(()=>{var Q=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(T={}){var f=T,de,J;f.ready=new Promise((e,t)=>{de=e,J=t});function ae(){function e(u){const c=r;n=t=0,r=new Map,c.forEach(m=>{try{m(u)}catch(d){console.error(d)}}),this.kb(),i&&i.Mb()}let t=0,n=0,r=new Map,i=null,a=null;this.requestAnimationFrame=function(u){t||(t=requestAnimationFrame(e.bind(this)));const c=++n;return r.set(c,u),c},this.cancelAnimationFrame=function(u){r.delete(u),t&&r.size==0&&(cancelAnimationFrame(t),t=0)},this.Kb=function(u){a&&(document.body.remove(a),a=null),u||(a=document.createElement("div"),a.style.backgroundColor="black",a.style.position="fixed",a.style.right=0,a.style.top=0,a.style.color="white",a.style.padding="4px",a.innerHTML="RIVE FPS",u=function(c){a.innerHTML="RIVE FPS "+c.toFixed(1)},document.body.appendChild(a)),i=new function(){let c=0,m=0;this.Mb=function(){var d=performance.now();m?(++c,d-=m,1e3<d&&(u(1e3*c/d),c=m=0)):(m=d,c=0)}}},this.kb=function(){}}function Ye(){console.assert(!0);const e=new Map;let t=-1/0;this.push=function(n){return n=n+255>>8,e.has(n)&&clearTimeout(e.get(n)),e.set(n,setTimeout(function(){e.delete(n),e.length==0?t=-1/0:n==t&&(t=Math.max(...e.keys()),console.assert(t<n))},1e3)),t=Math.max(n,t),t<<8}}const me=f.onRuntimeInitialized;f.onRuntimeInitialized=function(){me&&me();let e=f.decodeAudio;f.decodeAudio=function(i,a){i=e(i),a(i)};let t=f.decodeFont;f.decodeFont=function(i,a){i=t(i),a(i)};const n=f.FileAssetLoader;f.ptrToAsset=i=>{let a=f.ptrToFileAsset(i);return a.isImage?f.ptrToImageAsset(i):a.isFont?f.ptrToFontAsset(i):a.isAudio?f.ptrToAudioAsset(i):a},f.CustomFileAssetLoader=n.extend("CustomFileAssetLoader",{__construct:function({loadContents:i}){this.__parent.__construct.call(this),this.Bb=i},loadContents:function(i,a){return i=f.ptrToAsset(i),this.Bb(i,a)}}),f.CDNFileAssetLoader=n.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(i){let a=f.ptrToAsset(i);return i=a.cdnUuid,i===""?!1:(function(u,c){var m=new XMLHttpRequest;m.responseType="arraybuffer",m.onreadystatechange=function(){m.readyState==4&&m.status==200&&c(m)},m.open("GET",u,!0),m.send(null)}(a.cdnBaseUrl+"/"+i,u=>{a.decode(new Uint8Array(u.response))}),!0)}}),f.FallbackFileAssetLoader=n.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.fb=[]},addLoader:function(i){this.fb.push(i)},loadContents:function(i,a){for(let u of this.fb)if(u.loadContents(i,a))return!0;return!1}});let r=f.computeAlignment;f.computeAlignment=function(i,a,u,c,m=1){return r.call(this,i,a,u,c,m)}};const se=f.onRuntimeInitialized;f.onRuntimeInitialized=function(){function e(_){this.F=_,this.yb=_.getContext("2d"),this.Db=i,this.R=[],this.ja=0,this.clear=function(){console.assert(this.ja==0),this.R=[],a.delete(this)},this.save=function(){++this.ja,this.R.push(i.save.bind(i))},this.restore=function(){0<this.ja&&(this.R.push(i.restore.bind(i)),--this.ja)},this.transform=function(C){this.R.push(i.transform.bind(i,C))},this.align=function(C,j,W,$,le=1){this.R.push(i.align.bind(i,C,j,W,$,le))},this.flush=function(){console.assert(this.ja==0),a.add(this),r&&n()}}function t(_){var C={alpha:1,depth:0,stencil:8,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:0,renderViaOffscreenBackBuffer:0},j=_.getContext("webgl2",C);j||(j=_.getContext("webgl",C));var W=j,$=Dt(Tn),le={handle:$,attributes:C,version:C.Dc,Ta:W};return W.canvas&&(W.canvas.pc=le),Tn[$]=le,(typeof C.Jb>"u"||C.Jb)&&gi(le),Fn($),C=u(_.width,_.height),C.Ab=$,C.F=_,C.Va=_.width,C.Ua=_.height,C.zb=j,C}function n(){if(i){var _=i.Cb,C=0,j=0,W=0,$=Array(a.size),le=0;for(var oe of a)oe.da=Math.min(oe.F.width,_),oe.ca=Math.min(oe.F.height,_),oe.Ja=oe.ca*oe.da,C=Math.max(C,oe.da),j=Math.max(j,oe.ca),W+=oe.Ja,$[le++]=oe;if(a.clear(),!(0>=W)){for(C=1<<(0>=C?0:32-Math.clz32(C-1)),j=1<<(0>=j?0:32-Math.clz32(j-1));j*C<W;)C<=j?C*=2:j*=2;for(C=Math.min(C,_),C=Math.min(j,_),$.sort((et,On)=>On.Ja-et.Ja),W=new f.DynamicRectanizer(_),oe=0;oe<$.length;){for(W.reset(C,j),le=oe;le<$.length;++le){var ce=$[le],ne=W.addRect(ce.da,ce.ca);if(0>ne){console.assert(le>oe);break}ce.pa=ne&65535,ce.qa=ne>>16}for(ce=m.push(W.drawWidth()),ne=d.push(W.drawHeight()),console.assert(ce>=W.drawWidth()),console.assert(ne>=W.drawHeight()),console.assert(ce<=_),console.assert(ne<=_),i.F.width!=ce&&(i.F.width=ce),i.F.height!=ne&&(i.F.height=ne),i.clear(),ce=oe;ce<le;++ce){ne=$[ce],i.saveClipRect(ne.pa,ne.qa,ne.pa+ne.da,ne.qa+ne.ca);let et=new f.Mat2D;et.xx=ne.da/ne.F.width,et.yy=ne.ca/ne.F.height,et.xy=et.yx=0,et.tx=ne.pa,et.ty=ne.qa,i.transform(et);for(const On of ne.R)On();i.restoreClipRect(),ne.R=[]}for(i.flush();oe<le;++oe)ce=$[oe],ne=ce.yb,ne.globalCompositeOperation="copy",ne.drawImage(i.F,ce.pa,ce.qa,ce.da,ce.ca,0,0,ce.F.width,ce.F.height);oe=le}}}}se&&se();const r=navigator.userAgent.match(/firefox|fxios/i);let i=null;const a=new Set,u=f.makeRenderer;f.makeRenderer=function(_,C){return C?(i||(i=t(document.createElement("canvas")),C=i.zb,i.Cb=Math.min(C.getParameter(C.MAX_RENDERBUFFER_SIZE),C.getParameter(C.MAX_TEXTURE_SIZE))),new e(_)):t(_)};const c=f.Artboard.prototype.draw;f.Artboard.prototype.draw=function(_){_.R?_.R.push(c.bind(this,_.Db)):c.call(this,_)};const m=new Ye,d=new Ye,b=new ae;f.requestAnimationFrame=b.requestAnimationFrame.bind(b),f.cancelAnimationFrame=b.cancelAnimationFrame.bind(b),f.enableFPSCounter=b.Kb.bind(b),b.kb=n,f.resolveAnimationFrame=n;let E=f.load;f.load=function(_,C,j=!0){const W=new f.FallbackFileAssetLoader;return C!==void 0&&W.addLoader(C),j&&(C=new f.CDNFileAssetLoader,W.addLoader(C)),Promise.resolve(E(_,W))};const L=f.WebGLRenderer.prototype.clear;f.WebGLRenderer.prototype.clear=function(){Fn(this.Ab);const _=this.F;(this.Va!=_.width||this.Ua!=_.height)&&(this.resize(_.width,_.height),this.Va=_.width,this.Ua=_.height),L.call(this)},f.decodeImage=function(_,C){_=f.decodeImageSkia(_),C(_)};let g=f.Renderer.prototype.align;f.Renderer.prototype.align=function(_,C,j,W,$=1){g.call(this,_,C,j,W,$)}};var ve=Object.assign({},f),Se="./this.program",Re=typeof window=="object",He=typeof importScripts=="function",F="",Fe,je;(Re||He)&&(He?F=self.location.href:typeof document<"u"&&document.currentScript&&(F=document.currentScript.src),Q&&(F=Q),F.indexOf("blob:")!==0?F=F.substr(0,F.replace(/[?#].*/,"").lastIndexOf("/")+1):F="",He&&(je=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Fe=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{r.status==200||r.status==0&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var st=f.print||console.log.bind(console),z=f.printErr||console.error.bind(console);Object.assign(f,ve),ve=null,f.thisProgram&&(Se=f.thisProgram);var Ee;f.wasmBinary&&(Ee=f.wasmBinary),f.noExitRuntime,typeof WebAssembly!="object"&&x("no native wasm support detected");var _e,N,ut=!1,fe,V,we,Oe,A,G,M,Ve;function Xe(){var e=_e.buffer;f.HEAP8=fe=new Int8Array(e),f.HEAP16=we=new Int16Array(e),f.HEAP32=A=new Int32Array(e),f.HEAPU8=V=new Uint8Array(e),f.HEAPU16=Oe=new Uint16Array(e),f.HEAPU32=G=new Uint32Array(e),f.HEAPF32=M=new Float32Array(e),f.HEAPF64=Ve=new Float64Array(e)}var tt,l=[],o=[],s=[];function p(){var e=f.preRun.shift();l.unshift(e)}var y=0,w=null;function x(e){throw f.onAbort&&f.onAbort(e),e="Aborted("+e+")",z(e),ut=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),J(e),e}function D(e){return e.startsWith("data:application/octet-stream;base64,")}var B;if(B="webgl_advanced.wasm",!D(B)){var O=B;B=f.locateFile?f.locateFile(O,F):F+O}function ee(e){if(e==B&&Ee)return new Uint8Array(Ee);if(je)return je(e);throw"both async and sync fetching of the wasm failed"}function pe(e){if(!Ee&&(Re||He)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>ee(e));if(Fe)return new Promise((t,n)=>{Fe(e,r=>t(new Uint8Array(r)),n)})}return Promise.resolve().then(()=>ee(e))}function Le(e,t,n){return pe(e).then(r=>WebAssembly.instantiate(r,t)).then(r=>r).then(n,r=>{z("failed to asynchronously prepare wasm: "+r),x(r)})}function ge(e,t){var n=B;return Ee||typeof WebAssembly.instantiateStreaming!="function"||D(n)||n.startsWith("file://")||typeof fetch!="function"?Le(n,e,t):fetch(n,{credentials:"same-origin"}).then(r=>WebAssembly.instantiateStreaming(r,e).then(t,function(i){return z("wasm streaming compile failed: "+i),z("falling back to ArrayBuffer instantiation"),Le(n,e,t)}))}var Ie,Pe,lt={702476:(e,t,n,r,i)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Ea:0},window.h.H={},window.h.H.Ca=e,window.h.H.capture=t,window.h.H.La=n,window.h.ha={},window.h.ha.stopped=r,window.h.ha.sb=i;let a=window.h;a.C=[],a.nc=function(u){for(var c=0;c<a.C.length;++c)if(a.C[c]==null)return a.C[c]=u,c;return a.C.push(u),a.C.length-1},a.xb=function(u){for(a.C[u]=null;0<a.C.length&&a.C[a.C.length-1]==null;)a.C.pop()},a.Kc=function(u){for(var c=0;c<a.C.length;++c)if(a.C[c]==u)return a.xb(c)},a.ta=function(u){return a.C[u]},a.wb=["touchend","click"],a.unlock=function(){for(var u=0;u<a.C.length;++u){var c=a.C[u];c!=null&&c.I!=null&&c.state===a.ha.sb&&c.I.resume().then(()=>{Fr(c.lb)},m=>{console.error("Failed to resume audiocontext",m)})}a.wb.map(function(m){document.removeEventListener(m,a.unlock,!0)})},a.wb.map(function(u){document.addEventListener(u,a.unlock,!0)})}return window.h.Ea+=1,1},704654:()=>{typeof window.h<"u"&&(--window.h.Ea,window.h.Ea===0&&delete window.h)},704818:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,704922:()=>{try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate;return e.close(),t}catch{return 0}},705093:(e,t,n,r,i,a)=>{if(typeof window.h>"u")return-1;var u={},c={};return e==window.h.H.Ca&&n!=0&&(c.sampleRate=n),u.I=new(window.AudioContext||window.webkitAudioContext)(c),u.I.suspend(),u.state=window.h.ha.stopped,n=0,e!=window.h.H.Ca&&(n=t),u.X=u.I.createScriptProcessor(r,n,t),u.X.onaudioprocess=function(m){if((u.ua==null||u.ua.length==0)&&(u.ua=new Float32Array(M.buffer,i,r*t)),e==window.h.H.capture||e==window.h.H.La){for(var d=0;d<t;d+=1)for(var b=m.inputBuffer.getChannelData(d),E=u.ua,L=0;L<r;L+=1)E[L*t+d]=b[L];jr(a,r,i)}if(e==window.h.H.Ca||e==window.h.H.La)for(Ir(a,r,i),d=0;d<m.outputBuffer.numberOfChannels;++d)for(b=m.outputBuffer.getChannelData(d),E=u.ua,L=0;L<r;L+=1)b[L]=E[L*t+d];else for(d=0;d<m.outputBuffer.numberOfChannels;++d)m.outputBuffer.getChannelData(d).fill(0)},e!=window.h.H.capture&&e!=window.h.H.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(m){u.Fa=u.I.createMediaStreamSource(m),u.Fa.connect(u.X),u.X.connect(u.I.destination)}).catch(function(m){console.log("Failed to get user media: "+m)}),e==window.h.H.Ca&&u.X.connect(u.I.destination),u.lb=a,window.h.nc(u)},707970:e=>window.h.ta(e).I.sampleRate,708043:e=>{e=window.h.ta(e),e.X!==void 0&&(e.X.onaudioprocess=function(){},e.X.disconnect(),e.X=void 0),e.Fa!==void 0&&(e.Fa.disconnect(),e.Fa=void 0),e.I.close(),e.I=void 0,e.lb=void 0},708443:e=>{window.h.xb(e)},708493:e=>{e=window.h.ta(e),e.I.resume(),e.state=window.h.ha.sb},708632:e=>{e=window.h.ta(e),e.I.suspend(),e.state=window.h.ha.stopped}},vt=e=>{for(;0<e.length;)e.shift()(f)},bt=(e,t)=>{for(var n=0,r=e.length-1;0<=r;r--){var i=e[r];i==="."?e.splice(r,1):i===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},nt=e=>{var t=e.charAt(0)==="/",n=e.substr(-1)==="/";return(e=bt(e.split("/").filter(r=>!!r),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},At=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)},rt=e=>{if(e==="/")return"/";e=nt(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},Ct=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);x("initRandomDevice")},ze=e=>(ze=Ct())(e);function kt(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if(t=0<=n?arguments[n]:"/",typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=bt(e.split("/").filter(r=>!!r),!t).join("/"),(t?"/":"")+e||"."}var Bn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Be=(e,t,n)=>{var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&Bn)return Bn.decode(e.subarray(t,n));for(r="";t<n;){var i=e[t++];if(i&128){var a=e[t++]&63;if((i&224)==192)r+=String.fromCharCode((i&31)<<6|a);else{var u=e[t++]&63;i=(i&240)==224?(i&15)<<12|a<<6|u:(i&7)<<18|a<<12|u<<6|e[t++]&63,65536>i?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|i&1023))}}else r+=String.fromCharCode(i)}return r},vn=[],mn=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t},xt=(e,t,n,r)=>{if(!(0<r))return 0;var i=n;r=n+r-1;for(var a=0;a<e.length;++a){var u=e.charCodeAt(a);if(55296<=u&&57343>=u){var c=e.charCodeAt(++a);u=65536+((u&1023)<<10)|c&1023}if(127>=u){if(n>=r)break;t[n++]=u}else{if(2047>=u){if(n+1>=r)break;t[n++]=192|u>>6}else{if(65535>=u){if(n+2>=r)break;t[n++]=224|u>>12}else{if(n+3>=r)break;t[n++]=240|u>>18,t[n++]=128|u>>12&63}t[n++]=128|u>>6&63}t[n++]=128|u&63}}return t[n]=0,n-i};function kn(e,t){var n=Array(mn(e)+1);return e=xt(e,n,0,n.length),t&&(n.length=e),n}var Wn=[];function $n(e,t){Wn[e]={input:[],D:[],T:t},yn(e,Nr)}var Nr={open:function(e){var t=Wn[e.node.Da];if(!t)throw new R(43);e.s=t,e.seekable=!1},close:function(e){e.s.T.sa(e.s)},sa:function(e){e.s.T.sa(e.s)},read:function(e,t,n,r){if(!e.s||!e.s.T.eb)throw new R(60);for(var i=0,a=0;a<r;a++){try{var u=e.s.T.eb(e.s)}catch{throw new R(29)}if(u===void 0&&i===0)throw new R(6);if(u==null)break;i++,t[n+a]=u}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,n,r){if(!e.s||!e.s.T.Oa)throw new R(60);try{for(var i=0;i<r;i++)e.s.T.Oa(e.s,t[n+i])}catch{throw new R(29)}return r&&(e.node.timestamp=Date.now()),i}},Vr={eb:function(){e:{if(!vn.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e){e=null;break e}vn=kn(e,!0)}e=vn.shift()}return e},Oa:function(e,t){t===null||t===10?(st(Be(e.D,0)),e.D=[]):t!=0&&e.D.push(t)},sa:function(e){e.D&&0<e.D.length&&(st(Be(e.D,0)),e.D=[])},Wb:function(){return{uc:25856,wc:5,tc:191,vc:35387,sc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Xb:function(){return 0},Yb:function(){return[24,80]}},Gr={Oa:function(e,t){t===null||t===10?(z(Be(e.D,0)),e.D=[]):t!=0&&e.D.push(t)},sa:function(e){e.D&&0<e.D.length&&(z(Be(e.D,0)),e.D=[])}};function Nn(e,t){var n=e.j?e.j.length:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)>>>0),n!=0&&(t=Math.max(t,256)),n=e.j,e.j=new Uint8Array(t),0<e.v&&e.j.set(n.subarray(0,e.v),0))}var Y={N:null,S(){return Y.createNode(null,"/",16895,0)},createNode(e,t,n,r){if((n&61440)===24576||(n&61440)===4096)throw new R(63);return Y.N||(Y.N={dir:{node:{W:Y.l.W,O:Y.l.O,ka:Y.l.ka,Aa:Y.l.Aa,qb:Y.l.qb,vb:Y.l.vb,rb:Y.l.rb,ob:Y.l.ob,Ga:Y.l.Ga},stream:{$:Y.m.$}},file:{node:{W:Y.l.W,O:Y.l.O},stream:{$:Y.m.$,read:Y.m.read,write:Y.m.write,ra:Y.m.ra,hb:Y.m.hb,jb:Y.m.jb}},link:{node:{W:Y.l.W,O:Y.l.O,la:Y.l.la},stream:{}},Wa:{node:{W:Y.l.W,O:Y.l.O},stream:zr}}),n=Xn(e,t,n,r),(n.mode&61440)===16384?(n.l=Y.N.dir.node,n.m=Y.N.dir.stream,n.j={}):(n.mode&61440)===32768?(n.l=Y.N.file.node,n.m=Y.N.file.stream,n.v=0,n.j=null):(n.mode&61440)===40960?(n.l=Y.N.link.node,n.m=Y.N.link.stream):(n.mode&61440)===8192&&(n.l=Y.N.Wa.node,n.m=Y.N.Wa.stream),n.timestamp=Date.now(),e&&(e.j[t]=n,e.timestamp=n.timestamp),n},Ac(e){return e.j?e.j.subarray?e.j.subarray(0,e.v):new Uint8Array(e.j):new Uint8Array(0)},l:{W(e){var t={};return t.zc=(e.mode&61440)===8192?e.id:1,t.Cc=e.id,t.mode=e.mode,t.Gc=1,t.uid=0,t.Bc=0,t.Da=e.Da,(e.mode&61440)===16384?t.size=4096:(e.mode&61440)===32768?t.size=e.v:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.qc=new Date(e.timestamp),t.Ec=new Date(e.timestamp),t.xc=new Date(e.timestamp),t.Eb=4096,t.rc=Math.ceil(t.size/t.Eb),t},O(e,t){if(t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&(t=t.size,e.v!=t))if(t==0)e.j=null,e.v=0;else{var n=e.j;e.j=new Uint8Array(t),n&&e.j.set(n.subarray(0,Math.min(t,e.v))),e.v=t}},ka(){throw gn[44]},Aa(e,t,n,r){return Y.createNode(e,t,n,r)},qb(e,t,n){if((e.mode&61440)===16384){try{var r=$t(t,n)}catch{}if(r)for(var i in r.j)throw new R(55)}delete e.parent.j[e.name],e.parent.timestamp=Date.now(),e.name=n,t.j[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},vb(e,t){delete e.j[t],e.timestamp=Date.now()},rb(e,t){var n=$t(e,t),r;for(r in n.j)throw new R(55);delete e.j[t],e.timestamp=Date.now()},ob(e){var t=[".",".."],n;for(n in e.j)e.j.hasOwnProperty(n)&&t.push(n);return t},Ga(e,t,n){return e=Y.createNode(e,t,41471,0),e.link=n,e},la(e){if((e.mode&61440)!==40960)throw new R(28);return e.link}},m:{read(e,t,n,r,i){var a=e.node.j;if(i>=e.node.v)return 0;if(e=Math.min(e.node.v-i,r),8<e&&a.subarray)t.set(a.subarray(i,i+e),n);else for(r=0;r<e;r++)t[n+r]=a[i+r];return e},write(e,t,n,r,i,a){if(t.buffer===fe.buffer&&(a=!1),!r)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.j||e.j.subarray)){if(a)return e.j=t.subarray(n,n+r),e.v=r;if(e.v===0&&i===0)return e.j=t.slice(n,n+r),e.v=r;if(i+r<=e.v)return e.j.set(t.subarray(n,n+r),i),r}if(Nn(e,i+r),e.j.subarray&&t.subarray)e.j.set(t.subarray(n,n+r),i);else for(a=0;a<r;a++)e.j[i+a]=t[n+a];return e.v=Math.max(e.v,i+r),r},$(e,t,n){if(n===1?t+=e.position:n===2&&(e.node.mode&61440)===32768&&(t+=e.node.v),0>t)throw new R(28);return t},ra(e,t,n){Nn(e.node,t+n),e.node.v=Math.max(e.node.v,t+n)},hb(e,t,n,r,i){if((e.node.mode&61440)!==32768)throw new R(43);if(e=e.node.j,i&2||e.buffer!==fe.buffer){if((0<n||n+t<e.length)&&(e.subarray?e=e.subarray(n,n+t):e=Array.prototype.slice.call(e,n,n+t)),n=!0,t=65536*Math.ceil(t/65536),(i=Br(65536,t))?(V.fill(0,i,i+t),t=i):t=0,!t)throw new R(48);fe.set(e,t)}else n=!1,t=e.byteOffset;return{o:t,L:n}},jb(e,t,n,r){return Y.m.write(e,t,0,r,n,!1),0}}};function Yr(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}var pn=null,Vn={},Wt=[],Hr=1,Et=null,Gn=!0,R=null,gn={},ct=(e,t={})=>{if(e=kt(e),!e)return{path:"",node:null};if(t=Object.assign({bb:!0,Qa:0},t),8<t.Qa)throw new R(32);e=e.split("/").filter(u=>!!u);for(var n=pn,r="/",i=0;i<e.length;i++){var a=i===e.length-1;if(a&&t.parent)break;if(n=$t(n,e[i]),r=nt(r+"/"+e[i]),n.Ba&&(!a||a&&t.bb)&&(n=n.Ba.root),!a||t.ab){for(a=0;(n.mode&61440)===40960;)if(n=Kr(r),r=kt(At(r),n),n=ct(r,{Qa:t.Qa+1}).node,40<a++)throw new R(32)}}return{path:r,node:n}},Yn=e=>{for(var t;;){if(e===e.parent)return e=e.S.ib,t?e[e.length-1]!=="/"?`${e}/${t}`:e+t:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}},Hn=(e,t)=>{for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%Et.length},$t=(e,t)=>{var n;if(n=(n=Nt(e,"x"))?n:e.l.ka?0:2)throw new R(n,e);for(n=Et[Hn(e.id,t)];n;n=n.ac){var r=n.name;if(n.parent.id===e.id&&r===t)return n}return e.l.ka(e,t)},Xn=(e,t,n,r)=>(e=new Pr(e,t,n,r),t=Hn(e.parent.id,e.name),e.ac=Et[t],Et[t]=e),zn=e=>{var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},Nt=(e,t)=>{if(Gn)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0},Kn=(e,t)=>{try{return $t(e,t),20}catch{}return Nt(e,"wx")},Xr=()=>{for(var e=0;4096>=e;e++)if(!Wt[e])return e;throw new R(33)},it=e=>{if(e=Wt[e],!e)throw new R(8);return e},Qn=(e,t=-1)=>(Rt||(Rt=function(){this.h={}},Rt.prototype={},Object.defineProperties(Rt.prototype,{object:{get(){return this.node},set(n){this.node=n}},flags:{get(){return this.h.flags},set(n){this.h.flags=n}},position:{get(){return this.h.position},set(n){this.h.position=n}}})),e=Object.assign(new Rt,e),t==-1&&(t=Xr()),e.V=t,Wt[t]=e),zr={open:e=>{e.m=Vn[e.node.Da].m,e.m.open&&e.m.open(e)},$:()=>{throw new R(70)}},yn=(e,t)=>{Vn[e]={m:t}},Zn=(e,t)=>{var n=t==="/",r=!t;if(n&&pn)throw new R(10);if(!n&&!r){var i=ct(t,{bb:!1});if(t=i.path,i=i.node,i.Ba)throw new R(10);if((i.mode&61440)!==16384)throw new R(54)}t={type:e,Ic:{},ib:t,$b:[]},e=e.S(t),e.S=t,t.root=e,n?pn=e:i&&(i.Ba=t,i.S&&i.S.$b.push(t))},ke=(e,t,n)=>{var r=ct(e,{parent:!0}).node;if(e=rt(e),!e||e==="."||e==="..")throw new R(28);var i=Kn(r,e);if(i)throw new R(i);if(!r.l.Aa)throw new R(63);return r.l.Aa(r,e,t,n)},Vt=(e,t,n)=>{typeof n>"u"&&(n=t,t=438),ke(e,t|8192,n)},_n=(e,t)=>{if(!kt(e))throw new R(44);var n=ct(t,{parent:!0}).node;if(!n)throw new R(44);t=rt(t);var r=Kn(n,t);if(r)throw new R(r);if(!n.l.Ga)throw new R(63);n.l.Ga(n,t,e)},Kr=e=>{if(e=ct(e).node,!e)throw new R(44);if(!e.l.la)throw new R(28);return kt(Yn(e.parent),e.l.la(e))},Gt=(e,t,n)=>{if(e==="")throw new R(44);if(typeof t=="string"){var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(typeof r>"u")throw Error(`Unknown file open mode: ${t}`);t=r}if(n=t&64?(typeof n>"u"?438:n)&4095|32768:0,typeof e=="object")var i=e;else{e=nt(e);try{i=ct(e,{ab:!(t&131072)}).node}catch{}}if(r=!1,t&64)if(i){if(t&128)throw new R(20)}else i=ke(e,n,0),r=!0;if(!i)throw new R(44);if((i.mode&61440)===8192&&(t&=-513),t&65536&&(i.mode&61440)!==16384)throw new R(54);if(!r&&(n=i?(i.mode&61440)===40960?32:(i.mode&61440)===16384&&(zn(t)!=="r"||t&512)?31:Nt(i,zn(t)):44))throw new R(n);if(t&512&&!r){if(n=i,n=typeof n=="string"?ct(n,{ab:!0}).node:n,!n.l.O)throw new R(63);if((n.mode&61440)===16384)throw new R(31);if((n.mode&61440)!==32768)throw new R(28);if(r=Nt(n,"w"))throw new R(r);n.l.O(n,{size:0,timestamp:Date.now()})}return t&=-131713,i=Qn({node:i,path:Yn(i),flags:t,seekable:!0,position:0,m:i.m,oc:[],error:!1}),i.m.open&&i.m.open(i),!f.logReadFiles||t&1||(Yt||(Yt={}),e in Yt||(Yt[e]=1)),i},Jn=(e,t,n)=>{if(e.V===null)throw new R(8);if(!e.seekable||!e.m.$)throw new R(70);if(n!=0&&n!=1&&n!=2)throw new R(28);e.position=e.m.$(e,t,n),e.oc=[]},qn=()=>{R||(R=function(e,t){this.name="ErrnoError",this.node=t,this.dc=function(n){this.Z=n},this.dc(e),this.message="FS error"},R.prototype=Error(),R.prototype.constructor=R,[44].forEach(e=>{gn[e]=new R(e),gn[e].stack="<generic error, no stack>"}))},Un,St=(e,t,n)=>{e=nt("/dev/"+e);var r=Yr(!!t,!!n);wn||(wn=64);var i=wn++<<8|0;yn(i,{open:a=>{a.seekable=!1},close:()=>{n&&n.buffer&&n.buffer.length&&n(10)},read:(a,u,c,m)=>{for(var d=0,b=0;b<m;b++){try{var E=t()}catch{throw new R(29)}if(E===void 0&&d===0)throw new R(6);if(E==null)break;d++,u[c+b]=E}return d&&(a.node.timestamp=Date.now()),d},write:(a,u,c,m)=>{for(var d=0;d<m;d++)try{n(u[c+d])}catch{throw new R(29)}return m&&(a.node.timestamp=Date.now()),d}}),Vt(e,r,i)},wn,ft={},Rt,Yt,Lt=void 0;function Ke(){return Lt+=4,A[Lt-4>>2]}function er(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e}function Ht(e,t){return e=er(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function tr(){this.L=[void 0],this.cb=[]}var De=new tr,mt=void 0;function k(e){throw new mt(e)}var We=e=>(e||k("Cannot use deleted val. handle = "+e),De.get(e).value),Qe=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return De.ra({pb:1,value:e})}};function nr(e){var t=Error,n=Ht(e,function(r){this.name=e,this.message=r,r=Error(r).stack,r!==void 0&&(this.stack=this.toString()+`
`+r.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},n}var rr=void 0,ir=void 0;function ue(e){for(var t="";V[e];)t+=ir[V[e++]];return t}var Pt=[];function bn(){for(;Pt.length;){var e=Pt.pop();e.g.ga=!1,e.delete()}}var Mt=void 0,Ze={};function An(e,t){for(t===void 0&&k("ptr should not be undefined");e.A;)t=e.na(t),e=e.A;return t}var ht={};function or(e){e=Or(e);var t=ue(e);return Ue(e),t}function Tt(e,t){var n=ht[e];return n===void 0&&k(t+" has unknown type "+or(e)),n}function Xt(){}var Cn=!1;function ar(e){--e.count.value,e.count.value===0&&(e.G?e.K.U(e.G):e.u.i.U(e.o))}function sr(e,t,n){return t===n?e:n.A===void 0?null:(e=sr(e,t,n.A),e===null?null:n.Ib(e))}var ur={};function Qr(e,t){return t=An(e,t),Ze[t]}var lr=void 0;function zt(e){throw new lr(e)}function Kt(e,t){return t.u&&t.o||zt("makeClassHandle requires ptr and ptrType"),!!t.K!=!!t.G&&zt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},pt(Object.create(e,{g:{value:t}}))}function pt(e){return typeof FinalizationRegistry>"u"?(pt=t=>t,e):(Cn=new FinalizationRegistry(t=>{ar(t.g)}),pt=t=>{var n=t.g;return n.G&&Cn.register(t,{g:n},t),t},Xt=t=>{Cn.unregister(t)},pt(e))}var Qt={};function Ft(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function jt(e){return this.fromWireType(A[e>>2])}var gt={},Zt={};function Me(e,t,n){function r(c){c=n(c),c.length!==e.length&&zt("Mismatched type converter count");for(var m=0;m<e.length;++m)Ge(e[m],c[m])}e.forEach(function(c){Zt[c]=t});var i=Array(t.length),a=[],u=0;t.forEach((c,m)=>{ht.hasOwnProperty(c)?i[m]=ht[c]:(a.push(c),gt.hasOwnProperty(c)||(gt[c]=[]),gt[c].push(()=>{i[m]=ht[c],++u,u===a.length&&r(i)}))}),a.length===0&&r(i)}function Jt(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${e}`)}}function Zr(e,t,n={}){var r=t.name;if(e||k(`type "${r}" must have a positive integer typeid pointer`),ht.hasOwnProperty(e)){if(n.Tb)return;k(`Cannot register type '${r}' twice`)}ht[e]=t,delete Zt[e],gt.hasOwnProperty(e)&&(t=gt[e],delete gt[e],t.forEach(i=>i()))}function Ge(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");Zr(e,t,n)}function xn(e){k(e.g.u.i.name+" instance already deleted")}function ot(){}function En(e,t,n){if(e[t].B===void 0){var r=e[t];e[t]=function(){return e[t].B.hasOwnProperty(arguments.length)||k(`Function '${n}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].B})!`),e[t].B[arguments.length].apply(this,arguments)},e[t].B=[],e[t].B[r.ea]=r}}function Sn(e,t,n){f.hasOwnProperty(e)?((n===void 0||f[e].B!==void 0&&f[e].B[n]!==void 0)&&k(`Cannot register public name '${e}' twice`),En(f,e,e),f.hasOwnProperty(n)&&k(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),f[e].B[n]=t):(f[e]=t,n!==void 0&&(f[e].Hc=n))}function Jr(e,t,n,r,i,a,u,c){this.name=e,this.constructor=t,this.M=n,this.U=r,this.A=i,this.Nb=a,this.na=u,this.Ib=c,this.mb=[]}function qt(e,t,n){for(;t!==n;)t.na||k(`Expected null or instance of ${n.name}, got an instance of ${t.name}`),e=t.na(e),t=t.A;return e}function qr(e,t){return t===null?(this.Na&&k(`null is not a valid ${this.name}`),0):(t.g||k(`Cannot pass "${Ln(t)}" as a ${this.name}`),t.g.o||k(`Cannot pass deleted object as a pointer of type ${this.name}`),qt(t.g.o,t.g.u.i,this.i))}function Ur(e,t){if(t===null){if(this.Na&&k(`null is not a valid ${this.name}`),this.wa){var n=this.Pa();return e!==null&&e.push(this.U,n),n}return 0}if(t.g||k(`Cannot pass "${Ln(t)}" as a ${this.name}`),t.g.o||k(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.va&&t.g.u.va&&k(`Cannot convert argument of type ${t.g.K?t.g.K.name:t.g.u.name} to parameter type ${this.name}`),n=qt(t.g.o,t.g.u.i,this.i),this.wa)switch(t.g.G===void 0&&k("Passing raw pointer to smart pointer is illegal"),this.ic){case 0:t.g.K===this?n=t.g.G:k(`Cannot convert argument of type ${t.g.K?t.g.K.name:t.g.u.name} to parameter type ${this.name}`);break;case 1:n=t.g.G;break;case 2:if(t.g.K===this)n=t.g.G;else{var r=t.clone();n=this.cc(n,Qe(function(){r.delete()})),e!==null&&e.push(this.U,n)}break;default:k("Unsupporting sharing policy")}return n}function ei(e,t){return t===null?(this.Na&&k(`null is not a valid ${this.name}`),0):(t.g||k(`Cannot pass "${Ln(t)}" as a ${this.name}`),t.g.o||k(`Cannot pass deleted object as a pointer of type ${this.name}`),t.g.u.va&&k(`Cannot convert argument of type ${t.g.u.name} to parameter type ${this.name}`),qt(t.g.o,t.g.u.i,this.i))}function Je(e,t,n,r){this.name=e,this.i=t,this.Na=n,this.va=r,this.wa=!1,this.U=this.cc=this.Pa=this.nb=this.ic=this.bc=void 0,t.A!==void 0?this.toWireType=Ur:(this.toWireType=r?qr:ei,this.J=null)}function cr(e,t,n){f.hasOwnProperty(e)||zt("Replacing nonexistant public symbol"),f[e].B!==void 0&&n!==void 0?f[e].B[n]=t:(f[e]=t,f[e].ea=n)}var Ut=[],ye=e=>{var t=Ut[e];return t||(e>=Ut.length&&(Ut.length=e+1),Ut[e]=t=tt.get(e)),t},ti=(e,t)=>{var n=[];return function(){if(n.length=0,Object.assign(n,arguments),e.includes("j")){var r=f["dynCall_"+e];r=n&&n.length?r.apply(null,[t].concat(n)):r.call(null,t)}else r=ye(t).apply(null,n);return r}};function be(e,t){e=ue(e);var n=e.includes("j")?ti(e,t):ye(t);return typeof n!="function"&&k(`unknown function pointer with signature ${e}: ${t}`),n}var fr=void 0;function qe(e,t){function n(a){i[a]||ht[a]||(Zt[a]?Zt[a].forEach(n):(r.push(a),i[a]=!0))}var r=[],i={};throw t.forEach(n),new fr(`${e}: `+r.map(or).join([", "]))}function en(e,t,n,r,i){var a=t.length;2>a&&k("argTypes array size mismatch! Must at least get return value and 'this' types!");var u=t[1]!==null&&n!==null,c=!1;for(n=1;n<t.length;++n)if(t[n]!==null&&t[n].J===void 0){c=!0;break}var m=t[0].name!=="void",d=a-2,b=Array(d),E=[],L=[];return function(){if(arguments.length!==d&&k(`function ${e} called with ${arguments.length} arguments, expected ${d} args!`),L.length=0,E.length=u?2:1,E[0]=i,u){var g=t[1].toWireType(L,this);E[1]=g}for(var _=0;_<d;++_)b[_]=t[_+2].toWireType(L,arguments[_]),E.push(b[_]);if(_=r.apply(null,E),c)Ft(L);else for(var C=u?1:2;C<t.length;C++){var j=C===1?g:b[C-2];t[C].J!==null&&t[C].J(j)}return g=m?t[0].fromWireType(_):void 0,g}}function tn(e,t){for(var n=[],r=0;r<e;r++)n.push(G[t+4*r>>2]);return n}function hr(e,t,n){return e instanceof Object||k(`${n} with invalid "this": ${e}`),e instanceof t.i.constructor||k(`${n} incompatible with "this" of type ${e.constructor.name}`),e.g.o||k(`cannot call emscripten binding method ${n} on deleted object`),qt(e.g.o,e.g.u.i,t.i)}function Rn(e){e>=De.h&&--De.get(e).pb===0&&De.Sb(e)}function ni(e,t,n){switch(t){case 0:return function(r){return this.fromWireType((n?fe:V)[r])};case 1:return function(r){return this.fromWireType((n?we:Oe)[r>>1])};case 2:return function(r){return this.fromWireType((n?A:G)[r>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function Ln(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}function ri(e,t){switch(t){case 2:return function(n){return this.fromWireType(M[n>>2])};case 3:return function(n){return this.fromWireType(Ve[n>>3])};default:throw new TypeError("Unknown float type: "+e)}}function ii(e,t,n){switch(t){case 0:return n?function(r){return fe[r]}:function(r){return V[r]};case 1:return n?function(r){return we[r>>1]}:function(r){return Oe[r>>1]};case 2:return n?function(r){return A[r>>2]}:function(r){return G[r>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var dr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,oi=(e,t)=>{for(var n=e>>1,r=n+t/2;!(n>=r)&&Oe[n];)++n;if(n<<=1,32<n-e&&dr)return dr.decode(V.subarray(e,n));for(n="",r=0;!(r>=t/2);++r){var i=we[e+2*r>>1];if(i==0)break;n+=String.fromCharCode(i)}return n},ai=(e,t,n)=>{if(n===void 0&&(n=2147483647),2>n)return 0;n-=2;var r=t;n=n<2*e.length?n/2:e.length;for(var i=0;i<n;++i)we[t>>1]=e.charCodeAt(i),t+=2;return we[t>>1]=0,t-r},si=e=>2*e.length,ui=(e,t)=>{for(var n=0,r="";!(n>=t/4);){var i=A[e+4*n>>2];if(i==0)break;++n,65536<=i?(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|i&1023)):r+=String.fromCharCode(i)}return r},li=(e,t,n)=>{if(n===void 0&&(n=2147483647),4>n)return 0;var r=t;n=r+n-4;for(var i=0;i<e.length;++i){var a=e.charCodeAt(i);if(55296<=a&&57343>=a){var u=e.charCodeAt(++i);a=65536+((a&1023)<<10)|u&1023}if(A[t>>2]=a,t+=4,t+4>n)break}return A[t>>2]=0,t-r},ci=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&++n,t+=4}return t},fi={};function Pn(e){var t=fi[e];return t===void 0?ue(e):t}var nn=[];function hi(e){var t=nn.length;return nn.push(e),t}function di(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=Tt(G[t+4*r>>2],"parameter "+r);return n}var vr=[],Mn=[];function vi(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(n,r){t.vertexAttribDivisorANGLE(n,r)},e.drawArraysInstanced=function(n,r,i,a){t.drawArraysInstancedANGLE(n,r,i,a)},e.drawElementsInstanced=function(n,r,i,a,u){t.drawElementsInstancedANGLE(n,r,i,a,u)})}function mi(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(n){t.deleteVertexArrayOES(n)},e.bindVertexArray=function(n){t.bindVertexArrayOES(n)},e.isVertexArray=function(n){return t.isVertexArrayOES(n)})}function pi(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(n,r){t.drawBuffersWEBGL(n,r)})}var mr=1,rn=[],$e=[],on=[],It=[],yt=[],Ne=[],an=[],Tn=[],_t=[],dt=[],pr={},gr={},yr=4;function ie(e){sn||(sn=e)}function Dt(e){for(var t=mr++,n=e.length;n<t;n++)e[n]=null;return t}function Fn(e){return q=Tn[e],f.yc=h=q&&q.Ta,!(e&&!h)}function gi(e){if(e||(e=q),!e.Ub){e.Ub=!0;var t=e.Ta;vi(t),mi(t),pi(t),t.Ya=t.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),t.gb=t.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"),2<=e.version&&(t.Za=t.getExtension("EXT_disjoint_timer_query_webgl2")),(2>e.version||!t.Za)&&(t.Za=t.getExtension("EXT_disjoint_timer_query")),t.Fc=t.getExtension("WEBGL_multi_draw"),(t.getSupportedExtensions()||[]).forEach(function(n){n.includes("lose_context")||n.includes("debug")||t.getExtension(n)})}}var sn,q;function _r(e,t){h.bindFramebuffer(e,on[t])}function wr(e){h.bindVertexArray(an[e])}function br(e,t){for(var n=0;n<e;n++){var r=A[t+4*n>>2];h.deleteVertexArray(an[r]),an[r]=null}}var un=[];function Ar(e,t,n,r){h.drawElements(e,t,n,r)}function wt(e,t,n,r){for(var i=0;i<e;i++){var a=h[n](),u=a&&Dt(r);a?(a.name=u,r[u]=a):ie(1282),A[t+4*i>>2]=u}}function Cr(e,t){wt(e,t,"createVertexArray",an)}function yi(e,t){if(t){var n=void 0;switch(e){case 36346:n=1;break;case 36344:return;case 34814:case 36345:n=0;break;case 34466:var r=h.getParameter(34467);n=r?r.length:0;break;case 33309:if(2>q.version){ie(1282);return}n=2*(h.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>q.version){ie(1280);return}n=e==33307?3:0}if(n===void 0)switch(r=h.getParameter(e),typeof r){case"number":n=r;break;case"boolean":n=r?1:0;break;case"string":ie(1280);return;case"object":if(r===null)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:n=0;break;default:ie(1280);return}else{if(r instanceof Float32Array||r instanceof Uint32Array||r instanceof Int32Array||r instanceof Array){for(e=0;e<r.length;++e)A[t+4*e>>2]=r[e];return}try{n=r.name|0}catch(i){ie(1280),z("GL_INVALID_ENUM in glGet0v: Unknown object returned from WebGL getParameter("+e+")! (error: "+i+")");return}}break;default:ie(1280),z("GL_INVALID_ENUM in glGet0v: Native code calling glGet0v("+e+") and it returns "+r+" of type "+typeof r+"!");return}A[t>>2]=n}else ie(1281)}function xr(e,t){yi(e,t)}var Ot=e=>{var t=mn(e)+1,n=hn(t);return n&&xt(e,V,n,t),n};function Er(e){return e.slice(-1)=="]"&&e.lastIndexOf("[")}function ln(e){return e-=5120,e==0?fe:e==1?V:e==2?we:e==4?A:e==6?M:e==5||e==28922||e==28520||e==30779||e==30782?G:Oe}function jn(e,t,n,r,i){e=ln(e);var a=31-Math.clz32(e.BYTES_PER_ELEMENT),u=yr;return e.subarray(i>>a,i+r*(n*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[t-6402]||1)*(1<<a)+u-1&-u)>>a)}function Z(e){var t=h.Gb;if(t){var n=t.ma[e];return typeof n=="number"&&(t.ma[e]=n=h.getUniformLocation(t,t.tb[e]+(0<n?"["+n+"]":""))),n}ie(1282)}var at=[],Bt=[],In={},Sr=()=>{if(!Dn){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Se||"./this.program"},t;for(t in In)In[t]===void 0?delete e[t]:e[t]=In[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);Dn=n}return Dn},Dn,cn=e=>e%4===0&&(e%100!==0||e%400===0),Rr=[31,29,31,30,31,30,31,31,30,31,30,31],Lr=[31,28,31,30,31,30,31,31,30,31,30,31],_i=(e,t,n,r)=>{function i(g,_,C){for(g=typeof g=="number"?g.toString():g||"";g.length<_;)g=C[0]+g;return g}function a(g,_){return i(g,_,"0")}function u(g,_){function C(W){return 0>W?-1:0<W?1:0}var j;return(j=C(g.getFullYear()-_.getFullYear()))===0&&(j=C(g.getMonth()-_.getMonth()))===0&&(j=C(g.getDate()-_.getDate())),j}function c(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function m(g){var _=g.aa;for(g=new Date(new Date(g.ba+1900,0,1).getTime());0<_;){var C=g.getMonth(),j=(cn(g.getFullYear())?Rr:Lr)[C];if(_>j-g.getDate())_-=j-g.getDate()+1,g.setDate(1),11>C?g.setMonth(C+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+_);break}}return C=new Date(g.getFullYear()+1,0,4),_=c(new Date(g.getFullYear(),0,4)),C=c(C),0>=u(_,g)?0>=u(C,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}var d=A[r+40>>2];r={lc:A[r>>2],kc:A[r+4>>2],Ha:A[r+8>>2],Ra:A[r+12>>2],Ia:A[r+16>>2],ba:A[r+20>>2],P:A[r+24>>2],aa:A[r+28>>2],Jc:A[r+32>>2],jc:A[r+36>>2],mc:d&&d?Be(V,d):""},n=n?Be(V,n):"",d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var b in d)n=n.replace(new RegExp(b,"g"),d[b]);var E="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),L="January February March April May June July August September October November December".split(" ");d={"%a":g=>E[g.P].substring(0,3),"%A":g=>E[g.P],"%b":g=>L[g.Ia].substring(0,3),"%B":g=>L[g.Ia],"%C":g=>a((g.ba+1900)/100|0,2),"%d":g=>a(g.Ra,2),"%e":g=>i(g.Ra,2," "),"%g":g=>m(g).toString().substring(2),"%G":g=>m(g),"%H":g=>a(g.Ha,2),"%I":g=>(g=g.Ha,g==0?g=12:12<g&&(g-=12),a(g,2)),"%j":g=>{for(var _=0,C=0;C<=g.Ia-1;_+=(cn(g.ba+1900)?Rr:Lr)[C++]);return a(g.Ra+_,3)},"%m":g=>a(g.Ia+1,2),"%M":g=>a(g.kc,2),"%n":()=>`
`,"%p":g=>0<=g.Ha&&12>g.Ha?"AM":"PM","%S":g=>a(g.lc,2),"%t":()=>"	","%u":g=>g.P||7,"%U":g=>a(Math.floor((g.aa+7-g.P)/7),2),"%V":g=>{var _=Math.floor((g.aa+7-(g.P+6)%7)/7);if(2>=(g.P+371-g.aa-2)%7&&_++,_)_==53&&(C=(g.P+371-g.aa)%7,C==4||C==3&&cn(g.ba)||(_=1));else{_=52;var C=(g.P+7-g.aa-1)%7;(C==4||C==5&&cn(g.ba%400-1))&&_++}return a(_,2)},"%w":g=>g.P,"%W":g=>a(Math.floor((g.aa+7-(g.P+6)%7)/7),2),"%y":g=>(g.ba+1900).toString().substring(2),"%Y":g=>g.ba+1900,"%z":g=>{g=g.jc;var _=0<=g;return g=Math.abs(g)/60,(_?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.mc,"%%":()=>"%"},n=n.replace(/%%/g,"\0\0");for(b in d)n.includes(b)&&(n=n.replace(new RegExp(b,"g"),d[b](r)));return n=n.replace(/\0\0/g,"%"),b=kn(n,!1),b.length>t?0:(fe.set(b,e),b.length-1)};function Pr(e,t,n,r){e||(e=this),this.parent=e,this.S=e.S,this.Ba=null,this.id=Hr++,this.name=t,this.mode=n,this.l={},this.m={},this.Da=r}Object.defineProperties(Pr.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),qn(),Et=Array(4096),Zn(Y,"/"),ke("/tmp",16895,0),ke("/home",16895,0),ke("/home/web_user",16895,0),(()=>{ke("/dev",16895,0),yn(259,{read:()=>0,write:(r,i,a,u)=>u}),Vt("/dev/null",259),$n(1280,Vr),$n(1536,Gr),Vt("/dev/tty",1280),Vt("/dev/tty1",1536);var e=new Uint8Array(1024),t=0,n=()=>(t===0&&(t=ze(e).byteLength),e[--t]);St("random",n),St("urandom",n),ke("/dev/shm",16895,0),ke("/dev/shm/tmp",16895,0)})(),(()=>{ke("/proc",16895,0);var e=ke("/proc/self",16895,0);ke("/proc/self/fd",16895,0),Zn({S:()=>{var t=Xn(e,"fd",16895,73);return t.l={ka:(n,r)=>{var i=it(+r);return n={parent:null,S:{ib:"fake"},l:{la:()=>i.path}},n.parent=n}},t}},"/proc/self/fd")})(),Object.assign(tr.prototype,{get(e){return this.L[e]},has(e){return this.L[e]!==void 0},ra(e){var t=this.cb.pop()||this.L.length;return this.L[t]=e,t},Sb(e){this.L[e]=void 0,this.cb.push(e)}}),mt=f.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},De.L.push({value:void 0},{value:null},{value:!0},{value:!1}),De.h=De.L.length,f.count_emval_handles=function(){for(var e=0,t=De.h;t<De.L.length;++t)De.L[t]!==void 0&&++e;return e},rr=f.PureVirtualError=nr("PureVirtualError");for(var Mr=Array(256),fn=0;256>fn;++fn)Mr[fn]=String.fromCharCode(fn);ir=Mr,f.getInheritedInstanceCount=function(){return Object.keys(Ze).length},f.getLiveInheritedInstances=function(){var e=[],t;for(t in Ze)Ze.hasOwnProperty(t)&&e.push(Ze[t]);return e},f.flushPendingDeletes=bn,f.setDelayFunction=function(e){Mt=e,Pt.length&&Mt&&Mt(bn)},lr=f.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},ot.prototype.isAliasOf=function(e){if(!(this instanceof ot&&e instanceof ot))return!1;var t=this.g.u.i,n=this.g.o,r=e.g.u.i;for(e=e.g.o;t.A;)n=t.na(n),t=t.A;for(;r.A;)e=r.na(e),r=r.A;return t===r&&n===e},ot.prototype.clone=function(){if(this.g.o||xn(this),this.g.ia)return this.g.count.value+=1,this;var e=pt,t=Object,n=t.create,r=Object.getPrototypeOf(this),i=this.g;return e=e(n.call(t,r,{g:{value:{count:i.count,ga:i.ga,ia:i.ia,o:i.o,u:i.u,G:i.G,K:i.K}}})),e.g.count.value+=1,e.g.ga=!1,e},ot.prototype.delete=function(){this.g.o||xn(this),this.g.ga&&!this.g.ia&&k("Object already scheduled for deletion"),Xt(this),ar(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},ot.prototype.isDeleted=function(){return!this.g.o},ot.prototype.deleteLater=function(){return this.g.o||xn(this),this.g.ga&&!this.g.ia&&k("Object already scheduled for deletion"),Pt.push(this),Pt.length===1&&Mt&&Mt(bn),this.g.ga=!0,this},Je.prototype.Ob=function(e){return this.nb&&(e=this.nb(e)),e},Je.prototype.Xa=function(e){this.U&&this.U(e)},Je.prototype.argPackAdvance=8,Je.prototype.readValueFromPointer=jt,Je.prototype.deleteObject=function(e){e!==null&&e.delete()},Je.prototype.fromWireType=function(e){function t(){return this.wa?Kt(this.i.M,{u:this.bc,o:n,K:this,G:e}):Kt(this.i.M,{u:this,o:e})}var n=this.Ob(e);if(!n)return this.Xa(e),null;var r=Qr(this.i,n);if(r!==void 0)return r.g.count.value===0?(r.g.o=n,r.g.G=e,r.clone()):(r=r.clone(),this.Xa(e),r);if(r=this.i.Nb(n),r=ur[r],!r)return t.call(this);r=this.va?r.Fb:r.pointerType;var i=sr(n,this.i,r.i);return i===null?t.call(this):this.wa?Kt(r.i.M,{u:r,o:i,K:this,G:e}):Kt(r.i.M,{u:r,o:i})},fr=f.UnboundTypeError=nr("UnboundTypeError");for(var h,Te=0;32>Te;++Te)un.push(Array(Te));var wi=new Float32Array(288);for(Te=0;288>Te;++Te)at[Te]=wi.subarray(0,Te+1);var bi=new Int32Array(288);for(Te=0;288>Te;++Te)Bt[Te]=bi.subarray(0,Te+1);var Tr={__syscall_fcntl64:function(e,t,n){Lt=n;try{var r=it(e);switch(t){case 0:var i=Ke();return 0>i?-28:Qn(r,i).V;case 1:case 2:return 0;case 3:return r.flags;case 4:return i=Ke(),r.flags|=i,0;case 5:return i=Ke(),we[i+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return A[Dr()>>2]=28,-1;default:return-28}}catch(a){if(typeof ft>"u"||a.name!=="ErrnoError")throw a;return-a.Z}},__syscall_ioctl:function(e,t,n){Lt=n;try{var r=it(e);switch(t){case 21509:return r.s?0:-59;case 21505:if(!r.s)return-59;if(r.s.T.Wb){t=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var i=Ke();A[i>>2]=25856,A[i+4>>2]=5,A[i+8>>2]=191,A[i+12>>2]=35387;for(var a=0;32>a;a++)fe[i+a+17>>0]=t[a]||0}return 0;case 21510:case 21511:case 21512:return r.s?0:-59;case 21506:case 21507:case 21508:if(!r.s)return-59;if(r.s.T.Xb)for(i=Ke(),t=[],a=0;32>a;a++)t.push(fe[i+a+17>>0]);return 0;case 21519:return r.s?(i=Ke(),A[i>>2]=0):-59;case 21520:return r.s?-28:-59;case 21531:if(i=Ke(),!r.m.Vb)throw new R(59);return r.m.Vb(r,t,i);case 21523:return r.s?(r.s.T.Yb&&(a=[24,80],i=Ke(),we[i>>1]=a[0],we[i+2>>1]=a[1]),0):-59;case 21524:return r.s?0:-59;case 21515:return r.s?0:-59;default:return-28}}catch(u){if(typeof ft>"u"||u.name!=="ErrnoError")throw u;return-u.Z}},__syscall_openat:function(e,t,n,r){Lt=r;try{t=t?Be(V,t):"";var i=t;if(i.charAt(0)==="/")t=i;else{var a=e===-100?"/":it(e).path;if(i.length==0)throw new R(44);t=nt(a+"/"+i)}var u=r?Ke():0;return Gt(t,n,u).V}catch(c){if(typeof ft>"u"||c.name!=="ErrnoError")throw c;return-c.Z}},_embind_create_inheriting_constructor:function(e,t,n){e=ue(e),t=Tt(t,"wrapper"),n=We(n);var r=[].slice,i=t.i,a=i.M,u=i.A.M,c=i.A.constructor;e=Ht(e,function(){i.A.mb.forEach((function(d){if(this[d]===u[d])throw new rr(`Pure virtual function ${d} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:a}),this.__construct.apply(this,r.call(arguments))}),a.__construct=function(){this===a&&k("Pass correct 'this' to __construct");var d=c.implement.apply(void 0,[this].concat(r.call(arguments)));Xt(d);var b=d.g;d.notifyOnDestruction(),b.ia=!0,Object.defineProperties(this,{g:{value:b}}),pt(this),d=b.o,d=An(i,d),Ze.hasOwnProperty(d)?k(`Tried to register registered instance: ${d}`):Ze[d]=this},a.__destruct=function(){this===a&&k("Pass correct 'this' to __destruct"),Xt(this);var d=this.g.o;d=An(i,d),Ze.hasOwnProperty(d)?delete Ze[d]:k(`Tried to unregister unregistered instance: ${d}`)},e.prototype=Object.create(a);for(var m in n)e.prototype[m]=n[m];return Qe(e)},_embind_finalize_value_object:function(e){var t=Qt[e];delete Qt[e];var n=t.Pa,r=t.U,i=t.$a,a=i.map(u=>u.Rb).concat(i.map(u=>u.fc));Me([e],a,u=>{var c={};return i.forEach((m,d)=>{var b=u[d],E=m.Pb,L=m.Qb,g=u[d+i.length],_=m.ec,C=m.hc;c[m.Lb]={read:j=>b.fromWireType(E(L,j)),write:(j,W)=>{var $=[];_(C,j,g.toWireType($,W)),Ft($)}}}),[{name:t.name,fromWireType:function(m){var d={},b;for(b in c)d[b]=c[b].read(m);return r(m),d},toWireType:function(m,d){for(var b in c)if(!(b in d))throw new TypeError(`Missing field: "${b}"`);var E=n();for(b in c)c[b].write(E,d[b]);return m!==null&&m.push(r,E),E},argPackAdvance:8,readValueFromPointer:jt,J:r}]})},_embind_register_bigint:function(){},_embind_register_bool:function(e,t,n,r,i){var a=Jt(n);t=ue(t),Ge(e,{name:t,fromWireType:function(u){return!!u},toWireType:function(u,c){return c?r:i},argPackAdvance:8,readValueFromPointer:function(u){if(n===1)var c=fe;else if(n===2)c=we;else if(n===4)c=A;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(c[u>>a])},J:null})},_embind_register_class:function(e,t,n,r,i,a,u,c,m,d,b,E,L){b=ue(b),a=be(i,a),c&&(c=be(u,c)),d&&(d=be(m,d)),L=be(E,L);var g=er(b);Sn(g,function(){qe(`Cannot construct ${b} due to unbound types`,[r])}),Me([e,t,n],r?[r]:[],function(_){if(_=_[0],r)var C=_.i,j=C.M;else j=ot.prototype;_=Ht(g,function(){if(Object.getPrototypeOf(this)!==W)throw new mt("Use 'new' to construct "+b);if($.Y===void 0)throw new mt(b+" has no accessible constructor");var oe=$.Y[arguments.length];if(oe===void 0)throw new mt(`Tried to invoke ctor of ${b} with invalid number of parameters (${arguments.length}) - expected (${Object.keys($.Y).toString()}) parameters instead!`);return oe.apply(this,arguments)});var W=Object.create(j,{constructor:{value:_}});_.prototype=W;var $=new Jr(b,_,W,L,C,a,c,d);$.A&&($.A.oa===void 0&&($.A.oa=[]),$.A.oa.push($)),C=new Je(b,$,!0,!1),j=new Je(b+"*",$,!1,!1);var le=new Je(b+" const*",$,!1,!0);return ur[e]={pointerType:j,Fb:le},cr(g,_),[C,j,le]})},_embind_register_class_class_function:function(e,t,n,r,i,a,u){var c=tn(n,r);t=ue(t),a=be(i,a),Me([],[e],function(m){function d(){qe(`Cannot call ${b} due to unbound types`,c)}m=m[0];var b=`${m.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var E=m.i.constructor;return E[t]===void 0?(d.ea=n-1,E[t]=d):(En(E,t,b),E[t].B[n-1]=d),Me([],c,function(L){if(L=en(b,[L[0],null].concat(L.slice(1)),null,a,u),E[t].B===void 0?(L.ea=n-1,E[t]=L):E[t].B[n-1]=L,m.i.oa)for(const g of m.i.oa)g.constructor.hasOwnProperty(t)||(g.constructor[t]=L);return[]}),[]})},_embind_register_class_class_property:function(e,t,n,r,i,a,u,c){t=ue(t),a=be(i,a),Me([],[e],function(m){m=m[0];var d=`${m.name}.${t}`,b={get(){qe(`Cannot access ${d} due to unbound types`,[n])},enumerable:!0,configurable:!0};return b.set=c?()=>{qe(`Cannot access ${d} due to unbound types`,[n])}:()=>{k(`${d} is a read-only property`)},Object.defineProperty(m.i.constructor,t,b),Me([],[n],function(E){E=E[0];var L={get(){return E.fromWireType(a(r))},enumerable:!0};return c&&(c=be(u,c),L.set=g=>{var _=[];c(r,E.toWireType(_,g)),Ft(_)}),Object.defineProperty(m.i.constructor,t,L),[]}),[]})},_embind_register_class_constructor:function(e,t,n,r,i,a){var u=tn(t,n);i=be(r,i),Me([],[e],function(c){c=c[0];var m=`constructor ${c.name}`;if(c.i.Y===void 0&&(c.i.Y=[]),c.i.Y[t-1]!==void 0)throw new mt(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${c.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return c.i.Y[t-1]=()=>{qe(`Cannot construct ${c.name} due to unbound types`,u)},Me([],u,function(d){return d.splice(1,0,null),c.i.Y[t-1]=en(m,d,null,i,a),[]}),[]})},_embind_register_class_function:function(e,t,n,r,i,a,u,c){var m=tn(n,r);t=ue(t),a=be(i,a),Me([],[e],function(d){function b(){qe(`Cannot call ${E} due to unbound types`,m)}d=d[0];var E=`${d.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),c&&d.i.mb.push(t);var L=d.i.M,g=L[t];return g===void 0||g.B===void 0&&g.className!==d.name&&g.ea===n-2?(b.ea=n-2,b.className=d.name,L[t]=b):(En(L,t,E),L[t].B[n-2]=b),Me([],m,function(_){return _=en(E,_,d,a,u),L[t].B===void 0?(_.ea=n-2,L[t]=_):L[t].B[n-2]=_,[]}),[]})},_embind_register_class_property:function(e,t,n,r,i,a,u,c,m,d){t=ue(t),i=be(r,i),Me([],[e],function(b){b=b[0];var E=`${b.name}.${t}`,L={get(){qe(`Cannot access ${E} due to unbound types`,[n,u])},enumerable:!0,configurable:!0};return L.set=m?()=>{qe(`Cannot access ${E} due to unbound types`,[n,u])}:()=>{k(E+" is a read-only property")},Object.defineProperty(b.i.M,t,L),Me([],m?[n,u]:[n],function(g){var _=g[0],C={get(){var W=hr(this,b,E+" getter");return _.fromWireType(i(a,W))},enumerable:!0};if(m){m=be(c,m);var j=g[1];C.set=function(W){var $=hr(this,b,E+" setter"),le=[];m(d,$,j.toWireType(le,W)),Ft(le)}}return Object.defineProperty(b.i.M,t,C),[]}),[]})},_embind_register_emval:function(e,t){t=ue(t),Ge(e,{name:t,fromWireType:function(n){var r=We(n);return Rn(n),r},toWireType:function(n,r){return Qe(r)},argPackAdvance:8,readValueFromPointer:jt,J:null})},_embind_register_enum:function(e,t,n,r){function i(){}n=Jt(n),t=ue(t),i.values={},Ge(e,{name:t,constructor:i,fromWireType:function(a){return this.constructor.values[a]},toWireType:function(a,u){return u.value},argPackAdvance:8,readValueFromPointer:ni(t,n,r),J:null}),Sn(t,i)},_embind_register_enum_value:function(e,t,n){var r=Tt(e,"enum");t=ue(t),e=r.constructor,r=Object.create(r.constructor.prototype,{value:{value:n},constructor:{value:Ht(`${r.name}_${t}`,function(){})}}),e.values[n]=r,e[t]=r},_embind_register_float:function(e,t,n){n=Jt(n),t=ue(t),Ge(e,{name:t,fromWireType:function(r){return r},toWireType:function(r,i){return i},argPackAdvance:8,readValueFromPointer:ri(t,n),J:null})},_embind_register_function:function(e,t,n,r,i,a){var u=tn(t,n);e=ue(e),i=be(r,i),Sn(e,function(){qe(`Cannot call ${e} due to unbound types`,u)},t-1),Me([],u,function(c){return cr(e,en(e,[c[0],null].concat(c.slice(1)),null,i,a),t-1),[]})},_embind_register_integer:function(e,t,n,r,i){t=ue(t),i===-1&&(i=4294967295),i=Jt(n);var a=c=>c;if(r===0){var u=32-8*n;a=c=>c<<u>>>u}n=t.includes("unsigned")?function(c,m){return m>>>0}:function(c,m){return m},Ge(e,{name:t,fromWireType:a,toWireType:n,argPackAdvance:8,readValueFromPointer:ii(t,i,r!==0),J:null})},_embind_register_memory_view:function(e,t,n){function r(a){a>>=2;var u=G;return new i(u.buffer,u[a+1],u[a])}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];n=ue(n),Ge(e,{name:n,fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{Tb:!0})},_embind_register_std_string:function(e,t){t=ue(t);var n=t==="std::string";Ge(e,{name:t,fromWireType:function(r){var i=G[r>>2],a=r+4;if(n)for(var u=a,c=0;c<=i;++c){var m=a+c;if(c==i||V[m]==0){if(u=u?Be(V,u,m-u):"",d===void 0)var d=u;else d+=String.fromCharCode(0),d+=u;u=m+1}}else{for(d=Array(i),c=0;c<i;++c)d[c]=String.fromCharCode(V[a+c]);d=d.join("")}return Ue(r),d},toWireType:function(r,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var a=typeof i=="string";a||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array||k("Cannot pass non-string to std::string");var u=n&&a?mn(i):i.length,c=hn(4+u+1),m=c+4;if(G[c>>2]=u,n&&a)xt(i,V,m,u+1);else if(a)for(a=0;a<u;++a){var d=i.charCodeAt(a);255<d&&(Ue(m),k("String has UTF-16 code units that do not fit in 8 bits")),V[m+a]=d}else for(a=0;a<u;++a)V[m+a]=i[a];return r!==null&&r.push(Ue,c),c},argPackAdvance:8,readValueFromPointer:jt,J:function(r){Ue(r)}})},_embind_register_std_wstring:function(e,t,n){if(n=ue(n),t===2)var r=oi,i=ai,a=si,u=()=>Oe,c=1;else t===4&&(r=ui,i=li,a=ci,u=()=>G,c=2);Ge(e,{name:n,fromWireType:function(m){for(var d=G[m>>2],b=u(),E,L=m+4,g=0;g<=d;++g){var _=m+4+g*t;(g==d||b[_>>c]==0)&&(L=r(L,_-L),E===void 0?E=L:(E+=String.fromCharCode(0),E+=L),L=_+t)}return Ue(m),E},toWireType:function(m,d){typeof d!="string"&&k(`Cannot pass non-string to C++ string type ${n}`);var b=a(d),E=hn(4+b+t);return G[E>>2]=b>>c,i(d,E+4,b+t),m!==null&&m.push(Ue,E),E},argPackAdvance:8,readValueFromPointer:jt,J:function(m){Ue(m)}})},_embind_register_value_object:function(e,t,n,r,i,a){Qt[e]={name:ue(t),Pa:be(n,r),U:be(i,a),$a:[]}},_embind_register_value_object_field:function(e,t,n,r,i,a,u,c,m,d){Qt[e].$a.push({Lb:ue(t),Rb:n,Pb:be(r,i),Qb:a,fc:u,ec:be(c,m),hc:d})},_embind_register_void:function(e,t){t=ue(t),Ge(e,{Zb:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emscripten_throw_longjmp:()=>{throw 1/0},_emval_as:function(e,t,n){e=We(e),t=Tt(t,"emval::as");var r=[],i=Qe(r);return G[n>>2]=i,t.toWireType(r,e)},_emval_call_method:function(e,t,n,r,i){e=nn[e],t=We(t),n=Pn(n);var a=[];return G[r>>2]=Qe(a),e(t,n,a,i)},_emval_call_void_method:function(e,t,n,r){e=nn[e],t=We(t),n=Pn(n),e(t,n,null,r)},_emval_decref:Rn,_emval_get_method_caller:function(e,t){var n=di(e,t),r=n[0];t=r.name+"_$"+n.slice(1).map(function(u){return u.name}).join("_")+"$";var i=vr[t];if(i!==void 0)return i;var a=Array(e-1);return i=hi((u,c,m,d)=>{for(var b=0,E=0;E<e-1;++E)a[E]=n[E+1].readValueFromPointer(d+b),b+=n[E+1].argPackAdvance;for(u=u[c].apply(u,a),E=0;E<e-1;++E)n[E+1].Hb&&n[E+1].Hb(a[E]);if(!r.Zb)return r.toWireType(m,u)}),vr[t]=i},_emval_get_property:function(e,t){return e=We(e),t=We(t),Qe(e[t])},_emval_incref:function(e){4<e&&(De.get(e).pb+=1)},_emval_new_cstring:function(e){return Qe(Pn(e))},_emval_new_object:function(){return Qe({})},_emval_run_destructors:function(e){var t=We(e);Ft(t),Rn(e)},_emval_set_property:function(e,t,n){e=We(e),t=We(t),n=We(n),e[t]=n},_emval_take_value:function(e,t){return e=Tt(e,"_emval_take_value"),e=e.readValueFromPointer(t),Qe(e)},abort:()=>{x("")},emscripten_asm_const_int:(e,t,n)=>{Mn.length=0;var r;for(n>>=2;r=V[t++];)n+=r!=105&n,Mn.push(r==105?A[n]:Ve[n++>>1]),++n;return lt[e].apply(null,Mn)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_glActiveTexture:function(e){h.activeTexture(e)},emscripten_glAttachShader:function(e,t){h.attachShader($e[e],Ne[t])},emscripten_glBindAttribLocation:function(e,t,n){h.bindAttribLocation($e[e],t,n?Be(V,n):"")},emscripten_glBindBuffer:function(e,t){e==35051?h.Ka=t:e==35052&&(h.fa=t),h.bindBuffer(e,rn[t])},emscripten_glBindFramebuffer:_r,emscripten_glBindRenderbuffer:function(e,t){h.bindRenderbuffer(e,It[t])},emscripten_glBindSampler:function(e,t){h.bindSampler(e,_t[t])},emscripten_glBindTexture:function(e,t){h.bindTexture(e,yt[t])},emscripten_glBindVertexArray:wr,emscripten_glBindVertexArrayOES:wr,emscripten_glBlendColor:function(e,t,n,r){h.blendColor(e,t,n,r)},emscripten_glBlendEquation:function(e){h.blendEquation(e)},emscripten_glBlendFunc:function(e,t){h.blendFunc(e,t)},emscripten_glBlitFramebuffer:function(e,t,n,r,i,a,u,c,m,d){h.blitFramebuffer(e,t,n,r,i,a,u,c,m,d)},emscripten_glBufferData:function(e,t,n,r){2<=q.version?n&&t?h.bufferData(e,V,r,n,t):h.bufferData(e,t,r):h.bufferData(e,n?V.subarray(n,n+t):t,r)},emscripten_glBufferSubData:function(e,t,n,r){2<=q.version?n&&h.bufferSubData(e,t,V,r,n):h.bufferSubData(e,t,V.subarray(r,r+n))},emscripten_glCheckFramebufferStatus:function(e){return h.checkFramebufferStatus(e)},emscripten_glClear:function(e){h.clear(e)},emscripten_glClearColor:function(e,t,n,r){h.clearColor(e,t,n,r)},emscripten_glClearStencil:function(e){h.clearStencil(e)},emscripten_glClientWaitSync:function(e,t,n,r){return h.clientWaitSync(dt[e],t,(n>>>0)+4294967296*r)},emscripten_glColorMask:function(e,t,n,r){h.colorMask(!!e,!!t,!!n,!!r)},emscripten_glCompileShader:function(e){h.compileShader(Ne[e])},emscripten_glCompressedTexImage2D:function(e,t,n,r,i,a,u,c){2<=q.version?h.fa||!u?h.compressedTexImage2D(e,t,n,r,i,a,u,c):h.compressedTexImage2D(e,t,n,r,i,a,V,c,u):h.compressedTexImage2D(e,t,n,r,i,a,c?V.subarray(c,c+u):null)},emscripten_glCompressedTexSubImage2D:function(e,t,n,r,i,a,u,c,m){2<=q.version?h.fa||!c?h.compressedTexSubImage2D(e,t,n,r,i,a,u,c,m):h.compressedTexSubImage2D(e,t,n,r,i,a,u,V,m,c):h.compressedTexSubImage2D(e,t,n,r,i,a,u,m?V.subarray(m,m+c):null)},emscripten_glCopyTexSubImage2D:function(e,t,n,r,i,a,u,c){h.copyTexSubImage2D(e,t,n,r,i,a,u,c)},emscripten_glCreateProgram:function(){var e=Dt($e),t=h.createProgram();return t.name=e,t.za=t.xa=t.ya=0,t.Sa=1,$e[e]=t,e},emscripten_glCreateShader:function(e){var t=Dt(Ne);return Ne[t]=h.createShader(e),t},emscripten_glCullFace:function(e){h.cullFace(e)},emscripten_glDeleteBuffers:function(e,t){for(var n=0;n<e;n++){var r=A[t+4*n>>2],i=rn[r];i&&(h.deleteBuffer(i),i.name=0,rn[r]=null,r==h.Ka&&(h.Ka=0),r==h.fa&&(h.fa=0))}},emscripten_glDeleteFramebuffers:function(e,t){for(var n=0;n<e;++n){var r=A[t+4*n>>2],i=on[r];i&&(h.deleteFramebuffer(i),i.name=0,on[r]=null)}},emscripten_glDeleteProgram:function(e){if(e){var t=$e[e];t?(h.deleteProgram(t),t.name=0,$e[e]=null):ie(1281)}},emscripten_glDeleteRenderbuffers:function(e,t){for(var n=0;n<e;n++){var r=A[t+4*n>>2],i=It[r];i&&(h.deleteRenderbuffer(i),i.name=0,It[r]=null)}},emscripten_glDeleteSamplers:function(e,t){for(var n=0;n<e;n++){var r=A[t+4*n>>2],i=_t[r];i&&(h.deleteSampler(i),i.name=0,_t[r]=null)}},emscripten_glDeleteShader:function(e){if(e){var t=Ne[e];t?(h.deleteShader(t),Ne[e]=null):ie(1281)}},emscripten_glDeleteSync:function(e){if(e){var t=dt[e];t?(h.deleteSync(t),t.name=0,dt[e]=null):ie(1281)}},emscripten_glDeleteTextures:function(e,t){for(var n=0;n<e;n++){var r=A[t+4*n>>2],i=yt[r];i&&(h.deleteTexture(i),i.name=0,yt[r]=null)}},emscripten_glDeleteVertexArrays:br,emscripten_glDeleteVertexArraysOES:br,emscripten_glDepthMask:function(e){h.depthMask(!!e)},emscripten_glDisable:function(e){h.disable(e)},emscripten_glDisableVertexAttribArray:function(e){h.disableVertexAttribArray(e)},emscripten_glDrawArrays:function(e,t,n){h.drawArrays(e,t,n)},emscripten_glDrawArraysInstanced:function(e,t,n,r){h.drawArraysInstanced(e,t,n,r)},emscripten_glDrawArraysInstancedBaseInstanceWEBGL:function(e,t,n,r,i){h.Ya.drawArraysInstancedBaseInstanceWEBGL(e,t,n,r,i)},emscripten_glDrawBuffers:function(e,t){for(var n=un[e],r=0;r<e;r++)n[r]=A[t+4*r>>2];h.drawBuffers(n)},emscripten_glDrawElements:Ar,emscripten_glDrawElementsInstanced:function(e,t,n,r,i){h.drawElementsInstanced(e,t,n,r,i)},emscripten_glDrawElementsInstancedBaseVertexBaseInstanceWEBGL:function(e,t,n,r,i,a,u){h.Ya.drawElementsInstancedBaseVertexBaseInstanceWEBGL(e,t,n,r,i,a,u)},emscripten_glDrawRangeElements:function(e,t,n,r,i,a){Ar(e,r,i,a)},emscripten_glEnable:function(e){h.enable(e)},emscripten_glEnableVertexAttribArray:function(e){h.enableVertexAttribArray(e)},emscripten_glFenceSync:function(e,t){return(e=h.fenceSync(e,t))?(t=Dt(dt),e.name=t,dt[t]=e,t):0},emscripten_glFinish:function(){h.finish()},emscripten_glFlush:function(){h.flush()},emscripten_glFramebufferRenderbuffer:function(e,t,n,r){h.framebufferRenderbuffer(e,t,n,It[r])},emscripten_glFramebufferTexture2D:function(e,t,n,r,i){h.framebufferTexture2D(e,t,n,yt[r],i)},emscripten_glFrontFace:function(e){h.frontFace(e)},emscripten_glGenBuffers:function(e,t){wt(e,t,"createBuffer",rn)},emscripten_glGenFramebuffers:function(e,t){wt(e,t,"createFramebuffer",on)},emscripten_glGenRenderbuffers:function(e,t){wt(e,t,"createRenderbuffer",It)},emscripten_glGenSamplers:function(e,t){wt(e,t,"createSampler",_t)},emscripten_glGenTextures:function(e,t){wt(e,t,"createTexture",yt)},emscripten_glGenVertexArrays:Cr,emscripten_glGenVertexArraysOES:Cr,emscripten_glGenerateMipmap:function(e){h.generateMipmap(e)},emscripten_glGetBufferParameteriv:function(e,t,n){n?A[n>>2]=h.getBufferParameter(e,t):ie(1281)},emscripten_glGetError:function(){var e=h.getError()||sn;return sn=0,e},emscripten_glGetFramebufferAttachmentParameteriv:function(e,t,n,r){e=h.getFramebufferAttachmentParameter(e,t,n),(e instanceof WebGLRenderbuffer||e instanceof WebGLTexture)&&(e=e.name|0),A[r>>2]=e},emscripten_glGetIntegerv:xr,emscripten_glGetProgramInfoLog:function(e,t,n,r){e=h.getProgramInfoLog($e[e]),e===null&&(e="(unknown error)"),t=0<t&&r?xt(e,V,r,t):0,n&&(A[n>>2]=t)},emscripten_glGetProgramiv:function(e,t,n){if(n)if(e>=mr)ie(1281);else if(e=$e[e],t==35716)e=h.getProgramInfoLog(e),e===null&&(e="(unknown error)"),A[n>>2]=e.length+1;else if(t==35719){if(!e.za)for(t=0;t<h.getProgramParameter(e,35718);++t)e.za=Math.max(e.za,h.getActiveUniform(e,t).name.length+1);A[n>>2]=e.za}else if(t==35722){if(!e.xa)for(t=0;t<h.getProgramParameter(e,35721);++t)e.xa=Math.max(e.xa,h.getActiveAttrib(e,t).name.length+1);A[n>>2]=e.xa}else if(t==35381){if(!e.ya)for(t=0;t<h.getProgramParameter(e,35382);++t)e.ya=Math.max(e.ya,h.getActiveUniformBlockName(e,t).length+1);A[n>>2]=e.ya}else A[n>>2]=h.getProgramParameter(e,t);else ie(1281)},emscripten_glGetRenderbufferParameteriv:function(e,t,n){n?A[n>>2]=h.getRenderbufferParameter(e,t):ie(1281)},emscripten_glGetShaderInfoLog:function(e,t,n,r){e=h.getShaderInfoLog(Ne[e]),e===null&&(e="(unknown error)"),t=0<t&&r?xt(e,V,r,t):0,n&&(A[n>>2]=t)},emscripten_glGetShaderPrecisionFormat:function(e,t,n,r){e=h.getShaderPrecisionFormat(e,t),A[n>>2]=e.rangeMin,A[n+4>>2]=e.rangeMax,A[r>>2]=e.precision},emscripten_glGetShaderiv:function(e,t,n){n?t==35716?(e=h.getShaderInfoLog(Ne[e]),e===null&&(e="(unknown error)"),A[n>>2]=e?e.length+1:0):t==35720?(e=h.getShaderSource(Ne[e]),A[n>>2]=e?e.length+1:0):A[n>>2]=h.getShaderParameter(Ne[e],t):ie(1281)},emscripten_glGetString:function(e){var t=pr[e];if(!t){switch(e){case 7939:t=h.getSupportedExtensions()||[],t=t.concat(t.map(function(r){return"GL_"+r})),t=Ot(t.join(" "));break;case 7936:case 7937:case 37445:case 37446:(t=h.getParameter(e))||ie(1280),t=t&&Ot(t);break;case 7938:t=h.getParameter(7938),t=2<=q.version?"OpenGL ES 3.0 ("+t+")":"OpenGL ES 2.0 ("+t+")",t=Ot(t);break;case 35724:t=h.getParameter(35724);var n=t.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);n!==null&&(n[1].length==3&&(n[1]+="0"),t="OpenGL ES GLSL ES "+n[1]+" ("+t+")"),t=Ot(t);break;default:ie(1280)}pr[e]=t}return t},emscripten_glGetStringi:function(e,t){if(2>q.version)return ie(1282),0;var n=gr[e];if(n)return 0>t||t>=n.length?(ie(1281),0):n[t];switch(e){case 7939:return n=h.getSupportedExtensions()||[],n=n.concat(n.map(function(r){return"GL_"+r})),n=n.map(function(r){return Ot(r)}),n=gr[e]=n,0>t||t>=n.length?(ie(1281),0):n[t];default:return ie(1280),0}},emscripten_glGetUniformLocation:function(e,t){if(t=t?Be(V,t):"",e=$e[e]){var n=e,r=n.ma,i=n.ub,a;if(!r)for(n.ma=r={},n.tb={},a=0;a<h.getProgramParameter(n,35718);++a){var u=h.getActiveUniform(n,a),c=u.name;u=u.size;var m=Er(c);m=0<m?c.slice(0,m):c;var d=n.Sa;for(n.Sa+=u,i[m]=[u,d],c=0;c<u;++c)r[d]=c,n.tb[d++]=m}if(n=e.ma,r=0,i=t,a=Er(t),0<a&&(r=parseInt(t.slice(a+1))>>>0,i=t.slice(0,a)),(i=e.ub[i])&&r<i[0]&&(r+=i[1],n[r]=n[r]||h.getUniformLocation(e,t)))return r}else ie(1281);return-1},emscripten_glInvalidateFramebuffer:function(e,t,n){for(var r=un[t],i=0;i<t;i++)r[i]=A[n+4*i>>2];h.invalidateFramebuffer(e,r)},emscripten_glInvalidateSubFramebuffer:function(e,t,n,r,i,a,u){for(var c=un[t],m=0;m<t;m++)c[m]=A[n+4*m>>2];h.invalidateSubFramebuffer(e,c,r,i,a,u)},emscripten_glIsSync:function(e){return h.isSync(dt[e])},emscripten_glIsTexture:function(e){return(e=yt[e])?h.isTexture(e):0},emscripten_glLineWidth:function(e){h.lineWidth(e)},emscripten_glLinkProgram:function(e){e=$e[e],h.linkProgram(e),e.ma=0,e.ub={}},emscripten_glMultiDrawArraysInstancedBaseInstanceWEBGL:function(e,t,n,r,i,a){h.gb.multiDrawArraysInstancedBaseInstanceWEBGL(e,A,t>>2,A,n>>2,A,r>>2,G,i>>2,a)},emscripten_glMultiDrawElementsInstancedBaseVertexBaseInstanceWEBGL:function(e,t,n,r,i,a,u,c){h.gb.multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL(e,A,t>>2,n,A,r>>2,A,i>>2,A,a>>2,G,u>>2,c)},emscripten_glPixelStorei:function(e,t){e==3317&&(yr=t),h.pixelStorei(e,t)},emscripten_glReadBuffer:function(e){h.readBuffer(e)},emscripten_glReadPixels:function(e,t,n,r,i,a,u){if(2<=q.version)if(h.Ka)h.readPixels(e,t,n,r,i,a,u);else{var c=ln(a);h.readPixels(e,t,n,r,i,a,c,u>>31-Math.clz32(c.BYTES_PER_ELEMENT))}else(u=jn(a,i,n,r,u))?h.readPixels(e,t,n,r,i,a,u):ie(1280)},emscripten_glRenderbufferStorage:function(e,t,n,r){h.renderbufferStorage(e,t,n,r)},emscripten_glRenderbufferStorageMultisample:function(e,t,n,r,i){h.renderbufferStorageMultisample(e,t,n,r,i)},emscripten_glSamplerParameteri:function(e,t,n){h.samplerParameteri(_t[e],t,n)},emscripten_glSamplerParameteriv:function(e,t,n){h.samplerParameteri(_t[e],t,A[n>>2])},emscripten_glScissor:function(e,t,n,r){h.scissor(e,t,n,r)},emscripten_glShaderSource:function(e,t,n,r){for(var i="",a=0;a<t;++a){var u=r?A[r+4*a>>2]:-1,c=A[n+4*a>>2];u=c?Be(V,c,0>u?void 0:u):"",i+=u}h.shaderSource(Ne[e],i)},emscripten_glStencilFunc:function(e,t,n){h.stencilFunc(e,t,n)},emscripten_glStencilFuncSeparate:function(e,t,n,r){h.stencilFuncSeparate(e,t,n,r)},emscripten_glStencilMask:function(e){h.stencilMask(e)},emscripten_glStencilMaskSeparate:function(e,t){h.stencilMaskSeparate(e,t)},emscripten_glStencilOp:function(e,t,n){h.stencilOp(e,t,n)},emscripten_glStencilOpSeparate:function(e,t,n,r){h.stencilOpSeparate(e,t,n,r)},emscripten_glTexImage2D:function(e,t,n,r,i,a,u,c,m){if(2<=q.version)if(h.fa)h.texImage2D(e,t,n,r,i,a,u,c,m);else if(m){var d=ln(c);h.texImage2D(e,t,n,r,i,a,u,c,d,m>>31-Math.clz32(d.BYTES_PER_ELEMENT))}else h.texImage2D(e,t,n,r,i,a,u,c,null);else h.texImage2D(e,t,n,r,i,a,u,c,m?jn(c,u,r,i,m):null)},emscripten_glTexParameterf:function(e,t,n){h.texParameterf(e,t,n)},emscripten_glTexParameterfv:function(e,t,n){h.texParameterf(e,t,M[n>>2])},emscripten_glTexParameteri:function(e,t,n){h.texParameteri(e,t,n)},emscripten_glTexParameteriv:function(e,t,n){h.texParameteri(e,t,A[n>>2])},emscripten_glTexStorage2D:function(e,t,n,r,i){h.texStorage2D(e,t,n,r,i)},emscripten_glTexSubImage2D:function(e,t,n,r,i,a,u,c,m){if(2<=q.version)if(h.fa)h.texSubImage2D(e,t,n,r,i,a,u,c,m);else if(m){var d=ln(c);h.texSubImage2D(e,t,n,r,i,a,u,c,d,m>>31-Math.clz32(d.BYTES_PER_ELEMENT))}else h.texSubImage2D(e,t,n,r,i,a,u,c,null);else d=null,m&&(d=jn(c,u,i,a,m)),h.texSubImage2D(e,t,n,r,i,a,u,c,d)},emscripten_glUniform1f:function(e,t){h.uniform1f(Z(e),t)},emscripten_glUniform1fv:function(e,t,n){if(2<=q.version)t&&h.uniform1fv(Z(e),M,n>>2,t);else{if(288>=t)for(var r=at[t-1],i=0;i<t;++i)r[i]=M[n+4*i>>2];else r=M.subarray(n>>2,n+4*t>>2);h.uniform1fv(Z(e),r)}},emscripten_glUniform1i:function(e,t){h.uniform1i(Z(e),t)},emscripten_glUniform1iv:function(e,t,n){if(2<=q.version)t&&h.uniform1iv(Z(e),A,n>>2,t);else{if(288>=t)for(var r=Bt[t-1],i=0;i<t;++i)r[i]=A[n+4*i>>2];else r=A.subarray(n>>2,n+4*t>>2);h.uniform1iv(Z(e),r)}},emscripten_glUniform2f:function(e,t,n){h.uniform2f(Z(e),t,n)},emscripten_glUniform2fv:function(e,t,n){if(2<=q.version)t&&h.uniform2fv(Z(e),M,n>>2,2*t);else{if(144>=t)for(var r=at[2*t-1],i=0;i<2*t;i+=2)r[i]=M[n+4*i>>2],r[i+1]=M[n+(4*i+4)>>2];else r=M.subarray(n>>2,n+8*t>>2);h.uniform2fv(Z(e),r)}},emscripten_glUniform2i:function(e,t,n){h.uniform2i(Z(e),t,n)},emscripten_glUniform2iv:function(e,t,n){if(2<=q.version)t&&h.uniform2iv(Z(e),A,n>>2,2*t);else{if(144>=t)for(var r=Bt[2*t-1],i=0;i<2*t;i+=2)r[i]=A[n+4*i>>2],r[i+1]=A[n+(4*i+4)>>2];else r=A.subarray(n>>2,n+8*t>>2);h.uniform2iv(Z(e),r)}},emscripten_glUniform3f:function(e,t,n,r){h.uniform3f(Z(e),t,n,r)},emscripten_glUniform3fv:function(e,t,n){if(2<=q.version)t&&h.uniform3fv(Z(e),M,n>>2,3*t);else{if(96>=t)for(var r=at[3*t-1],i=0;i<3*t;i+=3)r[i]=M[n+4*i>>2],r[i+1]=M[n+(4*i+4)>>2],r[i+2]=M[n+(4*i+8)>>2];else r=M.subarray(n>>2,n+12*t>>2);h.uniform3fv(Z(e),r)}},emscripten_glUniform3i:function(e,t,n,r){h.uniform3i(Z(e),t,n,r)},emscripten_glUniform3iv:function(e,t,n){if(2<=q.version)t&&h.uniform3iv(Z(e),A,n>>2,3*t);else{if(96>=t)for(var r=Bt[3*t-1],i=0;i<3*t;i+=3)r[i]=A[n+4*i>>2],r[i+1]=A[n+(4*i+4)>>2],r[i+2]=A[n+(4*i+8)>>2];else r=A.subarray(n>>2,n+12*t>>2);h.uniform3iv(Z(e),r)}},emscripten_glUniform4f:function(e,t,n,r,i){h.uniform4f(Z(e),t,n,r,i)},emscripten_glUniform4fv:function(e,t,n){if(2<=q.version)t&&h.uniform4fv(Z(e),M,n>>2,4*t);else{if(72>=t){var r=at[4*t-1],i=M;n>>=2;for(var a=0;a<4*t;a+=4){var u=n+a;r[a]=i[u],r[a+1]=i[u+1],r[a+2]=i[u+2],r[a+3]=i[u+3]}}else r=M.subarray(n>>2,n+16*t>>2);h.uniform4fv(Z(e),r)}},emscripten_glUniform4i:function(e,t,n,r,i){h.uniform4i(Z(e),t,n,r,i)},emscripten_glUniform4iv:function(e,t,n){if(2<=q.version)t&&h.uniform4iv(Z(e),A,n>>2,4*t);else{if(72>=t)for(var r=Bt[4*t-1],i=0;i<4*t;i+=4)r[i]=A[n+4*i>>2],r[i+1]=A[n+(4*i+4)>>2],r[i+2]=A[n+(4*i+8)>>2],r[i+3]=A[n+(4*i+12)>>2];else r=A.subarray(n>>2,n+16*t>>2);h.uniform4iv(Z(e),r)}},emscripten_glUniformMatrix2fv:function(e,t,n,r){if(2<=q.version)t&&h.uniformMatrix2fv(Z(e),!!n,M,r>>2,4*t);else{if(72>=t)for(var i=at[4*t-1],a=0;a<4*t;a+=4)i[a]=M[r+4*a>>2],i[a+1]=M[r+(4*a+4)>>2],i[a+2]=M[r+(4*a+8)>>2],i[a+3]=M[r+(4*a+12)>>2];else i=M.subarray(r>>2,r+16*t>>2);h.uniformMatrix2fv(Z(e),!!n,i)}},emscripten_glUniformMatrix3fv:function(e,t,n,r){if(2<=q.version)t&&h.uniformMatrix3fv(Z(e),!!n,M,r>>2,9*t);else{if(32>=t)for(var i=at[9*t-1],a=0;a<9*t;a+=9)i[a]=M[r+4*a>>2],i[a+1]=M[r+(4*a+4)>>2],i[a+2]=M[r+(4*a+8)>>2],i[a+3]=M[r+(4*a+12)>>2],i[a+4]=M[r+(4*a+16)>>2],i[a+5]=M[r+(4*a+20)>>2],i[a+6]=M[r+(4*a+24)>>2],i[a+7]=M[r+(4*a+28)>>2],i[a+8]=M[r+(4*a+32)>>2];else i=M.subarray(r>>2,r+36*t>>2);h.uniformMatrix3fv(Z(e),!!n,i)}},emscripten_glUniformMatrix4fv:function(e,t,n,r){if(2<=q.version)t&&h.uniformMatrix4fv(Z(e),!!n,M,r>>2,16*t);else{if(18>=t){var i=at[16*t-1],a=M;r>>=2;for(var u=0;u<16*t;u+=16){var c=r+u;i[u]=a[c],i[u+1]=a[c+1],i[u+2]=a[c+2],i[u+3]=a[c+3],i[u+4]=a[c+4],i[u+5]=a[c+5],i[u+6]=a[c+6],i[u+7]=a[c+7],i[u+8]=a[c+8],i[u+9]=a[c+9],i[u+10]=a[c+10],i[u+11]=a[c+11],i[u+12]=a[c+12],i[u+13]=a[c+13],i[u+14]=a[c+14],i[u+15]=a[c+15]}}else i=M.subarray(r>>2,r+64*t>>2);h.uniformMatrix4fv(Z(e),!!n,i)}},emscripten_glUseProgram:function(e){e=$e[e],h.useProgram(e),h.Gb=e},emscripten_glVertexAttrib1f:function(e,t){h.vertexAttrib1f(e,t)},emscripten_glVertexAttrib2fv:function(e,t){h.vertexAttrib2f(e,M[t>>2],M[t+4>>2])},emscripten_glVertexAttrib3fv:function(e,t){h.vertexAttrib3f(e,M[t>>2],M[t+4>>2],M[t+8>>2])},emscripten_glVertexAttrib4fv:function(e,t){h.vertexAttrib4f(e,M[t>>2],M[t+4>>2],M[t+8>>2],M[t+12>>2])},emscripten_glVertexAttribDivisor:function(e,t){h.vertexAttribDivisor(e,t)},emscripten_glVertexAttribIPointer:function(e,t,n,r,i){h.vertexAttribIPointer(e,t,n,r,i)},emscripten_glVertexAttribPointer:function(e,t,n,r,i,a){h.vertexAttribPointer(e,t,n,!!r,i,a)},emscripten_glViewport:function(e,t,n,r){h.viewport(e,t,n,r)},emscripten_glWaitSync:function(e,t,n,r){h.waitSync(dt[e],t,(n>>>0)+4294967296*r)},emscripten_memcpy_big:(e,t,n)=>V.copyWithin(e,t,t+n),emscripten_resize_heap:e=>{var t=V.length;if(e>>>=0,2147483648<e)return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var i=Math;r=Math.max(e,r);e:{i=i.min.call(i,2147483648,r+(65536-r%65536)%65536)-_e.buffer.byteLength+65535>>>16;try{_e.grow(i),Xe();var a=1;break e}catch{}a=void 0}if(a)return!0}return!1},emscripten_webgl_get_current_context:function(){return q?q.handle:0},emscripten_webgl_make_context_current:function(e){return Fn(e)?0:-5},environ_get:(e,t)=>{var n=0;return Sr().forEach(function(r,i){var a=t+n;for(i=G[e+4*i>>2]=a,a=0;a<r.length;++a)fe[i++>>0]=r.charCodeAt(a);fe[i>>0]=0,n+=r.length+1}),0},environ_sizes_get:(e,t)=>{var n=Sr();G[e>>2]=n.length;var r=0;return n.forEach(function(i){r+=i.length+1}),G[t>>2]=r,0},fd_close:function(e){try{var t=it(e);if(t.V===null)throw new R(8);t.Ma&&(t.Ma=null);try{t.m.close&&t.m.close(t)}catch(n){throw n}finally{Wt[t.V]=null}return t.V=null,0}catch(n){if(typeof ft>"u"||n.name!=="ErrnoError")throw n;return n.Z}},fd_read:function(e,t,n,r){try{e:{var i=it(e);e=t;for(var a,u=t=0;u<n;u++){var c=G[e>>2],m=G[e+4>>2];e+=8;var d=i,b=c,E=m,L=a,g=fe;if(0>E||0>L)throw new R(28);if(d.V===null)throw new R(8);if((d.flags&2097155)===1)throw new R(8);if((d.node.mode&61440)===16384)throw new R(31);if(!d.m.read)throw new R(28);var _=typeof L<"u";if(!_)L=d.position;else if(!d.seekable)throw new R(70);var C=d.m.read(d,g,b,E,L);_||(d.position+=C);var j=C;if(0>j){var W=-1;break e}if(t+=j,j<m)break;typeof a<"u"&&(a+=j)}W=t}return G[r>>2]=W,0}catch($){if(typeof ft>"u"||$.name!=="ErrnoError")throw $;return $.Z}},fd_seek:function(e,t,n,r,i){t=n+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*n:NaN;try{if(isNaN(t))return 61;var a=it(e);return Jn(a,t,r),Pe=[a.position>>>0,(Ie=a.position,1<=+Math.abs(Ie)?0<Ie?+Math.floor(Ie/4294967296)>>>0:~~+Math.ceil((Ie-+(~~Ie>>>0))/4294967296)>>>0:0)],A[i>>2]=Pe[0],A[i+4>>2]=Pe[1],a.Ma&&t===0&&r===0&&(a.Ma=null),0}catch(u){if(typeof ft>"u"||u.name!=="ErrnoError")throw u;return u.Z}},fd_write:function(e,t,n,r){try{e:{var i=it(e);e=t;for(var a,u=t=0;u<n;u++){var c=G[e>>2],m=G[e+4>>2];e+=8;var d=i,b=c,E=m,L=a,g=fe;if(0>E||0>L)throw new R(28);if(d.V===null)throw new R(8);if(!(d.flags&2097155))throw new R(8);if((d.node.mode&61440)===16384)throw new R(31);if(!d.m.write)throw new R(28);d.seekable&&d.flags&1024&&Jn(d,0,2);var _=typeof L<"u";if(!_)L=d.position;else if(!d.seekable)throw new R(70);var C=d.m.write(d,g,b,E,L,void 0);_||(d.position+=C);var j=C;if(0>j){var W=-1;break e}t+=j,typeof a<"u"&&(a+=j)}W=t}return G[r>>2]=W,0}catch($){if(typeof ft>"u"||$.name!=="ErrnoError")throw $;return $.Z}},glBindFramebuffer:_r,glGetIntegerv:xr,invoke_ii:Ai,invoke_iii:Mi,invoke_iiii:Ei,invoke_iiiii:ji,invoke_iiiiii:Di,invoke_iiiiiii:Pi,invoke_iiiiiiiiii:Fi,invoke_v:Li,invoke_vi:xi,invoke_vii:Ci,invoke_viii:Si,invoke_viiii:Ri,invoke_viiiiii:Oi,invoke_viiiiiii:Ti,invoke_viiiiiiii:Ii,strftime_l:(e,t,n,r)=>_i(e,t,n,r)};(function(){function e(n){if(N=n=n.exports,_e=N.memory,Xe(),tt=N.__indirect_function_table,o.unshift(N.__wasm_call_ctors),y--,f.monitorRunDependencies&&f.monitorRunDependencies(y),y==0&&w){var r=w;w=null,r()}return n}var t={env:Tr,wasi_snapshot_preview1:Tr};if(y++,f.monitorRunDependencies&&f.monitorRunDependencies(y),f.instantiateWasm)try{return f.instantiateWasm(t,e)}catch(n){z("Module.instantiateWasm callback failed with error: "+n),J(n)}return ge(t,function(n){e(n.instance)}).catch(J),{}})();var Ue=e=>(Ue=N.free)(e),hn=e=>(hn=N.malloc)(e),Fr=f._ma_device__on_notification_unlocked=e=>(Fr=f._ma_device__on_notification_unlocked=N.ma_device__on_notification_unlocked)(e);f._ma_malloc_emscripten=(e,t)=>(f._ma_malloc_emscripten=N.ma_malloc_emscripten)(e,t),f._ma_free_emscripten=(e,t)=>(f._ma_free_emscripten=N.ma_free_emscripten)(e,t);var jr=f._ma_device_process_pcm_frames_capture__webaudio=(e,t,n)=>(jr=f._ma_device_process_pcm_frames_capture__webaudio=N.ma_device_process_pcm_frames_capture__webaudio)(e,t,n),Ir=f._ma_device_process_pcm_frames_playback__webaudio=(e,t,n)=>(Ir=f._ma_device_process_pcm_frames_playback__webaudio=N.ma_device_process_pcm_frames_playback__webaudio)(e,t,n),Dr=()=>(Dr=N.__errno_location)(),Or=e=>(Or=N.__getTypeName)(e);f.__embind_initialize_bindings=()=>(f.__embind_initialize_bindings=N._embind_initialize_bindings)();var Br=(e,t)=>(Br=N.emscripten_builtin_memalign)(e,t),Ae=(e,t)=>(Ae=N.setThrew)(e,t),Ce=()=>(Ce=N.stackSave)(),xe=e=>(xe=N.stackRestore)(e);f.dynCall_iiiij=(e,t,n,r,i,a)=>(f.dynCall_iiiij=N.dynCall_iiiij)(e,t,n,r,i,a),f.dynCall_viiij=(e,t,n,r,i,a)=>(f.dynCall_viiij=N.dynCall_viiij)(e,t,n,r,i,a),f.dynCall_iiij=(e,t,n,r,i)=>(f.dynCall_iiij=N.dynCall_iiij)(e,t,n,r,i),f.dynCall_viij=(e,t,n,r,i)=>(f.dynCall_viij=N.dynCall_viij)(e,t,n,r,i),f.dynCall_iiji=(e,t,n,r,i)=>(f.dynCall_iiji=N.dynCall_iiji)(e,t,n,r,i),f.dynCall_jiji=(e,t,n,r,i)=>(f.dynCall_jiji=N.dynCall_jiji)(e,t,n,r,i),f.dynCall_iiiji=(e,t,n,r,i,a)=>(f.dynCall_iiiji=N.dynCall_iiiji)(e,t,n,r,i,a),f.dynCall_iij=(e,t,n,r)=>(f.dynCall_iij=N.dynCall_iij)(e,t,n,r),f.dynCall_jii=(e,t,n)=>(f.dynCall_jii=N.dynCall_jii)(e,t,n),f.dynCall_viiiiij=(e,t,n,r,i,a,u,c)=>(f.dynCall_viiiiij=N.dynCall_viiiiij)(e,t,n,r,i,a,u,c),f.dynCall_viji=(e,t,n,r,i)=>(f.dynCall_viji=N.dynCall_viji)(e,t,n,r,i),f.dynCall_ji=(e,t)=>(f.dynCall_ji=N.dynCall_ji)(e,t),f.dynCall_vij=(e,t,n,r)=>(f.dynCall_vij=N.dynCall_vij)(e,t,n,r),f.dynCall_viijii=(e,t,n,r,i,a,u)=>(f.dynCall_viijii=N.dynCall_viijii)(e,t,n,r,i,a,u),f.dynCall_iiiiij=(e,t,n,r,i,a,u)=>(f.dynCall_iiiiij=N.dynCall_iiiiij)(e,t,n,r,i,a,u),f.dynCall_iiiiijj=(e,t,n,r,i,a,u,c,m)=>(f.dynCall_iiiiijj=N.dynCall_iiiiijj)(e,t,n,r,i,a,u,c,m),f.dynCall_iiiiiijj=(e,t,n,r,i,a,u,c,m,d)=>(f.dynCall_iiiiiijj=N.dynCall_iiiiiijj)(e,t,n,r,i,a,u,c,m,d);function Ai(e,t){var n=Ce();try{return ye(e)(t)}catch(r){if(xe(n),r!==r+0)throw r;Ae(1,0)}}function Ci(e,t,n){var r=Ce();try{ye(e)(t,n)}catch(i){if(xe(r),i!==i+0)throw i;Ae(1,0)}}function xi(e,t){var n=Ce();try{ye(e)(t)}catch(r){if(xe(n),r!==r+0)throw r;Ae(1,0)}}function Ei(e,t,n,r){var i=Ce();try{return ye(e)(t,n,r)}catch(a){if(xe(i),a!==a+0)throw a;Ae(1,0)}}function Si(e,t,n,r){var i=Ce();try{ye(e)(t,n,r)}catch(a){if(xe(i),a!==a+0)throw a;Ae(1,0)}}function Ri(e,t,n,r,i){var a=Ce();try{ye(e)(t,n,r,i)}catch(u){if(xe(a),u!==u+0)throw u;Ae(1,0)}}function Li(e){var t=Ce();try{ye(e)()}catch(n){if(xe(t),n!==n+0)throw n;Ae(1,0)}}function Pi(e,t,n,r,i,a,u){var c=Ce();try{return ye(e)(t,n,r,i,a,u)}catch(m){if(xe(c),m!==m+0)throw m;Ae(1,0)}}function Mi(e,t,n){var r=Ce();try{return ye(e)(t,n)}catch(i){if(xe(r),i!==i+0)throw i;Ae(1,0)}}function Ti(e,t,n,r,i,a,u,c){var m=Ce();try{ye(e)(t,n,r,i,a,u,c)}catch(d){if(xe(m),d!==d+0)throw d;Ae(1,0)}}function Fi(e,t,n,r,i,a,u,c,m,d){var b=Ce();try{return ye(e)(t,n,r,i,a,u,c,m,d)}catch(E){if(xe(b),E!==E+0)throw E;Ae(1,0)}}function ji(e,t,n,r,i){var a=Ce();try{return ye(e)(t,n,r,i)}catch(u){if(xe(a),u!==u+0)throw u;Ae(1,0)}}function Ii(e,t,n,r,i,a,u,c,m){var d=Ce();try{ye(e)(t,n,r,i,a,u,c,m)}catch(b){if(xe(d),b!==b+0)throw b;Ae(1,0)}}function Di(e,t,n,r,i,a){var u=Ce();try{return ye(e)(t,n,r,i,a)}catch(c){if(xe(u),c!==c+0)throw c;Ae(1,0)}}function Oi(e,t,n,r,i,a,u){var c=Ce();try{ye(e)(t,n,r,i,a,u)}catch(m){if(xe(c),m!==m+0)throw m;Ae(1,0)}}var dn;w=function e(){dn||kr(),dn||(w=e)};function kr(){function e(){if(!dn&&(dn=!0,f.calledRun=!0,!ut)){if(f.noFSInit||Un||(Un=!0,qn(),f.stdin=f.stdin,f.stdout=f.stdout,f.stderr=f.stderr,f.stdin?St("stdin",f.stdin):_n("/dev/tty","/dev/stdin"),f.stdout?St("stdout",null,f.stdout):_n("/dev/tty","/dev/stdout"),f.stderr?St("stderr",null,f.stderr):_n("/dev/tty1","/dev/stderr"),Gt("/dev/stdin",0),Gt("/dev/stdout",1),Gt("/dev/stderr",1)),Gn=!1,vt(o),de(f),f.onRuntimeInitialized&&f.onRuntimeInitialized(),f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;){var t=f.postRun.shift();s.unshift(t)}vt(s)}}if(!(0<y)){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)p();vt(l),0<y||(f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),e()},1)):e())}}if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);0<f.preInit.length;)f.preInit.pop()();return kr(),T.ready}})();const re=U},K=>{K.exports=JSON.parse(`{"name":"@rive-app/webgl","version":"2.26.2","description":"Rive's webgl based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.wasm","rive_fallback.wasm","rive.js.map","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(K,X,I)=>{I.r(X),I.d(X,{Animation:()=>U.Animation});var U=I(4)},(K,X,I)=>{I.r(X),I.d(X,{Animation:()=>U});var U=function(){function re(Q,T,f,de){this.animation=Q,this.artboard=T,this.playing=de,this.loopCount=0,this.scrubTo=null,this.instance=new f.LinearAnimationInstance(Q,T)}return Object.defineProperty(re.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"time",{get:function(){return this.instance.time},set:function(Q){this.instance.time=Q},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),re.prototype.advance=function(Q){this.scrubTo===null?this.instance.advance(Q):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},re.prototype.apply=function(Q){this.instance.apply(Q)},re.prototype.cleanup=function(){this.instance.delete()},re}()},(K,X,I)=>{I.r(X),I.d(X,{BLANK_URL:()=>re.BLANK_URL,registerTouchInteractions:()=>U.registerTouchInteractions,sanitizeUrl:()=>re.sanitizeUrl});var U=I(6),re=I(7)},(K,X,I)=>{I.r(X),I.d(X,{registerTouchInteractions:()=>Q});var U=void 0,re=function(T,f){var de,J;return["touchstart","touchmove"].indexOf(T.type)>-1&&(!((de=T.touches)===null||de===void 0)&&de.length)?(f||T.preventDefault(),{clientX:T.touches[0].clientX,clientY:T.touches[0].clientY}):T.type==="touchend"&&(!((J=T.changedTouches)===null||J===void 0)&&J.length)?{clientX:T.changedTouches[0].clientX,clientY:T.changedTouches[0].clientY}:{clientX:T.clientX,clientY:T.clientY}},Q=function(T){var f=T.canvas,de=T.artboard,J=T.stateMachines,ae=J===void 0?[]:J,Ye=T.renderer,me=T.rive,se=T.fit,ve=T.alignment,Se=T.isTouchScrollEnabled,Re=Se===void 0?!1:Se,He=T.layoutScaleFactor,F=He===void 0?1:He;if(!f||!ae.length||!Ye||!me||!de||typeof window>"u")return null;var Fe=null,je=!1,st=function(Ee){if(je&&Ee instanceof MouseEvent){Ee.type=="mouseup"&&(je=!1);return}je=Re&&Ee.type==="touchend"&&Fe==="touchstart",Fe=Ee.type;var _e=Ee.currentTarget.getBoundingClientRect(),N=re(Ee,Re),ut=N.clientX,fe=N.clientY;if(!(!ut&&!fe)){var V=ut-_e.left,we=fe-_e.top,Oe=me.computeAlignment(se,ve,{minX:0,minY:0,maxX:_e.width,maxY:_e.height},de.bounds,F),A=new me.Mat2D;Oe.invert(A);var G=new me.Vec2D(V,we),M=me.mapXY(A,G),Ve=M.x(),Xe=M.y();switch(M.delete(),A.delete(),G.delete(),Oe.delete(),Ee.type){case"mouseout":for(var tt=0,l=ae;tt<l.length;tt++){var o=l[tt];o.pointerMove(Ve,Xe)}break;case"touchmove":case"mouseover":case"mousemove":{for(var s=0,p=ae;s<p.length;s++){var o=p[s];o.pointerMove(Ve,Xe)}break}case"touchstart":case"mousedown":{for(var y=0,w=ae;y<w.length;y++){var o=w[y];o.pointerDown(Ve,Xe)}break}case"touchend":case"mouseup":{for(var x=0,D=ae;x<D.length;x++){var o=D[x];o.pointerUp(Ve,Xe)}break}}}},z=st.bind(U);return f.addEventListener("mouseover",z),f.addEventListener("mouseout",z),f.addEventListener("mousemove",z),f.addEventListener("mousedown",z),f.addEventListener("mouseup",z),f.addEventListener("touchmove",z,{passive:Re}),f.addEventListener("touchstart",z,{passive:Re}),f.addEventListener("touchend",z),function(){f.removeEventListener("mouseover",z),f.removeEventListener("mouseout",z),f.removeEventListener("mousemove",z),f.removeEventListener("mousedown",z),f.removeEventListener("mouseup",z),f.removeEventListener("touchmove",z),f.removeEventListener("touchstart",z),f.removeEventListener("touchend",z)}}},(K,X,I)=>{I.r(X),I.d(X,{BLANK_URL:()=>J,sanitizeUrl:()=>me});var U=/^([^\w]*)(javascript|data|vbscript)/im,re=/&#(\w+)(^\w|;)?/g,Q=/&(newline|tab);/gi,T=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,f=/^.+(:|&colon;)/gim,de=[".","/"],J="about:blank";function ae(se){return de.indexOf(se[0])>-1}function Ye(se){var ve=se.replace(T,"");return ve.replace(re,function(Se,Re){return String.fromCharCode(Re)})}function me(se){if(!se)return J;var ve=Ye(se).replace(Q,"").replace(T,"").trim();if(!ve)return J;if(ae(ve))return ve;var Se=ve.match(f);if(!Se)return ve;var Re=Se[0];return U.test(Re)?J:ve}}],H={};function te(K){var X=H[K];if(X!==void 0)return X.exports;var I=H[K]={exports:{}};return S[K](I,I.exports,te),I.exports}te.d=(K,X)=>{for(var I in X)te.o(X,I)&&!te.o(K,I)&&Object.defineProperty(K,I,{enumerable:!0,get:X[I]})},te.o=(K,X)=>Object.prototype.hasOwnProperty.call(K,X),te.r=K=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})};var he={};return(()=>{te.r(he),te.d(he,{Alignment:()=>ae,EventType:()=>F,Fit:()=>J,Layout:()=>Ye,LoopType:()=>Fe,Rive:()=>Oe,RiveEventType:()=>Se,RiveFile:()=>we,RuntimeLoader:()=>me,StateMachineInput:()=>ve,StateMachineInputType:()=>se,Testing:()=>M,decodeAudio:()=>Ve,decodeFont:()=>tt,decodeImage:()=>Xe});var K=te(1),X=te(2),I=te(3),U=te(5),re=function(){var l=function(o,s){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(p[w]=y[w])},l(o,s)};return function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");l(o,s);function p(){this.constructor=o}o.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Q=function(l,o,s,p){function y(w){return w instanceof s?w:new s(function(x){x(w)})}return new(s||(s=Promise))(function(w,x){function D(ee){try{O(p.next(ee))}catch(pe){x(pe)}}function B(ee){try{O(p.throw(ee))}catch(pe){x(pe)}}function O(ee){ee.done?w(ee.value):y(ee.value).then(D,B)}O((p=p.apply(l,o||[])).next())})},T=function(l,o){var s={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},p,y,w,x=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return x.next=D(0),x.throw=D(1),x.return=D(2),typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function D(O){return function(ee){return B([O,ee])}}function B(O){if(p)throw new TypeError("Generator is already executing.");for(;x&&(x=0,O[0]&&(s=0)),s;)try{if(p=1,y&&(w=O[0]&2?y.return:O[0]?y.throw||((w=y.return)&&w.call(y),0):y.next)&&!(w=w.call(y,O[1])).done)return w;switch(y=0,w&&(O=[O[0]&2,w.value]),O[0]){case 0:case 1:w=O;break;case 4:return s.label++,{value:O[1],done:!1};case 5:s.label++,y=O[1],O=[0];continue;case 7:O=s.ops.pop(),s.trys.pop();continue;default:if(w=s.trys,!(w=w.length>0&&w[w.length-1])&&(O[0]===6||O[0]===2)){s=0;continue}if(O[0]===3&&(!w||O[1]>w[0]&&O[1]<w[3])){s.label=O[1];break}if(O[0]===6&&s.label<w[1]){s.label=w[1],w=O;break}if(w&&s.label<w[2]){s.label=w[2],s.ops.push(O);break}w[2]&&s.ops.pop(),s.trys.pop();continue}O=o.call(l,s)}catch(ee){O=[6,ee],y=0}finally{p=w=0}if(O[0]&5)throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}},f=function(l){re(o,l);function o(){var s=l!==null&&l.apply(this,arguments)||this;return s.isHandledError=!0,s}return o}(Error),de=function(l){return l&&l.isHandledError?l.message:"Problem loading file; may be corrupt!"},J;(function(l){l.Cover="cover",l.Contain="contain",l.Fill="fill",l.FitWidth="fitWidth",l.FitHeight="fitHeight",l.None="none",l.ScaleDown="scaleDown",l.Layout="layout"})(J||(J={}));var ae;(function(l){l.Center="center",l.TopLeft="topLeft",l.TopCenter="topCenter",l.TopRight="topRight",l.CenterLeft="centerLeft",l.CenterRight="centerRight",l.BottomLeft="bottomLeft",l.BottomCenter="bottomCenter",l.BottomRight="bottomRight"})(ae||(ae={}));var Ye=function(){function l(o){var s,p,y,w,x,D,B;this.fit=(s=o==null?void 0:o.fit)!==null&&s!==void 0?s:J.Contain,this.alignment=(p=o==null?void 0:o.alignment)!==null&&p!==void 0?p:ae.Center,this.layoutScaleFactor=(y=o==null?void 0:o.layoutScaleFactor)!==null&&y!==void 0?y:1,this.minX=(w=o==null?void 0:o.minX)!==null&&w!==void 0?w:0,this.minY=(x=o==null?void 0:o.minY)!==null&&x!==void 0?x:0,this.maxX=(D=o==null?void 0:o.maxX)!==null&&D!==void 0?D:0,this.maxY=(B=o==null?void 0:o.maxY)!==null&&B!==void 0?B:0}return l.new=function(o){var s=o.fit,p=o.alignment,y=o.minX,w=o.minY,x=o.maxX,D=o.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new l({fit:s,alignment:p,minX:y,minY:w,maxX:x,maxY:D})},l.prototype.copyWith=function(o){var s=o.fit,p=o.alignment,y=o.layoutScaleFactor,w=o.minX,x=o.minY,D=o.maxX,B=o.maxY;return new l({fit:s??this.fit,alignment:p??this.alignment,layoutScaleFactor:y??this.layoutScaleFactor,minX:w??this.minX,minY:x??this.minY,maxX:D??this.maxX,maxY:B??this.maxY})},l.prototype.runtimeFit=function(o){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var s;return this.fit===J.Cover?s=o.Fit.cover:this.fit===J.Contain?s=o.Fit.contain:this.fit===J.Fill?s=o.Fit.fill:this.fit===J.FitWidth?s=o.Fit.fitWidth:this.fit===J.FitHeight?s=o.Fit.fitHeight:this.fit===J.ScaleDown?s=o.Fit.scaleDown:this.fit===J.Layout?s=o.Fit.layout:s=o.Fit.none,this.cachedRuntimeFit=s,s},l.prototype.runtimeAlignment=function(o){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var s;return this.alignment===ae.TopLeft?s=o.Alignment.topLeft:this.alignment===ae.TopCenter?s=o.Alignment.topCenter:this.alignment===ae.TopRight?s=o.Alignment.topRight:this.alignment===ae.CenterLeft?s=o.Alignment.centerLeft:this.alignment===ae.CenterRight?s=o.Alignment.centerRight:this.alignment===ae.BottomLeft?s=o.Alignment.bottomLeft:this.alignment===ae.BottomCenter?s=o.Alignment.bottomCenter:this.alignment===ae.BottomRight?s=o.Alignment.bottomRight:s=o.Alignment.center,this.cachedRuntimeAlignment=s,s},l}(),me=function(){function l(){}return l.loadRuntime=function(){K.default({locateFile:function(){return l.wasmURL}}).then(function(o){var s;for(l.runtime=o;l.callBackQueue.length>0;)(s=l.callBackQueue.shift())===null||s===void 0||s(l.runtime)}).catch(function(o){var s={message:(o==null?void 0:o.message)||"Unknown error",type:(o==null?void 0:o.name)||"Error",wasmError:o instanceof WebAssembly.CompileError||o instanceof WebAssembly.RuntimeError,originalError:o};console.debug("Rive WASM load error details:",s);var p="https://cdn.jsdelivr.net/npm/".concat(X.name,"@").concat(X.version,"/rive_fallback.wasm");if(l.wasmURL.toLowerCase()!==p)console.warn("Failed to load WASM from ".concat(l.wasmURL," (").concat(s.message,"), trying jsdelivr as a backup")),l.setWasmUrl(p),l.loadRuntime();else{var y=["Could not load Rive WASM file from ".concat(l.wasmURL," or ").concat(p,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(s.type),"- Message: ".concat(s.message),"- WebAssembly-specific error: ".concat(s.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(y)}})},l.getInstance=function(o){l.isLoading||(l.isLoading=!0,l.loadRuntime()),l.runtime?o(l.runtime):l.callBackQueue.push(o)},l.awaitInstance=function(){return new Promise(function(o){return l.getInstance(function(s){return o(s)})})},l.setWasmUrl=function(o){l.wasmURL=o},l.getWasmUrl=function(){return l.wasmURL},l.isLoading=!1,l.callBackQueue=[],l.wasmURL="https://unpkg.com/".concat(X.name,"@").concat(X.version,"/rive.wasm"),l}(),se;(function(l){l[l.Number=56]="Number",l[l.Trigger=58]="Trigger",l[l.Boolean=59]="Boolean"})(se||(se={}));var ve=function(){function l(o,s){this.type=o,this.runtimeInput=s}return Object.defineProperty(l.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(o){this.runtimeInput.value=o},enumerable:!1,configurable:!0}),l.prototype.fire=function(){this.type===se.Trigger&&this.runtimeInput.fire()},l.prototype.delete=function(){this.runtimeInput=null},l}(),Se;(function(l){l[l.General=128]="General",l[l.OpenUrl=131]="OpenUrl"})(Se||(Se={}));var Re=function(){function l(o,s,p,y){this.stateMachine=o,this.playing=p,this.artboard=y,this.inputs=[],this.instance=new s.StateMachineInstance(o,y),this.initInputs(s)}return Object.defineProperty(l.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"statesChanged",{get:function(){for(var o=[],s=0;s<this.instance.stateChangedCount();s++)o.push(this.instance.stateChangedNameByIndex(s));return o},enumerable:!1,configurable:!0}),l.prototype.advance=function(o){this.instance.advance(o)},l.prototype.advanceAndApply=function(o){this.instance.advanceAndApply(o)},l.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},l.prototype.reportedEventAt=function(o){return this.instance.reportedEventAt(o)},l.prototype.initInputs=function(o){for(var s=0;s<this.instance.inputCount();s++){var p=this.instance.input(s);this.inputs.push(this.mapRuntimeInput(p,o))}},l.prototype.mapRuntimeInput=function(o,s){if(o.type===s.SMIInput.bool)return new ve(se.Boolean,o.asBool());if(o.type===s.SMIInput.number)return new ve(se.Number,o.asNumber());if(o.type===s.SMIInput.trigger)return new ve(se.Trigger,o.asTrigger())},l.prototype.cleanup=function(){this.inputs.forEach(function(o){o.delete()}),this.inputs.length=0,this.instance.delete()},l}(),He=function(){function l(o,s,p,y,w){y===void 0&&(y=[]),w===void 0&&(w=[]),this.runtime=o,this.artboard=s,this.eventManager=p,this.animations=y,this.stateMachines=w}return l.prototype.add=function(o,s,p){if(p===void 0&&(p=!0),o=G(o),o.length===0)this.animations.forEach(function(ge){return ge.playing=s}),this.stateMachines.forEach(function(ge){return ge.playing=s});else for(var y=this.animations.map(function(ge){return ge.name}),w=this.stateMachines.map(function(ge){return ge.name}),x=0;x<o.length;x++){var D=y.indexOf(o[x]),B=w.indexOf(o[x]);if(D>=0||B>=0)D>=0?this.animations[D].playing=s:this.stateMachines[B].playing=s;else{var O=this.artboard.animationByName(o[x]);if(O){var ee=new I.Animation(O,this.artboard,this.runtime,s);ee.advance(0),ee.apply(1),this.animations.push(ee)}else{var pe=this.artboard.stateMachineByName(o[x]);if(pe){var Le=new Re(pe,this.runtime,s,this.artboard);this.stateMachines.push(Le)}}}}return p&&(s?this.eventManager.fire({type:F.Play,data:this.playing}):this.eventManager.fire({type:F.Pause,data:this.paused})),s?this.playing:this.paused},l.prototype.initLinearAnimations=function(o,s){for(var p=this.animations.map(function(B){return B.name}),y=0;y<o.length;y++){var w=p.indexOf(o[y]);if(w>=0)this.animations[w].playing=s;else{var x=this.artboard.animationByName(o[y]);if(x){var D=new I.Animation(x,this.artboard,this.runtime,s);D.advance(0),D.apply(1),this.animations.push(D)}}}},l.prototype.initStateMachines=function(o,s){for(var p=this.stateMachines.map(function(B){return B.name}),y=0;y<o.length;y++){var w=p.indexOf(o[y]);if(w>=0)this.stateMachines[w].playing=s;else{var x=this.artboard.stateMachineByName(o[y]);if(x){var D=new Re(x,this.runtime,s,this.artboard);this.stateMachines.push(D)}else this.initLinearAnimations([o[y]],s)}}},l.prototype.play=function(o){return this.add(o,!0)},l.prototype.pause=function(o){return this.add(o,!1)},l.prototype.scrub=function(o,s){var p=this.animations.filter(function(y){return o.includes(y.name)});return p.forEach(function(y){return y.scrubTo=s}),p.map(function(y){return y.name})},Object.defineProperty(l.prototype,"playing",{get:function(){return this.animations.filter(function(o){return o.playing}).map(function(o){return o.name}).concat(this.stateMachines.filter(function(o){return o.playing}).map(function(o){return o.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"paused",{get:function(){return this.animations.filter(function(o){return!o.playing}).map(function(o){return o.name}).concat(this.stateMachines.filter(function(o){return!o.playing}).map(function(o){return o.name}))},enumerable:!1,configurable:!0}),l.prototype.stop=function(o){var s=this;o=G(o);var p=[];if(o.length===0)p=this.animations.map(function(x){return x.name}).concat(this.stateMachines.map(function(x){return x.name})),this.animations.forEach(function(x){return x.cleanup()}),this.stateMachines.forEach(function(x){return x.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var y=this.animations.filter(function(x){return o.includes(x.name)});y.forEach(function(x){x.cleanup(),s.animations.splice(s.animations.indexOf(x),1)});var w=this.stateMachines.filter(function(x){return o.includes(x.name)});w.forEach(function(x){x.cleanup(),s.stateMachines.splice(s.stateMachines.indexOf(x),1)}),p=y.map(function(x){return x.name}).concat(w.map(function(x){return x.name}))}return this.eventManager.fire({type:F.Stop,data:p}),p},Object.defineProperty(l.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(o,s){return o||s.playing},!1)||this.stateMachines.reduce(function(o,s){return o||s.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),l.prototype.atLeastOne=function(o,s){s===void 0&&(s=!0);var p;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([p=this.artboard.animationByIndex(0).name],o,s):this.artboard.stateMachineCount()>0&&this.add([p=this.artboard.stateMachineByIndex(0).name],o,s)),p},l.prototype.handleLooping=function(){for(var o=0,s=this.animations.filter(function(y){return y.playing});o<s.length;o++){var p=s[o];p.loopValue===0&&p.loopCount?(p.loopCount=0,this.stop(p.name)):p.loopValue===1&&p.loopCount?(this.eventManager.fire({type:F.Loop,data:{animation:p.name,type:Fe.Loop}}),p.loopCount=0):p.loopValue===2&&p.loopCount>1&&(this.eventManager.fire({type:F.Loop,data:{animation:p.name,type:Fe.PingPong}}),p.loopCount=0)}},l.prototype.handleStateChanges=function(){for(var o=[],s=0,p=this.stateMachines.filter(function(w){return w.playing});s<p.length;s++){var y=p[s];o.push.apply(o,y.statesChanged)}o.length>0&&this.eventManager.fire({type:F.StateChange,data:o})},l.prototype.handleAdvancing=function(o){this.eventManager.fire({type:F.Advance,data:o})},l}(),F;(function(l){l.Load="load",l.LoadError="loaderror",l.Play="play",l.Pause="pause",l.Stop="stop",l.Loop="loop",l.Draw="draw",l.Advance="advance",l.StateChange="statechange",l.RiveEvent="riveevent",l.AudioStatusChange="audiostatuschange"})(F||(F={}));var Fe;(function(l){l.OneShot="oneshot",l.Loop="loop",l.PingPong="pingpong"})(Fe||(Fe={}));var je=function(){function l(o){o===void 0&&(o=[]),this.listeners=o}return l.prototype.getListeners=function(o){return this.listeners.filter(function(s){return s.type===o})},l.prototype.add=function(o){this.listeners.includes(o)||this.listeners.push(o)},l.prototype.remove=function(o){for(var s=0;s<this.listeners.length;s++){var p=this.listeners[s];if(p.type===o.type&&p.callback===o.callback){this.listeners.splice(s,1);break}}},l.prototype.removeAll=function(o){var s=this;o?this.listeners.filter(function(p){return p.type===o}).forEach(function(p){return s.remove(p)}):this.listeners.splice(0,this.listeners.length)},l.prototype.fire=function(o){var s=this.getListeners(o.type);s.forEach(function(p){return p.callback(o)})},l}(),st=function(){function l(o){this.eventManager=o,this.queue=[]}return l.prototype.add=function(o){this.queue.push(o)},l.prototype.process=function(){for(;this.queue.length>0;){var o=this.queue.shift();o!=null&&o.action&&o.action(),o!=null&&o.event&&this.eventManager.fire(o.event)}},l}(),z;(function(l){l[l.AVAILABLE=0]="AVAILABLE",l[l.UNAVAILABLE=1]="UNAVAILABLE"})(z||(z={}));var Ee=function(l){re(o,l);function o(){var s=l!==null&&l.apply(this,arguments)||this;return s._started=!1,s._enabled=!1,s._status=z.UNAVAILABLE,s}return o.prototype.delay=function(s){return Q(this,void 0,void 0,function(){return T(this,function(p){return[2,new Promise(function(y){return setTimeout(y,s)})]})})},o.prototype.timeout=function(){return Q(this,void 0,void 0,function(){return T(this,function(s){return[2,new Promise(function(p,y){return setTimeout(y,50)})]})})},o.prototype.reportToListeners=function(){this.fire({type:F.AudioStatusChange}),this.removeAll()},o.prototype.enableAudio=function(){return Q(this,void 0,void 0,function(){return T(this,function(s){return this._enabled||(this._enabled=!0,this._status=z.AVAILABLE,this.reportToListeners()),[2]})})},o.prototype.testAudio=function(){return Q(this,void 0,void 0,function(){return T(this,function(s){switch(s.label){case 0:if(!(this._status===z.UNAVAILABLE&&this._audioContext!==null))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return s.sent(),this.enableAudio(),[3,4];case 3:return s.sent(),[3,4];case 4:return[2]}})})},o.prototype._establishAudio=function(){return Q(this,void 0,void 0,function(){return T(this,function(s){switch(s.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),s.label=2;case 2:return this._status!==z.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return s.sent(),[4,this.delay(1e3)];case 4:return s.sent(),[3,2];case 5:return[2]}})})},o.prototype.listenForUserAction=function(){var s=this,p=function(){return Q(s,void 0,void 0,function(){return T(this,function(y){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",p,{once:!0})},o.prototype.establishAudio=function(){return Q(this,void 0,void 0,function(){return T(this,function(s){return this._establishAudio(),[2]})})},Object.defineProperty(o.prototype,"systemVolume",{get:function(){return this._status===z.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),o}(je),_e=new Ee,N=function(){function l(){}return l.prototype.observe=function(){},l.prototype.unobserve=function(){},l.prototype.disconnect=function(){},l}(),ut=globalThis.ResizeObserver||N,fe=function(){function l(){var o=this;this._elementsMap=new Map,this._onObservedEntry=function(s){var p=o._elementsMap.get(s.target);p!==null?p.onResize(s.target.clientWidth==0||s.target.clientHeight==0):o._resizeObserver.unobserve(s.target)},this._onObserved=function(s){s.forEach(o._onObservedEntry)},this._resizeObserver=new ut(this._onObserved)}return l.prototype.add=function(o,s){var p={onResize:s,element:o};return this._elementsMap.set(o,p),this._resizeObserver.observe(o),p},l.prototype.remove=function(o){this._resizeObserver.unobserve(o.element),this._elementsMap.delete(o.element)},l}(),V=new fe,we=function(){function l(o){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.src=o.src,this.buffer=o.buffer,o.assetLoader&&(this.assetLoader=o.assetLoader),this.enableRiveAssetCDN=typeof o.enableRiveAssetCDN=="boolean"?o.enableRiveAssetCDN:!0,this.eventManager=new je,o.onLoad&&this.on(F.Load,o.onLoad),o.onLoadError&&this.on(F.LoadError,o.onLoadError)}return l.prototype.initData=function(){return Q(this,void 0,void 0,function(){var o,s,p,y;return T(this,function(w){switch(w.label){case 0:return this.src?(o=this,[4,A(this.src)]):[3,2];case 1:o.buffer=w.sent(),w.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(s=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})),p=this,[4,this.runtime.load(new Uint8Array(this.buffer),s,this.enableRiveAssetCDN)]);case 3:if(p.file=w.sent(),this.destroyed)return(y=this.file)===null||y===void 0||y.delete(),this.file=null,[2];if(this.file!==null)this.eventManager.fire({type:F.Load,data:this});else throw this.eventManager.fire({type:F.LoadError,data:null}),new Error(l.fileLoadErrorMessage);return[2]}})})},l.prototype.init=function(){return Q(this,void 0,void 0,function(){var o;return T(this,function(s){switch(s.label){case 0:if(!this.src&&!this.buffer)throw new Error(l.missingErrorMessage);return o=this,[4,me.awaitInstance()];case 1:return o.runtime=s.sent(),this.destroyed?[2]:[4,this.initData()];case 2:return s.sent(),[2]}})})},l.prototype.on=function(o,s){this.eventManager.add({type:o,callback:s})},l.prototype.off=function(o,s){this.eventManager.remove({type:o,callback:s})},l.prototype.cleanup=function(){var o;this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),(o=this.file)===null||o===void 0||o.delete(),this.file=null,this.destroyed=!0)},l.prototype.removeAllRiveEventListeners=function(o){this.eventManager.removeAll(o)},l.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},l.missingErrorMessage="Rive source file or data buffer required",l.fileLoadErrorMessage="The file failed to load",l}(),Oe=function(){function l(o){var s=this,p;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(y){var w=s._hasZeroSize!==y;s._hasZeroSize=y,y?(!s._layout.maxX||!s._layout.maxY)&&s.resizeToCanvas():w&&s.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=o.canvas,o.canvas.constructor===HTMLCanvasElement&&(this._observed=V.add(this.canvas,this.onCanvasResize)),this.src=o.src,this.buffer=o.buffer,this.riveFile=o.riveFile,this.layout=(p=o.layout)!==null&&p!==void 0?p:new Ye,this.shouldDisableRiveListeners=!!o.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!o.isTouchScrollEnabled,this.automaticallyHandleEvents=!!o.automaticallyHandleEvents,this.enableRiveAssetCDN=o.enableRiveAssetCDN===void 0?!0:o.enableRiveAssetCDN,this.eventManager=new je,o.onLoad&&this.on(F.Load,o.onLoad),o.onLoadError&&this.on(F.LoadError,o.onLoadError),o.onPlay&&this.on(F.Play,o.onPlay),o.onPause&&this.on(F.Pause,o.onPause),o.onStop&&this.on(F.Stop,o.onStop),o.onLoop&&this.on(F.Loop,o.onLoop),o.onStateChange&&this.on(F.StateChange,o.onStateChange),o.onAdvance&&this.on(F.Advance,o.onAdvance),o.onload&&!o.onLoad&&this.on(F.Load,o.onload),o.onloaderror&&!o.onLoadError&&this.on(F.LoadError,o.onloaderror),o.onplay&&!o.onPlay&&this.on(F.Play,o.onplay),o.onpause&&!o.onPause&&this.on(F.Pause,o.onpause),o.onstop&&!o.onStop&&this.on(F.Stop,o.onstop),o.onloop&&!o.onLoop&&this.on(F.Loop,o.onloop),o.onstatechange&&!o.onStateChange&&this.on(F.StateChange,o.onstatechange),o.assetLoader&&(this.assetLoader=o.assetLoader),this.taskQueue=new st(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:o.autoplay,animations:o.animations,stateMachines:o.stateMachines,artboard:o.artboard,useOffscreenRenderer:o.useOffscreenRenderer})}return l.new=function(o){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new l(o)},l.prototype.onSystemAudioChanged=function(){this.volume=this._volume},l.prototype.init=function(o){var s=this,p=o.src,y=o.buffer,w=o.riveFile,x=o.animations,D=o.stateMachines,B=o.artboard,O=o.autoplay,ee=O===void 0?!1:O,pe=o.useOffscreenRenderer,Le=pe===void 0?!1:pe;if(!this.destroyed){if(this.src=p,this.buffer=y,this.riveFile=w,!this.src&&!this.buffer&&!this.riveFile)throw new f(l.missingErrorMessage);var ge=G(x),Ie=G(D);this.loaded=!1,this.readyForPlaying=!1,me.awaitInstance().then(function(Pe){s.destroyed||(s.runtime=Pe,s.removeRiveListeners(),s.deleteRiveRenderer(),s.renderer=s.runtime.makeRenderer(s.canvas,Le),s.canvas.width||s.canvas.height||s.resizeDrawingSurfaceToCanvas(),s.initData(B,ge,Ie,ee).then(function(){return s.setupRiveListeners()}).catch(function(lt){console.error(lt)}))}).catch(function(Pe){console.error(Pe)})}},l.prototype.setupRiveListeners=function(o){var s=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var p=(this.animator.stateMachines||[]).filter(function(w){return w.playing&&s.runtime.hasListeners(w.instance)}).map(function(w){return w.instance}),y=this.isTouchScrollEnabled;o&&"isTouchScrollEnabled"in o&&(y=o.isTouchScrollEnabled),this.eventCleanup=(0,U.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:p,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:y,layoutScaleFactor:this._layout.layoutScaleFactor})}},l.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},l.prototype.initializeAudio=function(){var o=this,s;_e.status==z.UNAVAILABLE&&!((s=this.artboard)===null||s===void 0)&&s.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:F.AudioStatusChange,callback:function(){return o.onSystemAudioChanged()}},_e.add(this._audioEventListener),_e.establishAudio())},l.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},l.prototype.initData=function(o,s,p,y){return Q(this,void 0,void 0,function(){var w,x,D;return T(this,function(B){switch(B.label){case 0:return B.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(this.riveFile=new we({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),[4,this.riveFile.init()]);case 1:B.sent(),B.label=2;case 2:if(!this.riveFile)throw new f(l.cleanupErrorMessage);return this.file=this.riveFile.getInstance(),this.initArtboard(o,s,p,y),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:F.Load,data:(D=this.src)!==null&&D!==void 0?D:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()];case 3:return w=B.sent(),x=de(w),console.warn(x),this.eventManager.fire({type:F.LoadError,data:x}),[2,Promise.reject(x)];case 4:return[2]}})})},l.prototype.initArtboard=function(o,s,p,y){if(this.file){var w=o?this.file.artboardByName(o):this.file.defaultArtboard();if(!w){var x="Invalid artboard name or no default artboard";console.warn(x),this.eventManager.fire({type:F.LoadError,data:x});return}if(this.artboard=w,w.volume=this._volume*_e.systemVolume,this.artboard.animationCount()<1){var x="Artboard has no animations";throw this.eventManager.fire({type:F.LoadError,data:x}),x}this.animator=new He(this.runtime,this.artboard,this.eventManager);var D;s.length>0||p.length>0?(D=s.concat(p),this.animator.initLinearAnimations(s,y),this.animator.initStateMachines(p,y)):D=[this.animator.atLeastOne(y,!1)],this.taskQueue.add({event:{type:y?F.Play:F.Pause,data:D}})}},l.prototype.drawFrame=function(){var o;!((o=document==null?void 0:document.timeline)===null||o===void 0)&&o.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&this._boundDraw(document.timeline.currentTime):this.startRendering()},l.prototype.draw=function(o,s){this.frameRequestId=null;var p=performance.now();this.lastRenderTime||(this.lastRenderTime=o),this.renderSecondTimer+=o-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,s==null||s());var y=(o-this.lastRenderTime)/1e3;this.lastRenderTime=o;for(var w=this.animator.animations.filter(function(ze){return ze.playing||ze.needsScrub}).sort(function(ze){return ze.needsScrub?-1:1}),x=0,D=w;x<D.length;x++){var B=D[x];B.advance(y),B.instance.didLoop&&(B.loopCount+=1),B.apply(1)}for(var O=this.animator.stateMachines.filter(function(ze){return ze.playing}),ee=0,pe=O;ee<pe.length;ee++){var Le=pe[ee],ge=Le.reportedEventCount();if(ge)for(var Ie=0;Ie<ge;Ie++){var Pe=Le.reportedEventAt(Ie);if(Pe)if(Pe.type===Se.OpenUrl){if(this.eventManager.fire({type:F.RiveEvent,data:Pe}),this.automaticallyHandleEvents){var lt=document.createElement("a"),vt=Pe,bt=vt.url,nt=vt.target,At=(0,U.sanitizeUrl)(bt);bt&&lt.setAttribute("href",At),nt&&lt.setAttribute("target",nt),At&&At!==U.BLANK_URL&&lt.click()}}else this.eventManager.fire({type:F.RiveEvent,data:Pe})}Le.advanceAndApply(y)}this.animator.stateMachines.length==0&&this.artboard.advance(y);var rt=this.renderer;rt.clear(),rt.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(rt),rt.restore(),rt.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(y),this.frameCount++;var Ct=performance.now();for(this.frameTimes.push(Ct),this.durations.push(Ct-p);this.frameTimes[0]<=Ct-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},l.prototype.alignRenderer=function(){var o=this,s=o.renderer,p=o.runtime,y=o._layout,w=o.artboard;s.align(y.runtimeFit(p),y.runtimeAlignment(p),{minX:y.minX,minY:y.minY,maxX:y.maxX,maxY:y.maxY},w.bounds,this._devicePixelRatioUsed*y.layoutScaleFactor)},Object.defineProperty(l.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(o,s){return o+s},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),l.prototype.cleanup=function(){var o;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&V.remove(this._observed),this.removeRiveListeners(),this.file&&((o=this.riveFile)===null||o===void 0||o.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(_e.remove(this._audioEventListener),this._audioEventListener=null)},l.prototype.deleteRiveRenderer=function(){var o;(o=this.renderer)===null||o===void 0||o.delete(),this.renderer=null},l.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},l.prototype.retrieveTextRun=function(o){var s;if(!o){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var p=this.artboard.textRun(o);if(!p){console.warn("Could not access a text run with name '".concat(o,"' in the '").concat((s=this.artboard)===null||s===void 0?void 0:s.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return p},l.prototype.getTextRunValue=function(o){var s=this.retrieveTextRun(o);return s?s.text:void 0},l.prototype.setTextRunValue=function(o,s){var p=this.retrieveTextRun(o);p&&(p.text=s)},l.prototype.play=function(o,s){var p=this;if(o=G(o),!this.readyForPlaying){this.taskQueue.add({action:function(){return p.play(o,s)}});return}this.animator.play(o),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},l.prototype.pause=function(o){var s=this;if(o=G(o),!this.readyForPlaying){this.taskQueue.add({action:function(){return s.pause(o)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(o)},l.prototype.scrub=function(o,s){var p=this;if(o=G(o),!this.readyForPlaying){this.taskQueue.add({action:function(){return p.scrub(o,s)}});return}this.animator.scrub(o,s||0),this.drawFrame()},l.prototype.stop=function(o){var s=this;if(o=G(o),!this.readyForPlaying){this.taskQueue.add({action:function(){return s.stop(o)}});return}this.animator&&this.animator.stop(o),this.eventCleanup&&this.eventCleanup()},l.prototype.reset=function(o){var s,p=o==null?void 0:o.artboard,y=G(o==null?void 0:o.animations),w=G(o==null?void 0:o.stateMachines),x=(s=o==null?void 0:o.autoplay)!==null&&s!==void 0?s:!1;this.cleanupInstances(),this.initArtboard(p,y,w,x),this.taskQueue.process()},l.prototype.load=function(o){this.file=null,this.stop(),this.init(o)},Object.defineProperty(l.prototype,"layout",{get:function(){return this._layout},set:function(o){this._layout=o,(!o.maxX||!o.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),l.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},l.prototype.resizeDrawingSurfaceToCanvas=function(o){if(this.canvas instanceof HTMLCanvasElement&&window){var s=this.canvas.getBoundingClientRect(),p=s.width,y=s.height,w=o||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=w,this.canvas.width=w*p,this.canvas.height=w*y,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===J.Layout){var x=this._layout.layoutScaleFactor;this.artboard.width=p/x,this.artboard.height=y/x}}},Object.defineProperty(l.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var o=[],s=0;s<this.artboard.animationCount();s++)o.push(this.artboard.animationByIndex(s).name);return o},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var o=[],s=0;s<this.artboard.stateMachineCount();s++)o.push(this.artboard.stateMachineByIndex(s).name);return o},enumerable:!1,configurable:!0}),l.prototype.stateMachineInputs=function(o){if(this.loaded){var s=this.animator.stateMachines.find(function(p){return p.name===o});return s==null?void 0:s.inputs}},l.prototype.retrieveInputAtPath=function(o,s){if(!o){console.warn("No input name provided for path '".concat(s,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(o,"', at path: '").concat(s,"', but the Artboard is null"));return}var p=this.artboard.inputByPath(o,s);if(!p){console.warn("Could not access an input with name: '".concat(o,"', at path:'").concat(s,"'"));return}return p},l.prototype.setBooleanStateAtPath=function(o,s,p){var y=this.retrieveInputAtPath(o,p);y&&(y.type===se.Boolean?y.asBool().value=s:console.warn("Input with name: '".concat(o,"', at path:'").concat(p,"' is not a boolean")))},l.prototype.setNumberStateAtPath=function(o,s,p){var y=this.retrieveInputAtPath(o,p);y&&(y.type===se.Number?y.asNumber().value=s:console.warn("Input with name: '".concat(o,"', at path:'").concat(p,"' is not a number")))},l.prototype.fireStateAtPath=function(o,s){var p=this.retrieveInputAtPath(o,s);p&&(p.type===se.Trigger?p.asTrigger().fire():console.warn("Input with name: '".concat(o,"', at path:'").concat(s,"' is not a trigger")))},l.prototype.retrieveTextAtPath=function(o,s){if(!o){console.warn("No text name provided for path '".concat(s,"'"));return}if(!s){console.warn("No path provided for text '".concat(o,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(o,"', at path: '").concat(s,"', but the Artboard is null"));return}var p=this.artboard.textByPath(o,s);if(!p){console.warn("Could not access text with name: '".concat(o,"', at path:'").concat(s,"'"));return}return p},l.prototype.getTextRunValueAtPath=function(o,s){var p=this.retrieveTextAtPath(o,s);if(!p){console.warn("Could not get text with name: '".concat(o,"', at path:'").concat(s,"'"));return}return p.text},l.prototype.setTextRunValueAtPath=function(o,s,p){var y=this.retrieveTextAtPath(o,p);if(!y){console.warn("Could not set text with name: '".concat(o,"', at path:'").concat(p,"'"));return}y.text=s},Object.defineProperty(l.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(o){return o.playing}).map(function(o){return o.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(o){return o.playing}).map(function(o){return o.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(o){return!o.playing}).map(function(o){return o.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(o){return!o.playing}).map(function(o){return o.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),l.prototype.on=function(o,s){this.eventManager.add({type:o,callback:s})},l.prototype.off=function(o,s){this.eventManager.remove({type:o,callback:s})},l.prototype.unsubscribe=function(o,s){console.warn("This function is deprecated: please use `off()` instead."),this.off(o,s)},l.prototype.removeAllRiveEventListeners=function(o){this.eventManager.removeAll(o)},l.prototype.unsubscribeAll=function(o){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(o)},l.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},l.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},l.prototype.enableFPSCounter=function(o){this.runtime.enableFPSCounter(o)},l.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(l.prototype,"contents",{get:function(){if(this.loaded){for(var o={artboards:[]},s=0;s<this.file.artboardCount();s++){for(var p=this.file.artboardByIndex(s),y={name:p.name,animations:[],stateMachines:[]},w=0;w<p.animationCount();w++){var x=p.animationByIndex(w);y.animations.push(x.name)}for(var D=0;D<p.stateMachineCount();D++){for(var B=p.stateMachineByIndex(D),O=B.name,ee=new this.runtime.StateMachineInstance(B,p),pe=[],Le=0;Le<ee.inputCount();Le++){var ge=ee.input(Le);pe.push({name:ge.name,type:ge.type})}y.stateMachines.push({name:O,inputs:pe})}o.artboards.push(y)}return o}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(o){this._volume=o,this.artboard&&(this.artboard.volume=o*_e.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"artboardWidth",{get:function(){var o;return this.artboard?this.artboard.width:(o=this._artboardWidth)!==null&&o!==void 0?o:0},set:function(o){this._artboardWidth=o,this.artboard&&(this.artboard.width=o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"artboardHeight",{get:function(){var o;return this.artboard?this.artboard.height:(o=this._artboardHeight)!==null&&o!==void 0?o:0},set:function(o){this._artboardHeight=o,this.artboard&&(this.artboard.height=o)},enumerable:!1,configurable:!0}),l.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(l.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(o){this._devicePixelRatioUsed=o},enumerable:!1,configurable:!0}),l.missingErrorMessage="Rive source file or data buffer required",l.cleanupErrorMessage="Attempt to use file after calling cleanup.",l}(),A=function(l){return Q(void 0,void 0,void 0,function(){var o,s,p;return T(this,function(y){switch(y.label){case 0:return o=new Request(l),[4,fetch(o)];case 1:return s=y.sent(),[4,s.arrayBuffer()];case 2:return p=y.sent(),[2,p]}})})},G=function(l){return typeof l=="string"?[l]:l instanceof Array?l:[]},M={EventManager:je,TaskQueueManager:st},Ve=function(l){return new Promise(function(o){return me.getInstance(function(s){s.decodeAudio(l,o)})})},Xe=function(l){return new Promise(function(o){return me.getInstance(function(s){s.decodeImage(l,o)})})},tt=function(l){return new Promise(function(o){return me.getInstance(function(s){s.decodeFont(l,o)})})}})(),he})())})(Wr);var ki=Wr.exports;function $r(P,v,S,H,te,he,K,X){var I=typeof P=="function"?P.options:P;v&&(I.render=v,I.staticRenderFns=S,I._compiled=!0),H&&(I.functional=!0),he&&(I._scopeId="data-v-"+he);var U;if(K?(U=function(T){T=T||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!T&&typeof __VUE_SSR_CONTEXT__<"u"&&(T=__VUE_SSR_CONTEXT__),te&&te.call(this,T),T&&T._registeredComponents&&T._registeredComponents.add(K)},I._ssrRegister=U):te&&(U=X?function(){te.call(this,(I.functional?this.parent:this).$root.$options.shadowRoot)}:te),U)if(I.functional){I._injectStyles=U;var re=I.render;I.render=function(f,de){return U.call(de),re(f,de)}}else{var Q=I.beforeCreate;I.beforeCreate=Q?[].concat(Q,U):[U]}return{exports:P,options:I}}const Wi={props:["src","stateMachine","artboard","animation","shouldDisableRiveListeners","isTouchScrollEnabled","width","height"],data(){return{sourceWidth:null,sourceHeight:null,artboards:[],animations:[],stateMachines:[],contents:null,showAllArtboards:!1,showAllAnimations:!1,showAllStateMachines:!1}},mounted(){this.rive=new ki.Rive({src:this.src,stateMachines:this.stateMachine,canvas:this.$refs.riveCanvas,autoplay:!0,artboard:this.artboard,animations:this.animation,shouldDisableRiveListeners:this.shouldDisableRiveListeners,isTouchScrollEnabled:this.isTouchScrollEnabled,onLoad:()=>{this.sourceWidth=this.rive.bounds.maxX,this.sourceHeight=this.rive.bounds.maxY,this.artboards=this.rive.contents.artboards.map(P=>P.name),this.animations=this.rive.contents.artboards.map(P=>P.animations),this.stateMachines=this.rive.contents.artboards.map(P=>P.stateMachines.map(v=>v.name))}}),this.rive.resizeDrawingSurfaceToCanvas()}};var $i=function(){var H,te;var v=this,S=v._self._c;return S("div",{staticClass:"r-flex r-justify-between r-mb-6 r-gap-4"},[S("div",{ref:"riveWrapper"},[S("canvas",{ref:"riveCanvas",staticClass:"r-w-full r-max-h-96",attrs:{height:v.height,width:v.width}})]),S("div",{staticClass:"r-text-xs r-text-right"},[S("p",[S("strong",[v._v("Width:")]),v._v(" "),S("br"),v._v(v._s(v.sourceWidth)+" px")]),S("p",[S("strong",[v._v("Height:")]),v._v(" "),S("br"),v._v(v._s(v.sourceHeight)+" px")]),v._m(0),v.artboards.length?S("ul",[v._l(v.showAllArtboards?v.artboards:v.artboards.slice(0,10),function(he,K){return S("li",{key:K},[v._v(" "+v._s(he)+" ")])}),v.artboards.length>10&&!v.showAllArtboards?S("li",[S("button",{on:{click:function(he){v.showAllArtboards=!0}}},[v._v("...")])]):v._e()],2):S("p",[v._v("None")]),v._m(1),v.animations.length&&((H=v.animations[0])!=null&&H.length)?S("ul",[v._l(v.showAllAnimations?v.animations[0]:v.animations[0].slice(0,10),function(he,K){return S("li",{key:K},[v._v(" "+v._s(he)+" ")])}),v.animations[0].length>10&&!v.showAllAnimations?S("li",[S("button",{on:{click:function(he){v.showAllAnimations=!0}}},[v._v("...")])]):v._e()],2):S("p",[v._v("None")]),v._m(2),v.stateMachines.length&&((te=v.stateMachines[0])!=null&&te.length)?S("ul",[v._l(v.showAllStateMachines?v.stateMachines[0]:v.stateMachines[0].slice(0,10),function(he,K){return S("li",{key:K},[v._v(" "+v._s(he)+" ")])}),v.stateMachines[0].length>10&&!v.showAllStateMachines?S("li",[S("button",{on:{click:function(he){v.showAllStateMachines=!0}}},[v._v("...")])]):v._e()],2):S("p",[v._v("None")])])])},Ni=[function(){var P=this,v=P._self._c;return v("p",[v("strong",[P._v("Artboards:")])])},function(){var P=this,v=P._self._c;return v("p",[v("strong",[P._v("Animations:")])])},function(){var P=this,v=P._self._c;return v("p",[v("strong",[P._v("State Machines:")])])}],Vi=$r(Wi,$i,Ni,!1,null,null,null,null);const Gi=Vi.exports,Yi={components:{RiveWrapper:Gi},mixins:[Fieldtype],inject:["storeName"],data(){var P,v,S,H,te,he,K,X,I,U,re,Q;return{showOptions:!1,data:{isTouchScrollEnabled:((P=this.value)==null?void 0:P.isTouchScrollEnabled)||!0,shouldDisableRiveListeners:((v=this.value)==null?void 0:v.shouldDisableRiveListeners)||!1,animation:((S=this.value)==null?void 0:S.animation)||null,artboard:((H=this.value)==null?void 0:H.artboard)||null,stateMachine:((te=this.value)==null?void 0:te.stateMachine)||null,width:((he=this.value)==null?void 0:he.width)||500,height:((K=this.value)==null?void 0:K.height)||500,url:((X=this.value)==null?void 0:X.url)||null,id:((I=this.value)==null?void 0:I.id)||null,fileName:((U=this.value)==null?void 0:U.fileName)||null,alt:((re=this.value)==null?void 0:re.alt)||null,error:((Q=this.value)==null?void 0:Q.error)||null}}},mounted(){this.config.max_files=1,this.config.min_files=0,this.config.mode="list"},watch:{data:{deep:!0,handler(){this.update(this.data)}}},computed:{riveId(){return this.data.id?[this.data.id]:[]}},methods:{updateRive(P){P[0]&&this.getAsset(P[0],"rive",["riv"])},riveClear(){this.data.url=null,this.data.id=null,this.data.fileName=null,this.data.alt=null},getAsset(P,v,S){this.$axios.post(this.cpUrl("assets-fieldtype"),{assets:[P]}).then(H=>{S.includes(H.data[0].extension)?(this.data.url=H.data[0].url,this.data.id=H.data[0].id,this.data.fileName=H.data[0].basename,this.data.alt=H.data[0].values.alt,this.data.error=null):this.data.error="Invalid file type. Please upload a .riv file"})},cpUrl(P){return P=Statamic.$config.get("cpUrl")+"/"+P,P.replace(/([^:])(\/\/+)/g,"$1/")}}};var Hi=function(){var v=this,S=v._self._c;return S("div",{staticClass:"dark:r-bg-gray-600/5 r-rounded r-p-4 r-mb-4 r-border r-border-black/30"},[v.data.url?S("div",[S("div",{staticClass:"r-flex r-justify-between r-items-center r-p-4"},[S("p",{staticClass:"r-text-sm"},[v._v("Selected Rive Animation:")]),S("div",{staticClass:"r-flex r-items-center r-gap-2"},[S("p",{staticClass:"r-text-sm"},[v._v(v._s(v.data.fileName))]),S("button",{on:{click:v.riveClear}},[v._v(" × ")])])])]):S("div",[S("p",{staticClass:"r-text-sm r-mb-2"},[v._v("Upload a .riv file")]),S("assets-fieldtype",{ref:"assets",staticClass:"assets-fieldtype",attrs:{value:v.riveId,handle:"assets",config:v.config,readOnly:v.readOnly},on:{input:v.updateRive}})],1),v.data.error?S("div",{staticClass:"r-text-red-500"},[v._v(v._s(v.data.error))]):v._e(),v.data.url?S("div",{staticClass:"r-p-4"},[S("RiveWrapper",{key:JSON.stringify(v.data),attrs:{src:v.data.url,stateMachine:v.data.stateMachine,artboard:v.data.artboard,animation:v.data.animation,shouldDisableRiveListeners:v.data.shouldDisableRiveListeners,isTouchScrollEnabled:v.data.isTouchScrollEnabled,width:v.data.width,height:v.data.height}}),S("button",{staticClass:"r-flex d-my-4 r-items-center text-sm",on:{click:function(H){v.showOptions=!v.showOptions}}},[v._v("Configuration Options "),S("svg",{class:v.showOptions?"r-rotate-180":"",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",viewBox:"0 0 20 20"}},[S("path",{attrs:{fill:"currentColor",d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])]),v.showOptions?S("div",{staticClass:"r-grid r-mt-6 r-gap-4"},[S("div",[v._m(0),S("input",{directives:[{name:"model",rawName:"v-model",value:v.data.width,expression:"data.width"}],staticClass:"input-text r-mt-1 r-w-1/2",attrs:{type:"text"},domProps:{value:v.data.width},on:{input:function(H){H.target.composing||v.$set(v.data,"width",H.target.value)}}})]),S("div",[v._m(1),S("input",{directives:[{name:"model",rawName:"v-model",value:v.data.height,expression:"data.height"}],staticClass:"input-text r-mt-1 r-w-1/2",attrs:{type:"text"},domProps:{value:v.data.height},on:{input:function(H){H.target.composing||v.$set(v.data,"height",H.target.value)}}})]),S("div",[v._m(2),S("input",{directives:[{name:"model",rawName:"v-model",value:v.data.animation,expression:"data.animation"}],staticClass:"input-text r-mt-1 r-w-1/2",attrs:{type:"text"},domProps:{value:v.data.animation},on:{input:function(H){H.target.composing||v.$set(v.data,"animation",H.target.value)}}})]),S("div",[v._m(3),S("input",{directives:[{name:"model",rawName:"v-model",value:v.data.artboard,expression:"data.artboard"}],staticClass:"input-text r-mt-1 r-w-1/2",attrs:{type:"text"},domProps:{value:v.data.artboard},on:{input:function(H){H.target.composing||v.$set(v.data,"artboard",H.target.value)}}})]),S("div",[v._m(4),S("input",{directives:[{name:"model",rawName:"v-model",value:v.data.stateMachine,expression:"data.stateMachine"}],staticClass:"input-text r-mt-1 r-w-1/2",attrs:{type:"text"},domProps:{value:v.data.stateMachine},on:{input:function(H){H.target.composing||v.$set(v.data,"stateMachine",H.target.value)}}})]),S("div",[v._m(5),S("toggle-input",{model:{value:v.data.shouldDisableRiveListeners,callback:function(H){v.$set(v.data,"shouldDisableRiveListeners",H)},expression:"data.shouldDisableRiveListeners"}})],1),S("div",[v._m(6),S("toggle-input",{model:{value:v.data.isTouchScrollEnabled,callback:function(H){v.$set(v.data,"isTouchScrollEnabled",H)},expression:"data.isTouchScrollEnabled"}})],1)]):v._e()],1):v._e()])},Xi=[function(){var P=this,v=P._self._c;return v("label",[P._v(" Width "),v("br"),v("span",{staticClass:"r-text-xs r-text-gray-500"},[P._v("Width of the animation")])])},function(){var P=this,v=P._self._c;return v("label",[P._v(" Height "),v("br"),v("span",{staticClass:"r-text-xs r-text-gray-500"},[P._v("Height of the animation")])])},function(){var P=this,v=P._self._c;return v("label",[P._v(" Animation "),v("br"),v("span",{staticClass:"r-text-xs r-text-gray-500"},[P._v(" Name of the animation to use")])])},function(){var P=this,v=P._self._c;return v("label",[P._v(" Art Board "),v("br"),v("span",{staticClass:"r-text-xs r-text-gray-500"},[P._v(" Name of the artboard to use")])])},function(){var P=this,v=P._self._c;return v("label",[P._v(" State Machine "),v("br"),v("span",{staticClass:"r-text-xs r-text-gray-500"},[P._v(" Name of the state machine to use")])])},function(){var P=this,v=P._self._c;return v("label",[P._v("Disable Rive Listeners "),v("br"),v("span",{staticClass:"r-text-xs r-text-gray-500"},[P._v(" Prevent any event listeners from being set up on the element")])])},function(){var P=this,v=P._self._c;return v("label",[P._v("Touch Scroll Enabled "),v("br"),v("span",{staticClass:"r-text-xs r-text-gray-500"},[P._v("Allows scrolling behavior to still occur on canvas elements when a touch/drag action is performed on touch-enabled devices.")])])}],zi=$r(Yi,Hi,Xi,!1,null,null,null,null);const Ki=zi.exports;Statamic.$components.register("rive-fieldtype",Ki);
