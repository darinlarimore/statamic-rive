var vn={exports:{}},ki=vn.exports,$r;function Wi(){return $r||($r=1,(function(P,m){(function(N,ae){P.exports=ae()})(ki,()=>(()=>{var R=[,((ne,z,H)=>{H.r(z),H.d(z,{default:()=>le});var Ae=(()=>{var J=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return(function(D={}){var f=D,Ce,Q;f.ready=new Promise((e,t)=>{Ce=e,Q=t});function re(){function e(u){const c=r;n=t=0,r=new Map,c.forEach(v=>{try{v(u)}catch(d){console.error(d)}}),this.kb(),i&&i.Mb()}let t=0,n=0,r=new Map,i=null,a=null;this.requestAnimationFrame=function(u){t||(t=requestAnimationFrame(e.bind(this)));const c=++n;return r.set(c,u),c},this.cancelAnimationFrame=function(u){r.delete(u),t&&r.size==0&&(cancelAnimationFrame(t),t=0)},this.Kb=function(u){a&&(document.body.remove(a),a=null),u||(a=document.createElement("div"),a.style.backgroundColor="black",a.style.position="fixed",a.style.right=0,a.style.top=0,a.style.color="white",a.style.padding="4px",a.innerHTML="RIVE FPS",u=function(c){a.innerHTML="RIVE FPS "+c.toFixed(1)},document.body.appendChild(a)),i=new function(){let c=0,v=0;this.Mb=function(){var d=performance.now();v?(++c,d-=v,1e3<d&&(u(1e3*c/d),c=v=0)):(v=d,c=0)}}},this.kb=function(){}}function Ge(){console.assert(!0);const e=new Map;let t=-1/0;this.push=function(n){return n=n+255>>8,e.has(n)&&clearTimeout(e.get(n)),e.set(n,setTimeout(function(){e.delete(n),e.length==0?t=-1/0:n==t&&(t=Math.max(...e.keys()),console.assert(t<n))},1e3)),t=Math.max(n,t),t<<8}}const he=f.onRuntimeInitialized;f.onRuntimeInitialized=function(){he&&he();let e=f.decodeAudio;f.decodeAudio=function(i,a){i=e(i),a(i)};let t=f.decodeFont;f.decodeFont=function(i,a){i=t(i),a(i)};const n=f.FileAssetLoader;f.ptrToAsset=i=>{let a=f.ptrToFileAsset(i);return a.isImage?f.ptrToImageAsset(i):a.isFont?f.ptrToFontAsset(i):a.isAudio?f.ptrToAudioAsset(i):a},f.CustomFileAssetLoader=n.extend("CustomFileAssetLoader",{__construct:function({loadContents:i}){this.__parent.__construct.call(this),this.Bb=i},loadContents:function(i,a){return i=f.ptrToAsset(i),this.Bb(i,a)}}),f.CDNFileAssetLoader=n.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(i){let a=f.ptrToAsset(i);return i=a.cdnUuid,i===""?!1:((function(u,c){var v=new XMLHttpRequest;v.responseType="arraybuffer",v.onreadystatechange=function(){v.readyState==4&&v.status==200&&c(v)},v.open("GET",u,!0),v.send(null)})(a.cdnBaseUrl+"/"+i,u=>{a.decode(new Uint8Array(u.response))}),!0)}}),f.FallbackFileAssetLoader=n.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.fb=[]},addLoader:function(i){this.fb.push(i)},loadContents:function(i,a){for(let u of this.fb)if(u.loadContents(i,a))return!0;return!1}});let r=f.computeAlignment;f.computeAlignment=function(i,a,u,c,v=1){return r.call(this,i,a,u,c,v)}};const ie=f.onRuntimeInitialized;f.onRuntimeInitialized=function(){function e(_){this.F=_,this.yb=_.getContext("2d"),this.Db=i,this.R=[],this.ja=0,this.clear=function(){console.assert(this.ja==0),this.R=[],a.delete(this)},this.save=function(){++this.ja,this.R.push(i.save.bind(i))},this.restore=function(){0<this.ja&&(this.R.push(i.restore.bind(i)),--this.ja)},this.transform=function(C){this.R.push(i.transform.bind(i,C))},this.align=function(C,F,k,W,se=1){this.R.push(i.align.bind(i,C,F,k,W,se))},this.flush=function(){console.assert(this.ja==0),a.add(this),r&&n()}}function t(_){var C={alpha:1,depth:0,stencil:8,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:0,renderViaOffscreenBackBuffer:0},F=_.getContext("webgl2",C);F||(F=_.getContext("webgl",C));var k=F,W=It(Fn),se={handle:W,attributes:C,version:C.Dc,Ta:k};return k.canvas&&(k.canvas.pc=se),Fn[W]=se,(typeof C.Jb>"u"||C.Jb)&&yi(se),jn(W),C=u(_.width,_.height),C.Ab=W,C.F=_,C.Va=_.width,C.Ua=_.height,C.zb=F,C}function n(){if(i){var _=i.Cb,C=0,F=0,k=0,W=Array(a.size),se=0;for(var te of a)te.da=Math.min(te.F.width,_),te.ca=Math.min(te.F.height,_),te.Ja=te.ca*te.da,C=Math.max(C,te.da),F=Math.max(F,te.ca),k+=te.Ja,W[se++]=te;if(a.clear(),!(0>=k)){for(C=1<<(0>=C?0:32-Math.clz32(C-1)),F=1<<(0>=F?0:32-Math.clz32(F-1));F*C<k;)C<=F?C*=2:F*=2;for(C=Math.min(C,_),C=Math.min(F,_),W.sort((Ue,Bn)=>Bn.Ja-Ue.Ja),k=new f.DynamicRectanizer(_),te=0;te<W.length;){for(k.reset(C,F),se=te;se<W.length;++se){var ue=W[se],U=k.addRect(ue.da,ue.ca);if(0>U){console.assert(se>te);break}ue.pa=U&65535,ue.qa=U>>16}for(ue=v.push(k.drawWidth()),U=d.push(k.drawHeight()),console.assert(ue>=k.drawWidth()),console.assert(U>=k.drawHeight()),console.assert(ue<=_),console.assert(U<=_),i.F.width!=ue&&(i.F.width=ue),i.F.height!=U&&(i.F.height=U),i.clear(),ue=te;ue<se;++ue){U=W[ue],i.saveClipRect(U.pa,U.qa,U.pa+U.da,U.qa+U.ca);let Ue=new f.Mat2D;Ue.xx=U.da/U.F.width,Ue.yy=U.ca/U.F.height,Ue.xy=Ue.yx=0,Ue.tx=U.pa,Ue.ty=U.qa,i.transform(Ue);for(const Bn of U.R)Bn();i.restoreClipRect(),U.R=[]}for(i.flush();te<se;++te)ue=W[te],U=ue.yb,U.globalCompositeOperation="copy",U.drawImage(i.F,ue.pa,ue.qa,ue.da,ue.ca,0,0,ue.F.width,ue.F.height);te=se}}}}ie&&ie();const r=navigator.userAgent.match(/firefox|fxios/i);let i=null;const a=new Set,u=f.makeRenderer;f.makeRenderer=function(_,C){return C?(i||(i=t(document.createElement("canvas")),C=i.zb,i.Cb=Math.min(C.getParameter(C.MAX_RENDERBUFFER_SIZE),C.getParameter(C.MAX_TEXTURE_SIZE))),new e(_)):t(_)};const c=f.Artboard.prototype.draw;f.Artboard.prototype.draw=function(_){_.R?_.R.push(c.bind(this,_.Db)):c.call(this,_)};const v=new Ge,d=new Ge,b=new re;f.requestAnimationFrame=b.requestAnimationFrame.bind(b),f.cancelAnimationFrame=b.cancelAnimationFrame.bind(b),f.enableFPSCounter=b.Kb.bind(b),b.kb=n,f.resolveAnimationFrame=n;let E=f.load;f.load=function(_,C,F=!0){const k=new f.FallbackFileAssetLoader;return C!==void 0&&k.addLoader(C),F&&(C=new f.CDNFileAssetLoader,k.addLoader(C)),Promise.resolve(E(_,k))};const L=f.WebGLRenderer.prototype.clear;f.WebGLRenderer.prototype.clear=function(){jn(this.Ab);const _=this.F;(this.Va!=_.width||this.Ua!=_.height)&&(this.resize(_.width,_.height),this.Va=_.width,this.Ua=_.height),L.call(this)},f.decodeImage=function(_,C){_=f.decodeImageSkia(_),C(_)};let g=f.Renderer.prototype.align;f.Renderer.prototype.align=function(_,C,F,k,W=1){g.call(this,_,C,F,k,W)}};var fe=Object.assign({},f),Ee="./this.program",Se=typeof window=="object",Ye=typeof importScripts=="function",T="",Te,Fe;(Se||Ye)&&(Ye?T=self.location.href:typeof document<"u"&&document.currentScript&&(T=document.currentScript.src),J&&(T=J),T.indexOf("blob:")!==0?T=T.substr(0,T.replace(/[?#].*/,"").lastIndexOf("/")+1):T="",Ye&&(Fe=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Te=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{r.status==200||r.status==0&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var at=f.print||console.log.bind(console),X=f.printErr||console.error.bind(console);Object.assign(f,fe),fe=null,f.thisProgram&&(Ee=f.thisProgram);var xe;f.wasmBinary&&(xe=f.wasmBinary),f.noExitRuntime,typeof WebAssembly!="object"&&x("no native wasm support detected");var pe,$,st=!1,ce,V,ge,De,A,G,M,Ne;function He(){var e=pe.buffer;f.HEAP8=ce=new Int8Array(e),f.HEAP16=ge=new Int16Array(e),f.HEAP32=A=new Int32Array(e),f.HEAPU8=V=new Uint8Array(e),f.HEAPU16=De=new Uint16Array(e),f.HEAPU32=G=new Uint32Array(e),f.HEAPF32=M=new Float32Array(e),f.HEAPF64=Ne=new Float64Array(e)}var et,l=[],o=[],s=[];function p(){var e=f.preRun.shift();l.unshift(e)}var y=0,w=null;function x(e){throw f.onAbort&&f.onAbort(e),e="Aborted("+e+")",X(e),st=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),Q(e),e}function j(e){return e.startsWith("data:application/octet-stream;base64,")}var O;if(O="webgl_advanced.wasm",!j(O)){var I=O;O=f.locateFile?f.locateFile(I,T):T+I}function q(e){if(e==O&&xe)return new Uint8Array(xe);if(Fe)return Fe(e);throw"both async and sync fetching of the wasm failed"}function de(e){if(!xe&&(Se||Ye)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>q(e));if(Te)return new Promise((t,n)=>{Te(e,r=>t(new Uint8Array(r)),n)})}return Promise.resolve().then(()=>q(e))}function Le(e,t,n){return de(e).then(r=>WebAssembly.instantiate(r,t)).then(r=>r).then(n,r=>{X("failed to asynchronously prepare wasm: "+r),x(r)})}function ve(e,t){var n=O;return xe||typeof WebAssembly.instantiateStreaming!="function"||j(n)||n.startsWith("file://")||typeof fetch!="function"?Le(n,e,t):fetch(n,{credentials:"same-origin"}).then(r=>WebAssembly.instantiateStreaming(r,e).then(t,function(i){return X("wasm streaming compile failed: "+i),X("falling back to ArrayBuffer instantiation"),Le(n,e,t)}))}var je,Re,ut={702476:(e,t,n,r,i)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Ea:0},window.h.H={},window.h.H.Ca=e,window.h.H.capture=t,window.h.H.La=n,window.h.ha={},window.h.ha.stopped=r,window.h.ha.sb=i;let a=window.h;a.C=[],a.nc=function(u){for(var c=0;c<a.C.length;++c)if(a.C[c]==null)return a.C[c]=u,c;return a.C.push(u),a.C.length-1},a.xb=function(u){for(a.C[u]=null;0<a.C.length&&a.C[a.C.length-1]==null;)a.C.pop()},a.Kc=function(u){for(var c=0;c<a.C.length;++c)if(a.C[c]==u)return a.xb(c)},a.ta=function(u){return a.C[u]},a.wb=["touchend","click"],a.unlock=function(){for(var u=0;u<a.C.length;++u){var c=a.C[u];c!=null&&c.I!=null&&c.state===a.ha.sb&&c.I.resume().then(()=>{jr(c.lb)},v=>{console.error("Failed to resume audiocontext",v)})}a.wb.map(function(v){document.removeEventListener(v,a.unlock,!0)})},a.wb.map(function(u){document.addEventListener(u,a.unlock,!0)})}return window.h.Ea+=1,1},704654:()=>{typeof window.h<"u"&&(--window.h.Ea,window.h.Ea===0&&delete window.h)},704818:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,704922:()=>{try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate;return e.close(),t}catch{return 0}},705093:(e,t,n,r,i,a)=>{if(typeof window.h>"u")return-1;var u={},c={};return e==window.h.H.Ca&&n!=0&&(c.sampleRate=n),u.I=new(window.AudioContext||window.webkitAudioContext)(c),u.I.suspend(),u.state=window.h.ha.stopped,n=0,e!=window.h.H.Ca&&(n=t),u.X=u.I.createScriptProcessor(r,n,t),u.X.onaudioprocess=function(v){if((u.ua==null||u.ua.length==0)&&(u.ua=new Float32Array(M.buffer,i,r*t)),e==window.h.H.capture||e==window.h.H.La){for(var d=0;d<t;d+=1)for(var b=v.inputBuffer.getChannelData(d),E=u.ua,L=0;L<r;L+=1)E[L*t+d]=b[L];Ir(a,r,i)}if(e==window.h.H.Ca||e==window.h.H.La)for(Dr(a,r,i),d=0;d<v.outputBuffer.numberOfChannels;++d)for(b=v.outputBuffer.getChannelData(d),E=u.ua,L=0;L<r;L+=1)b[L]=E[L*t+d];else for(d=0;d<v.outputBuffer.numberOfChannels;++d)v.outputBuffer.getChannelData(d).fill(0)},e!=window.h.H.capture&&e!=window.h.H.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(v){u.Fa=u.I.createMediaStreamSource(v),u.Fa.connect(u.X),u.X.connect(u.I.destination)}).catch(function(v){console.log("Failed to get user media: "+v)}),e==window.h.H.Ca&&u.X.connect(u.I.destination),u.lb=a,window.h.nc(u)},707970:e=>window.h.ta(e).I.sampleRate,708043:e=>{e=window.h.ta(e),e.X!==void 0&&(e.X.onaudioprocess=function(){},e.X.disconnect(),e.X=void 0),e.Fa!==void 0&&(e.Fa.disconnect(),e.Fa=void 0),e.I.close(),e.I=void 0,e.lb=void 0},708443:e=>{window.h.xb(e)},708493:e=>{e=window.h.ta(e),e.I.resume(),e.state=window.h.ha.sb},708632:e=>{e=window.h.ta(e),e.I.suspend(),e.state=window.h.ha.stopped}},dt=e=>{for(;0<e.length;)e.shift()(f)},wt=(e,t)=>{for(var n=0,r=e.length-1;0<=r;r--){var i=e[r];i==="."?e.splice(r,1):i===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},tt=e=>{var t=e.charAt(0)==="/",n=e.substr(-1)==="/";return(e=wt(e.split("/").filter(r=>!!r),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},bt=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)},nt=e=>{if(e==="/")return"/";e=tt(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},At=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);x("initRandomDevice")},Xe=e=>(Xe=At())(e);function kt(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if(t=0<=n?arguments[n]:"/",typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=wt(e.split("/").filter(r=>!!r),!t).join("/"),(t?"/":"")+e||"."}var kn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Oe=(e,t,n)=>{var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&kn)return kn.decode(e.subarray(t,n));for(r="";t<n;){var i=e[t++];if(i&128){var a=e[t++]&63;if((i&224)==192)r+=String.fromCharCode((i&31)<<6|a);else{var u=e[t++]&63;i=(i&240)==224?(i&15)<<12|a<<6|u:(i&7)<<18|a<<12|u<<6|e[t++]&63,65536>i?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|i&1023))}}else r+=String.fromCharCode(i)}return r},mn=[],pn=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t},Ct=(e,t,n,r)=>{if(!(0<r))return 0;var i=n;r=n+r-1;for(var a=0;a<e.length;++a){var u=e.charCodeAt(a);if(55296<=u&&57343>=u){var c=e.charCodeAt(++a);u=65536+((u&1023)<<10)|c&1023}if(127>=u){if(n>=r)break;t[n++]=u}else{if(2047>=u){if(n+1>=r)break;t[n++]=192|u>>6}else{if(65535>=u){if(n+2>=r)break;t[n++]=224|u>>12}else{if(n+3>=r)break;t[n++]=240|u>>18,t[n++]=128|u>>12&63}t[n++]=128|u>>6&63}t[n++]=128|u&63}}return t[n]=0,n-i};function Wn(e,t){var n=Array(pn(e)+1);return e=Ct(e,n,0,n.length),t&&(n.length=e),n}var $n=[];function Nn(e,t){$n[e]={input:[],D:[],T:t},_n(e,Vr)}var Vr={open:function(e){var t=$n[e.node.Da];if(!t)throw new S(43);e.s=t,e.seekable=!1},close:function(e){e.s.T.sa(e.s)},sa:function(e){e.s.T.sa(e.s)},read:function(e,t,n,r){if(!e.s||!e.s.T.eb)throw new S(60);for(var i=0,a=0;a<r;a++){try{var u=e.s.T.eb(e.s)}catch{throw new S(29)}if(u===void 0&&i===0)throw new S(6);if(u==null)break;i++,t[n+a]=u}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,n,r){if(!e.s||!e.s.T.Oa)throw new S(60);try{for(var i=0;i<r;i++)e.s.T.Oa(e.s,t[n+i])}catch{throw new S(29)}return r&&(e.node.timestamp=Date.now()),i}},Gr={eb:function(){e:{if(!mn.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e){e=null;break e}mn=Wn(e,!0)}e=mn.shift()}return e},Oa:function(e,t){t===null||t===10?(at(Oe(e.D,0)),e.D=[]):t!=0&&e.D.push(t)},sa:function(e){e.D&&0<e.D.length&&(at(Oe(e.D,0)),e.D=[])},Wb:function(){return{uc:25856,wc:5,tc:191,vc:35387,sc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Xb:function(){return 0},Yb:function(){return[24,80]}},Yr={Oa:function(e,t){t===null||t===10?(X(Oe(e.D,0)),e.D=[]):t!=0&&e.D.push(t)},sa:function(e){e.D&&0<e.D.length&&(X(Oe(e.D,0)),e.D=[])}};function Vn(e,t){var n=e.j?e.j.length:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)>>>0),n!=0&&(t=Math.max(t,256)),n=e.j,e.j=new Uint8Array(t),0<e.v&&e.j.set(n.subarray(0,e.v),0))}var Y={N:null,S(){return Y.createNode(null,"/",16895,0)},createNode(e,t,n,r){if((n&61440)===24576||(n&61440)===4096)throw new S(63);return Y.N||(Y.N={dir:{node:{W:Y.l.W,O:Y.l.O,ka:Y.l.ka,Aa:Y.l.Aa,qb:Y.l.qb,vb:Y.l.vb,rb:Y.l.rb,ob:Y.l.ob,Ga:Y.l.Ga},stream:{$:Y.m.$}},file:{node:{W:Y.l.W,O:Y.l.O},stream:{$:Y.m.$,read:Y.m.read,write:Y.m.write,ra:Y.m.ra,hb:Y.m.hb,jb:Y.m.jb}},link:{node:{W:Y.l.W,O:Y.l.O,la:Y.l.la},stream:{}},Wa:{node:{W:Y.l.W,O:Y.l.O},stream:Kr}}),n=zn(e,t,n,r),(n.mode&61440)===16384?(n.l=Y.N.dir.node,n.m=Y.N.dir.stream,n.j={}):(n.mode&61440)===32768?(n.l=Y.N.file.node,n.m=Y.N.file.stream,n.v=0,n.j=null):(n.mode&61440)===40960?(n.l=Y.N.link.node,n.m=Y.N.link.stream):(n.mode&61440)===8192&&(n.l=Y.N.Wa.node,n.m=Y.N.Wa.stream),n.timestamp=Date.now(),e&&(e.j[t]=n,e.timestamp=n.timestamp),n},Ac(e){return e.j?e.j.subarray?e.j.subarray(0,e.v):new Uint8Array(e.j):new Uint8Array(0)},l:{W(e){var t={};return t.zc=(e.mode&61440)===8192?e.id:1,t.Cc=e.id,t.mode=e.mode,t.Gc=1,t.uid=0,t.Bc=0,t.Da=e.Da,(e.mode&61440)===16384?t.size=4096:(e.mode&61440)===32768?t.size=e.v:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.qc=new Date(e.timestamp),t.Ec=new Date(e.timestamp),t.xc=new Date(e.timestamp),t.Eb=4096,t.rc=Math.ceil(t.size/t.Eb),t},O(e,t){if(t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&(t=t.size,e.v!=t))if(t==0)e.j=null,e.v=0;else{var n=e.j;e.j=new Uint8Array(t),n&&e.j.set(n.subarray(0,Math.min(t,e.v))),e.v=t}},ka(){throw yn[44]},Aa(e,t,n,r){return Y.createNode(e,t,n,r)},qb(e,t,n){if((e.mode&61440)===16384){try{var r=$t(t,n)}catch{}if(r)for(var i in r.j)throw new S(55)}delete e.parent.j[e.name],e.parent.timestamp=Date.now(),e.name=n,t.j[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},vb(e,t){delete e.j[t],e.timestamp=Date.now()},rb(e,t){var n=$t(e,t),r;for(r in n.j)throw new S(55);delete e.j[t],e.timestamp=Date.now()},ob(e){var t=[".",".."],n;for(n in e.j)e.j.hasOwnProperty(n)&&t.push(n);return t},Ga(e,t,n){return e=Y.createNode(e,t,41471,0),e.link=n,e},la(e){if((e.mode&61440)!==40960)throw new S(28);return e.link}},m:{read(e,t,n,r,i){var a=e.node.j;if(i>=e.node.v)return 0;if(e=Math.min(e.node.v-i,r),8<e&&a.subarray)t.set(a.subarray(i,i+e),n);else for(r=0;r<e;r++)t[n+r]=a[i+r];return e},write(e,t,n,r,i,a){if(t.buffer===ce.buffer&&(a=!1),!r)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.j||e.j.subarray)){if(a)return e.j=t.subarray(n,n+r),e.v=r;if(e.v===0&&i===0)return e.j=t.slice(n,n+r),e.v=r;if(i+r<=e.v)return e.j.set(t.subarray(n,n+r),i),r}if(Vn(e,i+r),e.j.subarray&&t.subarray)e.j.set(t.subarray(n,n+r),i);else for(a=0;a<r;a++)e.j[i+a]=t[n+a];return e.v=Math.max(e.v,i+r),r},$(e,t,n){if(n===1?t+=e.position:n===2&&(e.node.mode&61440)===32768&&(t+=e.node.v),0>t)throw new S(28);return t},ra(e,t,n){Vn(e.node,t+n),e.node.v=Math.max(e.node.v,t+n)},hb(e,t,n,r,i){if((e.node.mode&61440)!==32768)throw new S(43);if(e=e.node.j,i&2||e.buffer!==ce.buffer){if((0<n||n+t<e.length)&&(e.subarray?e=e.subarray(n,n+t):e=Array.prototype.slice.call(e,n,n+t)),n=!0,t=65536*Math.ceil(t/65536),(i=kr(65536,t))?(V.fill(0,i,i+t),t=i):t=0,!t)throw new S(48);ce.set(e,t)}else n=!1,t=e.byteOffset;return{o:t,L:n}},jb(e,t,n,r){return Y.m.write(e,t,0,r,n,!1),0}}};function Hr(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}var gn=null,Gn={},Wt=[],Xr=1,xt=null,Yn=!0,S=null,yn={},lt=(e,t={})=>{if(e=kt(e),!e)return{path:"",node:null};if(t=Object.assign({bb:!0,Qa:0},t),8<t.Qa)throw new S(32);e=e.split("/").filter(u=>!!u);for(var n=gn,r="/",i=0;i<e.length;i++){var a=i===e.length-1;if(a&&t.parent)break;if(n=$t(n,e[i]),r=tt(r+"/"+e[i]),n.Ba&&(!a||a&&t.bb)&&(n=n.Ba.root),!a||t.ab){for(a=0;(n.mode&61440)===40960;)if(n=Qr(r),r=kt(bt(r),n),n=lt(r,{Qa:t.Qa+1}).node,40<a++)throw new S(32)}}return{path:r,node:n}},Hn=e=>{for(var t;;){if(e===e.parent)return e=e.S.ib,t?e[e.length-1]!=="/"?`${e}/${t}`:e+t:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}},Xn=(e,t)=>{for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%xt.length},$t=(e,t)=>{var n;if(n=(n=Nt(e,"x"))?n:e.l.ka?0:2)throw new S(n,e);for(n=xt[Xn(e.id,t)];n;n=n.ac){var r=n.name;if(n.parent.id===e.id&&r===t)return n}return e.l.ka(e,t)},zn=(e,t,n,r)=>(e=new Mr(e,t,n,r),t=Xn(e.parent.id,e.name),e.ac=xt[t],xt[t]=e),Kn=e=>{var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},Nt=(e,t)=>{if(Yn)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0},Qn=(e,t)=>{try{return $t(e,t),20}catch{}return Nt(e,"wx")},zr=()=>{for(var e=0;4096>=e;e++)if(!Wt[e])return e;throw new S(33)},rt=e=>{if(e=Wt[e],!e)throw new S(8);return e},Zn=(e,t=-1)=>(St||(St=function(){this.h={}},St.prototype={},Object.defineProperties(St.prototype,{object:{get(){return this.node},set(n){this.node=n}},flags:{get(){return this.h.flags},set(n){this.h.flags=n}},position:{get(){return this.h.position},set(n){this.h.position=n}}})),e=Object.assign(new St,e),t==-1&&(t=zr()),e.V=t,Wt[t]=e),Kr={open:e=>{e.m=Gn[e.node.Da].m,e.m.open&&e.m.open(e)},$:()=>{throw new S(70)}},_n=(e,t)=>{Gn[e]={m:t}},Jn=(e,t)=>{var n=t==="/",r=!t;if(n&&gn)throw new S(10);if(!n&&!r){var i=lt(t,{bb:!1});if(t=i.path,i=i.node,i.Ba)throw new S(10);if((i.mode&61440)!==16384)throw new S(54)}t={type:e,Ic:{},ib:t,$b:[]},e=e.S(t),e.S=t,t.root=e,n?gn=e:i&&(i.Ba=t,i.S&&i.S.$b.push(t))},Be=(e,t,n)=>{var r=lt(e,{parent:!0}).node;if(e=nt(e),!e||e==="."||e==="..")throw new S(28);var i=Qn(r,e);if(i)throw new S(i);if(!r.l.Aa)throw new S(63);return r.l.Aa(r,e,t,n)},Vt=(e,t,n)=>{typeof n>"u"&&(n=t,t=438),Be(e,t|8192,n)},wn=(e,t)=>{if(!kt(e))throw new S(44);var n=lt(t,{parent:!0}).node;if(!n)throw new S(44);t=nt(t);var r=Qn(n,t);if(r)throw new S(r);if(!n.l.Ga)throw new S(63);n.l.Ga(n,t,e)},Qr=e=>{if(e=lt(e).node,!e)throw new S(44);if(!e.l.la)throw new S(28);return kt(Hn(e.parent),e.l.la(e))},Gt=(e,t,n)=>{if(e==="")throw new S(44);if(typeof t=="string"){var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(typeof r>"u")throw Error(`Unknown file open mode: ${t}`);t=r}if(n=t&64?(typeof n>"u"?438:n)&4095|32768:0,typeof e=="object")var i=e;else{e=tt(e);try{i=lt(e,{ab:!(t&131072)}).node}catch{}}if(r=!1,t&64)if(i){if(t&128)throw new S(20)}else i=Be(e,n,0),r=!0;if(!i)throw new S(44);if((i.mode&61440)===8192&&(t&=-513),t&65536&&(i.mode&61440)!==16384)throw new S(54);if(!r&&(n=i?(i.mode&61440)===40960?32:(i.mode&61440)===16384&&(Kn(t)!=="r"||t&512)?31:Nt(i,Kn(t)):44))throw new S(n);if(t&512&&!r){if(n=i,n=typeof n=="string"?lt(n,{ab:!0}).node:n,!n.l.O)throw new S(63);if((n.mode&61440)===16384)throw new S(31);if((n.mode&61440)!==32768)throw new S(28);if(r=Nt(n,"w"))throw new S(r);n.l.O(n,{size:0,timestamp:Date.now()})}return t&=-131713,i=Zn({node:i,path:Hn(i),flags:t,seekable:!0,position:0,m:i.m,oc:[],error:!1}),i.m.open&&i.m.open(i),!f.logReadFiles||t&1||(Yt||(Yt={}),e in Yt||(Yt[e]=1)),i},qn=(e,t,n)=>{if(e.V===null)throw new S(8);if(!e.seekable||!e.m.$)throw new S(70);if(n!=0&&n!=1&&n!=2)throw new S(28);e.position=e.m.$(e,t,n),e.oc=[]},Un=()=>{S||(S=function(e,t){this.name="ErrnoError",this.node=t,this.dc=function(n){this.Z=n},this.dc(e),this.message="FS error"},S.prototype=Error(),S.prototype.constructor=S,[44].forEach(e=>{yn[e]=new S(e),yn[e].stack="<generic error, no stack>"}))},er,Et=(e,t,n)=>{e=tt("/dev/"+e);var r=Hr(!!t,!!n);bn||(bn=64);var i=bn++<<8|0;_n(i,{open:a=>{a.seekable=!1},close:()=>{n&&n.buffer&&n.buffer.length&&n(10)},read:(a,u,c,v)=>{for(var d=0,b=0;b<v;b++){try{var E=t()}catch{throw new S(29)}if(E===void 0&&d===0)throw new S(6);if(E==null)break;d++,u[c+b]=E}return d&&(a.node.timestamp=Date.now()),d},write:(a,u,c,v)=>{for(var d=0;d<v;d++)try{n(u[c+d])}catch{throw new S(29)}return v&&(a.node.timestamp=Date.now()),d}}),Vt(e,r,i)},bn,ct={},St,Yt,Lt=void 0;function ze(){return Lt+=4,A[Lt-4>>2]}function tr(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e}function Ht(e,t){return e=tr(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function nr(){this.L=[void 0],this.cb=[]}var Ie=new nr,vt=void 0;function B(e){throw new vt(e)}var ke=e=>(e||B("Cannot use deleted val. handle = "+e),Ie.get(e).value),Ke=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Ie.ra({pb:1,value:e})}};function rr(e){var t=Error,n=Ht(e,function(r){this.name=e,this.message=r,r=Error(r).stack,r!==void 0&&(this.stack=this.toString()+`
`+r.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},n}var ir=void 0,or=void 0;function oe(e){for(var t="";V[e];)t+=or[V[e++]];return t}var Rt=[];function An(){for(;Rt.length;){var e=Rt.pop();e.g.ga=!1,e.delete()}}var Pt=void 0,Qe={};function Cn(e,t){for(t===void 0&&B("ptr should not be undefined");e.A;)t=e.na(t),e=e.A;return t}var ft={};function ar(e){e=Br(e);var t=oe(e);return qe(e),t}function Mt(e,t){var n=ft[e];return n===void 0&&B(t+" has unknown type "+ar(e)),n}function Xt(){}var xn=!1;function sr(e){--e.count.value,e.count.value===0&&(e.G?e.K.U(e.G):e.u.i.U(e.o))}function ur(e,t,n){return t===n?e:n.A===void 0?null:(e=ur(e,t,n.A),e===null?null:n.Ib(e))}var lr={};function Zr(e,t){return t=Cn(e,t),Qe[t]}var cr=void 0;function zt(e){throw new cr(e)}function Kt(e,t){return t.u&&t.o||zt("makeClassHandle requires ptr and ptrType"),!!t.K!=!!t.G&&zt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},mt(Object.create(e,{g:{value:t}}))}function mt(e){return typeof FinalizationRegistry>"u"?(mt=t=>t,e):(xn=new FinalizationRegistry(t=>{sr(t.g)}),mt=t=>{var n=t.g;return n.G&&xn.register(t,{g:n},t),t},Xt=t=>{xn.unregister(t)},mt(e))}var Qt={};function Tt(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Ft(e){return this.fromWireType(A[e>>2])}var pt={},Zt={};function Pe(e,t,n){function r(c){c=n(c),c.length!==e.length&&zt("Mismatched type converter count");for(var v=0;v<e.length;++v)Ve(e[v],c[v])}e.forEach(function(c){Zt[c]=t});var i=Array(t.length),a=[],u=0;t.forEach((c,v)=>{ft.hasOwnProperty(c)?i[v]=ft[c]:(a.push(c),pt.hasOwnProperty(c)||(pt[c]=[]),pt[c].push(()=>{i[v]=ft[c],++u,u===a.length&&r(i)}))}),a.length===0&&r(i)}function Jt(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${e}`)}}function Jr(e,t,n={}){var r=t.name;if(e||B(`type "${r}" must have a positive integer typeid pointer`),ft.hasOwnProperty(e)){if(n.Tb)return;B(`Cannot register type '${r}' twice`)}ft[e]=t,delete Zt[e],pt.hasOwnProperty(e)&&(t=pt[e],delete pt[e],t.forEach(i=>i()))}function Ve(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");Jr(e,t,n)}function En(e){B(e.g.u.i.name+" instance already deleted")}function it(){}function Sn(e,t,n){if(e[t].B===void 0){var r=e[t];e[t]=function(){return e[t].B.hasOwnProperty(arguments.length)||B(`Function '${n}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].B})!`),e[t].B[arguments.length].apply(this,arguments)},e[t].B=[],e[t].B[r.ea]=r}}function Ln(e,t,n){f.hasOwnProperty(e)?((n===void 0||f[e].B!==void 0&&f[e].B[n]!==void 0)&&B(`Cannot register public name '${e}' twice`),Sn(f,e,e),f.hasOwnProperty(n)&&B(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),f[e].B[n]=t):(f[e]=t,n!==void 0&&(f[e].Hc=n))}function qr(e,t,n,r,i,a,u,c){this.name=e,this.constructor=t,this.M=n,this.U=r,this.A=i,this.Nb=a,this.na=u,this.Ib=c,this.mb=[]}function qt(e,t,n){for(;t!==n;)t.na||B(`Expected null or instance of ${n.name}, got an instance of ${t.name}`),e=t.na(e),t=t.A;return e}function Ur(e,t){return t===null?(this.Na&&B(`null is not a valid ${this.name}`),0):(t.g||B(`Cannot pass "${Pn(t)}" as a ${this.name}`),t.g.o||B(`Cannot pass deleted object as a pointer of type ${this.name}`),qt(t.g.o,t.g.u.i,this.i))}function ei(e,t){if(t===null){if(this.Na&&B(`null is not a valid ${this.name}`),this.wa){var n=this.Pa();return e!==null&&e.push(this.U,n),n}return 0}if(t.g||B(`Cannot pass "${Pn(t)}" as a ${this.name}`),t.g.o||B(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.va&&t.g.u.va&&B(`Cannot convert argument of type ${t.g.K?t.g.K.name:t.g.u.name} to parameter type ${this.name}`),n=qt(t.g.o,t.g.u.i,this.i),this.wa)switch(t.g.G===void 0&&B("Passing raw pointer to smart pointer is illegal"),this.ic){case 0:t.g.K===this?n=t.g.G:B(`Cannot convert argument of type ${t.g.K?t.g.K.name:t.g.u.name} to parameter type ${this.name}`);break;case 1:n=t.g.G;break;case 2:if(t.g.K===this)n=t.g.G;else{var r=t.clone();n=this.cc(n,Ke(function(){r.delete()})),e!==null&&e.push(this.U,n)}break;default:B("Unsupporting sharing policy")}return n}function ti(e,t){return t===null?(this.Na&&B(`null is not a valid ${this.name}`),0):(t.g||B(`Cannot pass "${Pn(t)}" as a ${this.name}`),t.g.o||B(`Cannot pass deleted object as a pointer of type ${this.name}`),t.g.u.va&&B(`Cannot convert argument of type ${t.g.u.name} to parameter type ${this.name}`),qt(t.g.o,t.g.u.i,this.i))}function Ze(e,t,n,r){this.name=e,this.i=t,this.Na=n,this.va=r,this.wa=!1,this.U=this.cc=this.Pa=this.nb=this.ic=this.bc=void 0,t.A!==void 0?this.toWireType=ei:(this.toWireType=r?Ur:ti,this.J=null)}function fr(e,t,n){f.hasOwnProperty(e)||zt("Replacing nonexistant public symbol"),f[e].B!==void 0&&n!==void 0?f[e].B[n]=t:(f[e]=t,f[e].ea=n)}var Ut=[],me=e=>{var t=Ut[e];return t||(e>=Ut.length&&(Ut.length=e+1),Ut[e]=t=et.get(e)),t},ni=(e,t)=>{var n=[];return function(){if(n.length=0,Object.assign(n,arguments),e.includes("j")){var r=f["dynCall_"+e];r=n&&n.length?r.apply(null,[t].concat(n)):r.call(null,t)}else r=me(t).apply(null,n);return r}};function ye(e,t){e=oe(e);var n=e.includes("j")?ni(e,t):me(t);return typeof n!="function"&&B(`unknown function pointer with signature ${e}: ${t}`),n}var hr=void 0;function Je(e,t){function n(a){i[a]||ft[a]||(Zt[a]?Zt[a].forEach(n):(r.push(a),i[a]=!0))}var r=[],i={};throw t.forEach(n),new hr(`${e}: `+r.map(ar).join([", "]))}function en(e,t,n,r,i){var a=t.length;2>a&&B("argTypes array size mismatch! Must at least get return value and 'this' types!");var u=t[1]!==null&&n!==null,c=!1;for(n=1;n<t.length;++n)if(t[n]!==null&&t[n].J===void 0){c=!0;break}var v=t[0].name!=="void",d=a-2,b=Array(d),E=[],L=[];return function(){if(arguments.length!==d&&B(`function ${e} called with ${arguments.length} arguments, expected ${d} args!`),L.length=0,E.length=u?2:1,E[0]=i,u){var g=t[1].toWireType(L,this);E[1]=g}for(var _=0;_<d;++_)b[_]=t[_+2].toWireType(L,arguments[_]),E.push(b[_]);if(_=r.apply(null,E),c)Tt(L);else for(var C=u?1:2;C<t.length;C++){var F=C===1?g:b[C-2];t[C].J!==null&&t[C].J(F)}return g=v?t[0].fromWireType(_):void 0,g}}function tn(e,t){for(var n=[],r=0;r<e;r++)n.push(G[t+4*r>>2]);return n}function dr(e,t,n){return e instanceof Object||B(`${n} with invalid "this": ${e}`),e instanceof t.i.constructor||B(`${n} incompatible with "this" of type ${e.constructor.name}`),e.g.o||B(`cannot call emscripten binding method ${n} on deleted object`),qt(e.g.o,e.g.u.i,t.i)}function Rn(e){e>=Ie.h&&--Ie.get(e).pb===0&&Ie.Sb(e)}function ri(e,t,n){switch(t){case 0:return function(r){return this.fromWireType((n?ce:V)[r])};case 1:return function(r){return this.fromWireType((n?ge:De)[r>>1])};case 2:return function(r){return this.fromWireType((n?A:G)[r>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function Pn(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}function ii(e,t){switch(t){case 2:return function(n){return this.fromWireType(M[n>>2])};case 3:return function(n){return this.fromWireType(Ne[n>>3])};default:throw new TypeError("Unknown float type: "+e)}}function oi(e,t,n){switch(t){case 0:return n?function(r){return ce[r]}:function(r){return V[r]};case 1:return n?function(r){return ge[r>>1]}:function(r){return De[r>>1]};case 2:return n?function(r){return A[r>>2]}:function(r){return G[r>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var vr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,ai=(e,t)=>{for(var n=e>>1,r=n+t/2;!(n>=r)&&De[n];)++n;if(n<<=1,32<n-e&&vr)return vr.decode(V.subarray(e,n));for(n="",r=0;!(r>=t/2);++r){var i=ge[e+2*r>>1];if(i==0)break;n+=String.fromCharCode(i)}return n},si=(e,t,n)=>{if(n===void 0&&(n=2147483647),2>n)return 0;n-=2;var r=t;n=n<2*e.length?n/2:e.length;for(var i=0;i<n;++i)ge[t>>1]=e.charCodeAt(i),t+=2;return ge[t>>1]=0,t-r},ui=e=>2*e.length,li=(e,t)=>{for(var n=0,r="";!(n>=t/4);){var i=A[e+4*n>>2];if(i==0)break;++n,65536<=i?(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|i&1023)):r+=String.fromCharCode(i)}return r},ci=(e,t,n)=>{if(n===void 0&&(n=2147483647),4>n)return 0;var r=t;n=r+n-4;for(var i=0;i<e.length;++i){var a=e.charCodeAt(i);if(55296<=a&&57343>=a){var u=e.charCodeAt(++i);a=65536+((a&1023)<<10)|u&1023}if(A[t>>2]=a,t+=4,t+4>n)break}return A[t>>2]=0,t-r},fi=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&++n,t+=4}return t},hi={};function Mn(e){var t=hi[e];return t===void 0?oe(e):t}var nn=[];function di(e){var t=nn.length;return nn.push(e),t}function vi(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=Mt(G[t+4*r>>2],"parameter "+r);return n}var mr=[],Tn=[];function mi(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(n,r){t.vertexAttribDivisorANGLE(n,r)},e.drawArraysInstanced=function(n,r,i,a){t.drawArraysInstancedANGLE(n,r,i,a)},e.drawElementsInstanced=function(n,r,i,a,u){t.drawElementsInstancedANGLE(n,r,i,a,u)})}function pi(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(n){t.deleteVertexArrayOES(n)},e.bindVertexArray=function(n){t.bindVertexArrayOES(n)},e.isVertexArray=function(n){return t.isVertexArrayOES(n)})}function gi(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(n,r){t.drawBuffersWEBGL(n,r)})}var pr=1,rn=[],We=[],on=[],jt=[],gt=[],$e=[],an=[],Fn=[],yt=[],ht=[],gr={},yr={},_r=4;function ee(e){sn||(sn=e)}function It(e){for(var t=pr++,n=e.length;n<t;n++)e[n]=null;return t}function jn(e){return Z=Fn[e],f.yc=h=Z&&Z.Ta,!(e&&!h)}function yi(e){if(e||(e=Z),!e.Ub){e.Ub=!0;var t=e.Ta;mi(t),pi(t),gi(t),t.Ya=t.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),t.gb=t.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"),2<=e.version&&(t.Za=t.getExtension("EXT_disjoint_timer_query_webgl2")),(2>e.version||!t.Za)&&(t.Za=t.getExtension("EXT_disjoint_timer_query")),t.Fc=t.getExtension("WEBGL_multi_draw"),(t.getSupportedExtensions()||[]).forEach(function(n){n.includes("lose_context")||n.includes("debug")||t.getExtension(n)})}}var sn,Z;function wr(e,t){h.bindFramebuffer(e,on[t])}function br(e){h.bindVertexArray(an[e])}function Ar(e,t){for(var n=0;n<e;n++){var r=A[t+4*n>>2];h.deleteVertexArray(an[r]),an[r]=null}}var un=[];function Cr(e,t,n,r){h.drawElements(e,t,n,r)}function _t(e,t,n,r){for(var i=0;i<e;i++){var a=h[n](),u=a&&It(r);a?(a.name=u,r[u]=a):ee(1282),A[t+4*i>>2]=u}}function xr(e,t){_t(e,t,"createVertexArray",an)}function _i(e,t){if(t){var n=void 0;switch(e){case 36346:n=1;break;case 36344:return;case 34814:case 36345:n=0;break;case 34466:var r=h.getParameter(34467);n=r?r.length:0;break;case 33309:if(2>Z.version){ee(1282);return}n=2*(h.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>Z.version){ee(1280);return}n=e==33307?3:0}if(n===void 0)switch(r=h.getParameter(e),typeof r){case"number":n=r;break;case"boolean":n=r?1:0;break;case"string":ee(1280);return;case"object":if(r===null)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:n=0;break;default:ee(1280);return}else{if(r instanceof Float32Array||r instanceof Uint32Array||r instanceof Int32Array||r instanceof Array){for(e=0;e<r.length;++e)A[t+4*e>>2]=r[e];return}try{n=r.name|0}catch(i){ee(1280),X("GL_INVALID_ENUM in glGet0v: Unknown object returned from WebGL getParameter("+e+")! (error: "+i+")");return}}break;default:ee(1280),X("GL_INVALID_ENUM in glGet0v: Native code calling glGet0v("+e+") and it returns "+r+" of type "+typeof r+"!");return}A[t>>2]=n}else ee(1281)}function Er(e,t){_i(e,t)}var Dt=e=>{var t=pn(e)+1,n=hn(t);return n&&Ct(e,V,n,t),n};function Sr(e){return e.slice(-1)=="]"&&e.lastIndexOf("[")}function ln(e){return e-=5120,e==0?ce:e==1?V:e==2?ge:e==4?A:e==6?M:e==5||e==28922||e==28520||e==30779||e==30782?G:De}function In(e,t,n,r,i){e=ln(e);var a=31-Math.clz32(e.BYTES_PER_ELEMENT),u=_r;return e.subarray(i>>a,i+r*(n*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[t-6402]||1)*(1<<a)+u-1&-u)>>a)}function K(e){var t=h.Gb;if(t){var n=t.ma[e];return typeof n=="number"&&(t.ma[e]=n=h.getUniformLocation(t,t.tb[e]+(0<n?"["+n+"]":""))),n}ee(1282)}var ot=[],Ot=[],Dn={},Lr=()=>{if(!On){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ee||"./this.program"},t;for(t in Dn)Dn[t]===void 0?delete e[t]:e[t]=Dn[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);On=n}return On},On,cn=e=>e%4===0&&(e%100!==0||e%400===0),Rr=[31,29,31,30,31,30,31,31,30,31,30,31],Pr=[31,28,31,30,31,30,31,31,30,31,30,31],wi=(e,t,n,r)=>{function i(g,_,C){for(g=typeof g=="number"?g.toString():g||"";g.length<_;)g=C[0]+g;return g}function a(g,_){return i(g,_,"0")}function u(g,_){function C(k){return 0>k?-1:0<k?1:0}var F;return(F=C(g.getFullYear()-_.getFullYear()))===0&&(F=C(g.getMonth()-_.getMonth()))===0&&(F=C(g.getDate()-_.getDate())),F}function c(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function v(g){var _=g.aa;for(g=new Date(new Date(g.ba+1900,0,1).getTime());0<_;){var C=g.getMonth(),F=(cn(g.getFullYear())?Rr:Pr)[C];if(_>F-g.getDate())_-=F-g.getDate()+1,g.setDate(1),11>C?g.setMonth(C+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+_);break}}return C=new Date(g.getFullYear()+1,0,4),_=c(new Date(g.getFullYear(),0,4)),C=c(C),0>=u(_,g)?0>=u(C,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}var d=A[r+40>>2];r={lc:A[r>>2],kc:A[r+4>>2],Ha:A[r+8>>2],Ra:A[r+12>>2],Ia:A[r+16>>2],ba:A[r+20>>2],P:A[r+24>>2],aa:A[r+28>>2],Jc:A[r+32>>2],jc:A[r+36>>2],mc:d&&d?Oe(V,d):""},n=n?Oe(V,n):"",d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var b in d)n=n.replace(new RegExp(b,"g"),d[b]);var E="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),L="January February March April May June July August September October November December".split(" ");d={"%a":g=>E[g.P].substring(0,3),"%A":g=>E[g.P],"%b":g=>L[g.Ia].substring(0,3),"%B":g=>L[g.Ia],"%C":g=>a((g.ba+1900)/100|0,2),"%d":g=>a(g.Ra,2),"%e":g=>i(g.Ra,2," "),"%g":g=>v(g).toString().substring(2),"%G":g=>v(g),"%H":g=>a(g.Ha,2),"%I":g=>(g=g.Ha,g==0?g=12:12<g&&(g-=12),a(g,2)),"%j":g=>{for(var _=0,C=0;C<=g.Ia-1;_+=(cn(g.ba+1900)?Rr:Pr)[C++]);return a(g.Ra+_,3)},"%m":g=>a(g.Ia+1,2),"%M":g=>a(g.kc,2),"%n":()=>`
`,"%p":g=>0<=g.Ha&&12>g.Ha?"AM":"PM","%S":g=>a(g.lc,2),"%t":()=>"	","%u":g=>g.P||7,"%U":g=>a(Math.floor((g.aa+7-g.P)/7),2),"%V":g=>{var _=Math.floor((g.aa+7-(g.P+6)%7)/7);if(2>=(g.P+371-g.aa-2)%7&&_++,_)_==53&&(C=(g.P+371-g.aa)%7,C==4||C==3&&cn(g.ba)||(_=1));else{_=52;var C=(g.P+7-g.aa-1)%7;(C==4||C==5&&cn(g.ba%400-1))&&_++}return a(_,2)},"%w":g=>g.P,"%W":g=>a(Math.floor((g.aa+7-(g.P+6)%7)/7),2),"%y":g=>(g.ba+1900).toString().substring(2),"%Y":g=>g.ba+1900,"%z":g=>{g=g.jc;var _=0<=g;return g=Math.abs(g)/60,(_?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.mc,"%%":()=>"%"},n=n.replace(/%%/g,"\0\0");for(b in d)n.includes(b)&&(n=n.replace(new RegExp(b,"g"),d[b](r)));return n=n.replace(/\0\0/g,"%"),b=Wn(n,!1),b.length>t?0:(ce.set(b,e),b.length-1)};function Mr(e,t,n,r){e||(e=this),this.parent=e,this.S=e.S,this.Ba=null,this.id=Xr++,this.name=t,this.mode=n,this.l={},this.m={},this.Da=r}Object.defineProperties(Mr.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),Un(),xt=Array(4096),Jn(Y,"/"),Be("/tmp",16895,0),Be("/home",16895,0),Be("/home/web_user",16895,0),(()=>{Be("/dev",16895,0),_n(259,{read:()=>0,write:(r,i,a,u)=>u}),Vt("/dev/null",259),Nn(1280,Gr),Nn(1536,Yr),Vt("/dev/tty",1280),Vt("/dev/tty1",1536);var e=new Uint8Array(1024),t=0,n=()=>(t===0&&(t=Xe(e).byteLength),e[--t]);Et("random",n),Et("urandom",n),Be("/dev/shm",16895,0),Be("/dev/shm/tmp",16895,0)})(),(()=>{Be("/proc",16895,0);var e=Be("/proc/self",16895,0);Be("/proc/self/fd",16895,0),Jn({S:()=>{var t=zn(e,"fd",16895,73);return t.l={ka:(n,r)=>{var i=rt(+r);return n={parent:null,S:{ib:"fake"},l:{la:()=>i.path}},n.parent=n}},t}},"/proc/self/fd")})(),Object.assign(nr.prototype,{get(e){return this.L[e]},has(e){return this.L[e]!==void 0},ra(e){var t=this.cb.pop()||this.L.length;return this.L[t]=e,t},Sb(e){this.L[e]=void 0,this.cb.push(e)}}),vt=f.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Ie.L.push({value:void 0},{value:null},{value:!0},{value:!1}),Ie.h=Ie.L.length,f.count_emval_handles=function(){for(var e=0,t=Ie.h;t<Ie.L.length;++t)Ie.L[t]!==void 0&&++e;return e},ir=f.PureVirtualError=rr("PureVirtualError");for(var Tr=Array(256),fn=0;256>fn;++fn)Tr[fn]=String.fromCharCode(fn);or=Tr,f.getInheritedInstanceCount=function(){return Object.keys(Qe).length},f.getLiveInheritedInstances=function(){var e=[],t;for(t in Qe)Qe.hasOwnProperty(t)&&e.push(Qe[t]);return e},f.flushPendingDeletes=An,f.setDelayFunction=function(e){Pt=e,Rt.length&&Pt&&Pt(An)},cr=f.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},it.prototype.isAliasOf=function(e){if(!(this instanceof it&&e instanceof it))return!1;var t=this.g.u.i,n=this.g.o,r=e.g.u.i;for(e=e.g.o;t.A;)n=t.na(n),t=t.A;for(;r.A;)e=r.na(e),r=r.A;return t===r&&n===e},it.prototype.clone=function(){if(this.g.o||En(this),this.g.ia)return this.g.count.value+=1,this;var e=mt,t=Object,n=t.create,r=Object.getPrototypeOf(this),i=this.g;return e=e(n.call(t,r,{g:{value:{count:i.count,ga:i.ga,ia:i.ia,o:i.o,u:i.u,G:i.G,K:i.K}}})),e.g.count.value+=1,e.g.ga=!1,e},it.prototype.delete=function(){this.g.o||En(this),this.g.ga&&!this.g.ia&&B("Object already scheduled for deletion"),Xt(this),sr(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},it.prototype.isDeleted=function(){return!this.g.o},it.prototype.deleteLater=function(){return this.g.o||En(this),this.g.ga&&!this.g.ia&&B("Object already scheduled for deletion"),Rt.push(this),Rt.length===1&&Pt&&Pt(An),this.g.ga=!0,this},Ze.prototype.Ob=function(e){return this.nb&&(e=this.nb(e)),e},Ze.prototype.Xa=function(e){this.U&&this.U(e)},Ze.prototype.argPackAdvance=8,Ze.prototype.readValueFromPointer=Ft,Ze.prototype.deleteObject=function(e){e!==null&&e.delete()},Ze.prototype.fromWireType=function(e){function t(){return this.wa?Kt(this.i.M,{u:this.bc,o:n,K:this,G:e}):Kt(this.i.M,{u:this,o:e})}var n=this.Ob(e);if(!n)return this.Xa(e),null;var r=Zr(this.i,n);if(r!==void 0)return r.g.count.value===0?(r.g.o=n,r.g.G=e,r.clone()):(r=r.clone(),this.Xa(e),r);if(r=this.i.Nb(n),r=lr[r],!r)return t.call(this);r=this.va?r.Fb:r.pointerType;var i=ur(n,this.i,r.i);return i===null?t.call(this):this.wa?Kt(r.i.M,{u:r,o:i,K:this,G:e}):Kt(r.i.M,{u:r,o:i})},hr=f.UnboundTypeError=rr("UnboundTypeError");for(var h,Me=0;32>Me;++Me)un.push(Array(Me));var bi=new Float32Array(288);for(Me=0;288>Me;++Me)ot[Me]=bi.subarray(0,Me+1);var Ai=new Int32Array(288);for(Me=0;288>Me;++Me)Ot[Me]=Ai.subarray(0,Me+1);var Fr={__syscall_fcntl64:function(e,t,n){Lt=n;try{var r=rt(e);switch(t){case 0:var i=ze();return 0>i?-28:Zn(r,i).V;case 1:case 2:return 0;case 3:return r.flags;case 4:return i=ze(),r.flags|=i,0;case 5:return i=ze(),ge[i+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return A[Or()>>2]=28,-1;default:return-28}}catch(a){if(typeof ct>"u"||a.name!=="ErrnoError")throw a;return-a.Z}},__syscall_ioctl:function(e,t,n){Lt=n;try{var r=rt(e);switch(t){case 21509:return r.s?0:-59;case 21505:if(!r.s)return-59;if(r.s.T.Wb){t=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var i=ze();A[i>>2]=25856,A[i+4>>2]=5,A[i+8>>2]=191,A[i+12>>2]=35387;for(var a=0;32>a;a++)ce[i+a+17>>0]=t[a]||0}return 0;case 21510:case 21511:case 21512:return r.s?0:-59;case 21506:case 21507:case 21508:if(!r.s)return-59;if(r.s.T.Xb)for(i=ze(),t=[],a=0;32>a;a++)t.push(ce[i+a+17>>0]);return 0;case 21519:return r.s?(i=ze(),A[i>>2]=0):-59;case 21520:return r.s?-28:-59;case 21531:if(i=ze(),!r.m.Vb)throw new S(59);return r.m.Vb(r,t,i);case 21523:return r.s?(r.s.T.Yb&&(a=[24,80],i=ze(),ge[i>>1]=a[0],ge[i+2>>1]=a[1]),0):-59;case 21524:return r.s?0:-59;case 21515:return r.s?0:-59;default:return-28}}catch(u){if(typeof ct>"u"||u.name!=="ErrnoError")throw u;return-u.Z}},__syscall_openat:function(e,t,n,r){Lt=r;try{t=t?Oe(V,t):"";var i=t;if(i.charAt(0)==="/")t=i;else{var a=e===-100?"/":rt(e).path;if(i.length==0)throw new S(44);t=tt(a+"/"+i)}var u=r?ze():0;return Gt(t,n,u).V}catch(c){if(typeof ct>"u"||c.name!=="ErrnoError")throw c;return-c.Z}},_embind_create_inheriting_constructor:function(e,t,n){e=oe(e),t=Mt(t,"wrapper"),n=ke(n);var r=[].slice,i=t.i,a=i.M,u=i.A.M,c=i.A.constructor;e=Ht(e,function(){i.A.mb.forEach((function(d){if(this[d]===u[d])throw new ir(`Pure virtual function ${d} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:a}),this.__construct.apply(this,r.call(arguments))}),a.__construct=function(){this===a&&B("Pass correct 'this' to __construct");var d=c.implement.apply(void 0,[this].concat(r.call(arguments)));Xt(d);var b=d.g;d.notifyOnDestruction(),b.ia=!0,Object.defineProperties(this,{g:{value:b}}),mt(this),d=b.o,d=Cn(i,d),Qe.hasOwnProperty(d)?B(`Tried to register registered instance: ${d}`):Qe[d]=this},a.__destruct=function(){this===a&&B("Pass correct 'this' to __destruct"),Xt(this);var d=this.g.o;d=Cn(i,d),Qe.hasOwnProperty(d)?delete Qe[d]:B(`Tried to unregister unregistered instance: ${d}`)},e.prototype=Object.create(a);for(var v in n)e.prototype[v]=n[v];return Ke(e)},_embind_finalize_value_object:function(e){var t=Qt[e];delete Qt[e];var n=t.Pa,r=t.U,i=t.$a,a=i.map(u=>u.Rb).concat(i.map(u=>u.fc));Pe([e],a,u=>{var c={};return i.forEach((v,d)=>{var b=u[d],E=v.Pb,L=v.Qb,g=u[d+i.length],_=v.ec,C=v.hc;c[v.Lb]={read:F=>b.fromWireType(E(L,F)),write:(F,k)=>{var W=[];_(C,F,g.toWireType(W,k)),Tt(W)}}}),[{name:t.name,fromWireType:function(v){var d={},b;for(b in c)d[b]=c[b].read(v);return r(v),d},toWireType:function(v,d){for(var b in c)if(!(b in d))throw new TypeError(`Missing field: "${b}"`);var E=n();for(b in c)c[b].write(E,d[b]);return v!==null&&v.push(r,E),E},argPackAdvance:8,readValueFromPointer:Ft,J:r}]})},_embind_register_bigint:function(){},_embind_register_bool:function(e,t,n,r,i){var a=Jt(n);t=oe(t),Ve(e,{name:t,fromWireType:function(u){return!!u},toWireType:function(u,c){return c?r:i},argPackAdvance:8,readValueFromPointer:function(u){if(n===1)var c=ce;else if(n===2)c=ge;else if(n===4)c=A;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(c[u>>a])},J:null})},_embind_register_class:function(e,t,n,r,i,a,u,c,v,d,b,E,L){b=oe(b),a=ye(i,a),c&&(c=ye(u,c)),d&&(d=ye(v,d)),L=ye(E,L);var g=tr(b);Ln(g,function(){Je(`Cannot construct ${b} due to unbound types`,[r])}),Pe([e,t,n],r?[r]:[],function(_){if(_=_[0],r)var C=_.i,F=C.M;else F=it.prototype;_=Ht(g,function(){if(Object.getPrototypeOf(this)!==k)throw new vt("Use 'new' to construct "+b);if(W.Y===void 0)throw new vt(b+" has no accessible constructor");var te=W.Y[arguments.length];if(te===void 0)throw new vt(`Tried to invoke ctor of ${b} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(W.Y).toString()}) parameters instead!`);return te.apply(this,arguments)});var k=Object.create(F,{constructor:{value:_}});_.prototype=k;var W=new qr(b,_,k,L,C,a,c,d);W.A&&(W.A.oa===void 0&&(W.A.oa=[]),W.A.oa.push(W)),C=new Ze(b,W,!0,!1),F=new Ze(b+"*",W,!1,!1);var se=new Ze(b+" const*",W,!1,!0);return lr[e]={pointerType:F,Fb:se},fr(g,_),[C,F,se]})},_embind_register_class_class_function:function(e,t,n,r,i,a,u){var c=tn(n,r);t=oe(t),a=ye(i,a),Pe([],[e],function(v){function d(){Je(`Cannot call ${b} due to unbound types`,c)}v=v[0];var b=`${v.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var E=v.i.constructor;return E[t]===void 0?(d.ea=n-1,E[t]=d):(Sn(E,t,b),E[t].B[n-1]=d),Pe([],c,function(L){if(L=en(b,[L[0],null].concat(L.slice(1)),null,a,u),E[t].B===void 0?(L.ea=n-1,E[t]=L):E[t].B[n-1]=L,v.i.oa)for(const g of v.i.oa)g.constructor.hasOwnProperty(t)||(g.constructor[t]=L);return[]}),[]})},_embind_register_class_class_property:function(e,t,n,r,i,a,u,c){t=oe(t),a=ye(i,a),Pe([],[e],function(v){v=v[0];var d=`${v.name}.${t}`,b={get(){Je(`Cannot access ${d} due to unbound types`,[n])},enumerable:!0,configurable:!0};return b.set=c?()=>{Je(`Cannot access ${d} due to unbound types`,[n])}:()=>{B(`${d} is a read-only property`)},Object.defineProperty(v.i.constructor,t,b),Pe([],[n],function(E){E=E[0];var L={get(){return E.fromWireType(a(r))},enumerable:!0};return c&&(c=ye(u,c),L.set=g=>{var _=[];c(r,E.toWireType(_,g)),Tt(_)}),Object.defineProperty(v.i.constructor,t,L),[]}),[]})},_embind_register_class_constructor:function(e,t,n,r,i,a){var u=tn(t,n);i=ye(r,i),Pe([],[e],function(c){c=c[0];var v=`constructor ${c.name}`;if(c.i.Y===void 0&&(c.i.Y=[]),c.i.Y[t-1]!==void 0)throw new vt(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${c.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return c.i.Y[t-1]=()=>{Je(`Cannot construct ${c.name} due to unbound types`,u)},Pe([],u,function(d){return d.splice(1,0,null),c.i.Y[t-1]=en(v,d,null,i,a),[]}),[]})},_embind_register_class_function:function(e,t,n,r,i,a,u,c){var v=tn(n,r);t=oe(t),a=ye(i,a),Pe([],[e],function(d){function b(){Je(`Cannot call ${E} due to unbound types`,v)}d=d[0];var E=`${d.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),c&&d.i.mb.push(t);var L=d.i.M,g=L[t];return g===void 0||g.B===void 0&&g.className!==d.name&&g.ea===n-2?(b.ea=n-2,b.className=d.name,L[t]=b):(Sn(L,t,E),L[t].B[n-2]=b),Pe([],v,function(_){return _=en(E,_,d,a,u),L[t].B===void 0?(_.ea=n-2,L[t]=_):L[t].B[n-2]=_,[]}),[]})},_embind_register_class_property:function(e,t,n,r,i,a,u,c,v,d){t=oe(t),i=ye(r,i),Pe([],[e],function(b){b=b[0];var E=`${b.name}.${t}`,L={get(){Je(`Cannot access ${E} due to unbound types`,[n,u])},enumerable:!0,configurable:!0};return L.set=v?()=>{Je(`Cannot access ${E} due to unbound types`,[n,u])}:()=>{B(E+" is a read-only property")},Object.defineProperty(b.i.M,t,L),Pe([],v?[n,u]:[n],function(g){var _=g[0],C={get(){var k=dr(this,b,E+" getter");return _.fromWireType(i(a,k))},enumerable:!0};if(v){v=ye(c,v);var F=g[1];C.set=function(k){var W=dr(this,b,E+" setter"),se=[];v(d,W,F.toWireType(se,k)),Tt(se)}}return Object.defineProperty(b.i.M,t,C),[]}),[]})},_embind_register_emval:function(e,t){t=oe(t),Ve(e,{name:t,fromWireType:function(n){var r=ke(n);return Rn(n),r},toWireType:function(n,r){return Ke(r)},argPackAdvance:8,readValueFromPointer:Ft,J:null})},_embind_register_enum:function(e,t,n,r){function i(){}n=Jt(n),t=oe(t),i.values={},Ve(e,{name:t,constructor:i,fromWireType:function(a){return this.constructor.values[a]},toWireType:function(a,u){return u.value},argPackAdvance:8,readValueFromPointer:ri(t,n,r),J:null}),Ln(t,i)},_embind_register_enum_value:function(e,t,n){var r=Mt(e,"enum");t=oe(t),e=r.constructor,r=Object.create(r.constructor.prototype,{value:{value:n},constructor:{value:Ht(`${r.name}_${t}`,function(){})}}),e.values[n]=r,e[t]=r},_embind_register_float:function(e,t,n){n=Jt(n),t=oe(t),Ve(e,{name:t,fromWireType:function(r){return r},toWireType:function(r,i){return i},argPackAdvance:8,readValueFromPointer:ii(t,n),J:null})},_embind_register_function:function(e,t,n,r,i,a){var u=tn(t,n);e=oe(e),i=ye(r,i),Ln(e,function(){Je(`Cannot call ${e} due to unbound types`,u)},t-1),Pe([],u,function(c){return fr(e,en(e,[c[0],null].concat(c.slice(1)),null,i,a),t-1),[]})},_embind_register_integer:function(e,t,n,r,i){t=oe(t),i===-1&&(i=4294967295),i=Jt(n);var a=c=>c;if(r===0){var u=32-8*n;a=c=>c<<u>>>u}n=t.includes("unsigned")?function(c,v){return v>>>0}:function(c,v){return v},Ve(e,{name:t,fromWireType:a,toWireType:n,argPackAdvance:8,readValueFromPointer:oi(t,i,r!==0),J:null})},_embind_register_memory_view:function(e,t,n){function r(a){a>>=2;var u=G;return new i(u.buffer,u[a+1],u[a])}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];n=oe(n),Ve(e,{name:n,fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{Tb:!0})},_embind_register_std_string:function(e,t){t=oe(t);var n=t==="std::string";Ve(e,{name:t,fromWireType:function(r){var i=G[r>>2],a=r+4;if(n)for(var u=a,c=0;c<=i;++c){var v=a+c;if(c==i||V[v]==0){if(u=u?Oe(V,u,v-u):"",d===void 0)var d=u;else d+="\0",d+=u;u=v+1}}else{for(d=Array(i),c=0;c<i;++c)d[c]=String.fromCharCode(V[a+c]);d=d.join("")}return qe(r),d},toWireType:function(r,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var a=typeof i=="string";a||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array||B("Cannot pass non-string to std::string");var u=n&&a?pn(i):i.length,c=hn(4+u+1),v=c+4;if(G[c>>2]=u,n&&a)Ct(i,V,v,u+1);else if(a)for(a=0;a<u;++a){var d=i.charCodeAt(a);255<d&&(qe(v),B("String has UTF-16 code units that do not fit in 8 bits")),V[v+a]=d}else for(a=0;a<u;++a)V[v+a]=i[a];return r!==null&&r.push(qe,c),c},argPackAdvance:8,readValueFromPointer:Ft,J:function(r){qe(r)}})},_embind_register_std_wstring:function(e,t,n){if(n=oe(n),t===2)var r=ai,i=si,a=ui,u=()=>De,c=1;else t===4&&(r=li,i=ci,a=fi,u=()=>G,c=2);Ve(e,{name:n,fromWireType:function(v){for(var d=G[v>>2],b=u(),E,L=v+4,g=0;g<=d;++g){var _=v+4+g*t;(g==d||b[_>>c]==0)&&(L=r(L,_-L),E===void 0?E=L:(E+="\0",E+=L),L=_+t)}return qe(v),E},toWireType:function(v,d){typeof d!="string"&&B(`Cannot pass non-string to C++ string type ${n}`);var b=a(d),E=hn(4+b+t);return G[E>>2]=b>>c,i(d,E+4,b+t),v!==null&&v.push(qe,E),E},argPackAdvance:8,readValueFromPointer:Ft,J:function(v){qe(v)}})},_embind_register_value_object:function(e,t,n,r,i,a){Qt[e]={name:oe(t),Pa:ye(n,r),U:ye(i,a),$a:[]}},_embind_register_value_object_field:function(e,t,n,r,i,a,u,c,v,d){Qt[e].$a.push({Lb:oe(t),Rb:n,Pb:ye(r,i),Qb:a,fc:u,ec:ye(c,v),hc:d})},_embind_register_void:function(e,t){t=oe(t),Ve(e,{Zb:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emscripten_throw_longjmp:()=>{throw 1/0},_emval_as:function(e,t,n){e=ke(e),t=Mt(t,"emval::as");var r=[],i=Ke(r);return G[n>>2]=i,t.toWireType(r,e)},_emval_call_method:function(e,t,n,r,i){e=nn[e],t=ke(t),n=Mn(n);var a=[];return G[r>>2]=Ke(a),e(t,n,a,i)},_emval_call_void_method:function(e,t,n,r){e=nn[e],t=ke(t),n=Mn(n),e(t,n,null,r)},_emval_decref:Rn,_emval_get_method_caller:function(e,t){var n=vi(e,t),r=n[0];t=r.name+"_$"+n.slice(1).map(function(u){return u.name}).join("_")+"$";var i=mr[t];if(i!==void 0)return i;var a=Array(e-1);return i=di((u,c,v,d)=>{for(var b=0,E=0;E<e-1;++E)a[E]=n[E+1].readValueFromPointer(d+b),b+=n[E+1].argPackAdvance;for(u=u[c].apply(u,a),E=0;E<e-1;++E)n[E+1].Hb&&n[E+1].Hb(a[E]);if(!r.Zb)return r.toWireType(v,u)}),mr[t]=i},_emval_get_property:function(e,t){return e=ke(e),t=ke(t),Ke(e[t])},_emval_incref:function(e){4<e&&(Ie.get(e).pb+=1)},_emval_new_cstring:function(e){return Ke(Mn(e))},_emval_new_object:function(){return Ke({})},_emval_run_destructors:function(e){var t=ke(e);Tt(t),Rn(e)},_emval_set_property:function(e,t,n){e=ke(e),t=ke(t),n=ke(n),e[t]=n},_emval_take_value:function(e,t){return e=Mt(e,"_emval_take_value"),e=e.readValueFromPointer(t),Ke(e)},abort:()=>{x("")},emscripten_asm_const_int:(e,t,n)=>{Tn.length=0;var r;for(n>>=2;r=V[t++];)n+=r!=105&n,Tn.push(r==105?A[n]:Ne[n++>>1]),++n;return ut[e].apply(null,Tn)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_glActiveTexture:function(e){h.activeTexture(e)},emscripten_glAttachShader:function(e,t){h.attachShader(We[e],$e[t])},emscripten_glBindAttribLocation:function(e,t,n){h.bindAttribLocation(We[e],t,n?Oe(V,n):"")},emscripten_glBindBuffer:function(e,t){e==35051?h.Ka=t:e==35052&&(h.fa=t),h.bindBuffer(e,rn[t])},emscripten_glBindFramebuffer:wr,emscripten_glBindRenderbuffer:function(e,t){h.bindRenderbuffer(e,jt[t])},emscripten_glBindSampler:function(e,t){h.bindSampler(e,yt[t])},emscripten_glBindTexture:function(e,t){h.bindTexture(e,gt[t])},emscripten_glBindVertexArray:br,emscripten_glBindVertexArrayOES:br,emscripten_glBlendColor:function(e,t,n,r){h.blendColor(e,t,n,r)},emscripten_glBlendEquation:function(e){h.blendEquation(e)},emscripten_glBlendFunc:function(e,t){h.blendFunc(e,t)},emscripten_glBlitFramebuffer:function(e,t,n,r,i,a,u,c,v,d){h.blitFramebuffer(e,t,n,r,i,a,u,c,v,d)},emscripten_glBufferData:function(e,t,n,r){2<=Z.version?n&&t?h.bufferData(e,V,r,n,t):h.bufferData(e,t,r):h.bufferData(e,n?V.subarray(n,n+t):t,r)},emscripten_glBufferSubData:function(e,t,n,r){2<=Z.version?n&&h.bufferSubData(e,t,V,r,n):h.bufferSubData(e,t,V.subarray(r,r+n))},emscripten_glCheckFramebufferStatus:function(e){return h.checkFramebufferStatus(e)},emscripten_glClear:function(e){h.clear(e)},emscripten_glClearColor:function(e,t,n,r){h.clearColor(e,t,n,r)},emscripten_glClearStencil:function(e){h.clearStencil(e)},emscripten_glClientWaitSync:function(e,t,n,r){return h.clientWaitSync(ht[e],t,(n>>>0)+4294967296*r)},emscripten_glColorMask:function(e,t,n,r){h.colorMask(!!e,!!t,!!n,!!r)},emscripten_glCompileShader:function(e){h.compileShader($e[e])},emscripten_glCompressedTexImage2D:function(e,t,n,r,i,a,u,c){2<=Z.version?h.fa||!u?h.compressedTexImage2D(e,t,n,r,i,a,u,c):h.compressedTexImage2D(e,t,n,r,i,a,V,c,u):h.compressedTexImage2D(e,t,n,r,i,a,c?V.subarray(c,c+u):null)},emscripten_glCompressedTexSubImage2D:function(e,t,n,r,i,a,u,c,v){2<=Z.version?h.fa||!c?h.compressedTexSubImage2D(e,t,n,r,i,a,u,c,v):h.compressedTexSubImage2D(e,t,n,r,i,a,u,V,v,c):h.compressedTexSubImage2D(e,t,n,r,i,a,u,v?V.subarray(v,v+c):null)},emscripten_glCopyTexSubImage2D:function(e,t,n,r,i,a,u,c){h.copyTexSubImage2D(e,t,n,r,i,a,u,c)},emscripten_glCreateProgram:function(){var e=It(We),t=h.createProgram();return t.name=e,t.za=t.xa=t.ya=0,t.Sa=1,We[e]=t,e},emscripten_glCreateShader:function(e){var t=It($e);return $e[t]=h.createShader(e),t},emscripten_glCullFace:function(e){h.cullFace(e)},emscripten_glDeleteBuffers:function(e,t){for(var n=0;n<e;n++){var r=A[t+4*n>>2],i=rn[r];i&&(h.deleteBuffer(i),i.name=0,rn[r]=null,r==h.Ka&&(h.Ka=0),r==h.fa&&(h.fa=0))}},emscripten_glDeleteFramebuffers:function(e,t){for(var n=0;n<e;++n){var r=A[t+4*n>>2],i=on[r];i&&(h.deleteFramebuffer(i),i.name=0,on[r]=null)}},emscripten_glDeleteProgram:function(e){if(e){var t=We[e];t?(h.deleteProgram(t),t.name=0,We[e]=null):ee(1281)}},emscripten_glDeleteRenderbuffers:function(e,t){for(var n=0;n<e;n++){var r=A[t+4*n>>2],i=jt[r];i&&(h.deleteRenderbuffer(i),i.name=0,jt[r]=null)}},emscripten_glDeleteSamplers:function(e,t){for(var n=0;n<e;n++){var r=A[t+4*n>>2],i=yt[r];i&&(h.deleteSampler(i),i.name=0,yt[r]=null)}},emscripten_glDeleteShader:function(e){if(e){var t=$e[e];t?(h.deleteShader(t),$e[e]=null):ee(1281)}},emscripten_glDeleteSync:function(e){if(e){var t=ht[e];t?(h.deleteSync(t),t.name=0,ht[e]=null):ee(1281)}},emscripten_glDeleteTextures:function(e,t){for(var n=0;n<e;n++){var r=A[t+4*n>>2],i=gt[r];i&&(h.deleteTexture(i),i.name=0,gt[r]=null)}},emscripten_glDeleteVertexArrays:Ar,emscripten_glDeleteVertexArraysOES:Ar,emscripten_glDepthMask:function(e){h.depthMask(!!e)},emscripten_glDisable:function(e){h.disable(e)},emscripten_glDisableVertexAttribArray:function(e){h.disableVertexAttribArray(e)},emscripten_glDrawArrays:function(e,t,n){h.drawArrays(e,t,n)},emscripten_glDrawArraysInstanced:function(e,t,n,r){h.drawArraysInstanced(e,t,n,r)},emscripten_glDrawArraysInstancedBaseInstanceWEBGL:function(e,t,n,r,i){h.Ya.drawArraysInstancedBaseInstanceWEBGL(e,t,n,r,i)},emscripten_glDrawBuffers:function(e,t){for(var n=un[e],r=0;r<e;r++)n[r]=A[t+4*r>>2];h.drawBuffers(n)},emscripten_glDrawElements:Cr,emscripten_glDrawElementsInstanced:function(e,t,n,r,i){h.drawElementsInstanced(e,t,n,r,i)},emscripten_glDrawElementsInstancedBaseVertexBaseInstanceWEBGL:function(e,t,n,r,i,a,u){h.Ya.drawElementsInstancedBaseVertexBaseInstanceWEBGL(e,t,n,r,i,a,u)},emscripten_glDrawRangeElements:function(e,t,n,r,i,a){Cr(e,r,i,a)},emscripten_glEnable:function(e){h.enable(e)},emscripten_glEnableVertexAttribArray:function(e){h.enableVertexAttribArray(e)},emscripten_glFenceSync:function(e,t){return(e=h.fenceSync(e,t))?(t=It(ht),e.name=t,ht[t]=e,t):0},emscripten_glFinish:function(){h.finish()},emscripten_glFlush:function(){h.flush()},emscripten_glFramebufferRenderbuffer:function(e,t,n,r){h.framebufferRenderbuffer(e,t,n,jt[r])},emscripten_glFramebufferTexture2D:function(e,t,n,r,i){h.framebufferTexture2D(e,t,n,gt[r],i)},emscripten_glFrontFace:function(e){h.frontFace(e)},emscripten_glGenBuffers:function(e,t){_t(e,t,"createBuffer",rn)},emscripten_glGenFramebuffers:function(e,t){_t(e,t,"createFramebuffer",on)},emscripten_glGenRenderbuffers:function(e,t){_t(e,t,"createRenderbuffer",jt)},emscripten_glGenSamplers:function(e,t){_t(e,t,"createSampler",yt)},emscripten_glGenTextures:function(e,t){_t(e,t,"createTexture",gt)},emscripten_glGenVertexArrays:xr,emscripten_glGenVertexArraysOES:xr,emscripten_glGenerateMipmap:function(e){h.generateMipmap(e)},emscripten_glGetBufferParameteriv:function(e,t,n){n?A[n>>2]=h.getBufferParameter(e,t):ee(1281)},emscripten_glGetError:function(){var e=h.getError()||sn;return sn=0,e},emscripten_glGetFramebufferAttachmentParameteriv:function(e,t,n,r){e=h.getFramebufferAttachmentParameter(e,t,n),(e instanceof WebGLRenderbuffer||e instanceof WebGLTexture)&&(e=e.name|0),A[r>>2]=e},emscripten_glGetIntegerv:Er,emscripten_glGetProgramInfoLog:function(e,t,n,r){e=h.getProgramInfoLog(We[e]),e===null&&(e="(unknown error)"),t=0<t&&r?Ct(e,V,r,t):0,n&&(A[n>>2]=t)},emscripten_glGetProgramiv:function(e,t,n){if(n)if(e>=pr)ee(1281);else if(e=We[e],t==35716)e=h.getProgramInfoLog(e),e===null&&(e="(unknown error)"),A[n>>2]=e.length+1;else if(t==35719){if(!e.za)for(t=0;t<h.getProgramParameter(e,35718);++t)e.za=Math.max(e.za,h.getActiveUniform(e,t).name.length+1);A[n>>2]=e.za}else if(t==35722){if(!e.xa)for(t=0;t<h.getProgramParameter(e,35721);++t)e.xa=Math.max(e.xa,h.getActiveAttrib(e,t).name.length+1);A[n>>2]=e.xa}else if(t==35381){if(!e.ya)for(t=0;t<h.getProgramParameter(e,35382);++t)e.ya=Math.max(e.ya,h.getActiveUniformBlockName(e,t).length+1);A[n>>2]=e.ya}else A[n>>2]=h.getProgramParameter(e,t);else ee(1281)},emscripten_glGetRenderbufferParameteriv:function(e,t,n){n?A[n>>2]=h.getRenderbufferParameter(e,t):ee(1281)},emscripten_glGetShaderInfoLog:function(e,t,n,r){e=h.getShaderInfoLog($e[e]),e===null&&(e="(unknown error)"),t=0<t&&r?Ct(e,V,r,t):0,n&&(A[n>>2]=t)},emscripten_glGetShaderPrecisionFormat:function(e,t,n,r){e=h.getShaderPrecisionFormat(e,t),A[n>>2]=e.rangeMin,A[n+4>>2]=e.rangeMax,A[r>>2]=e.precision},emscripten_glGetShaderiv:function(e,t,n){n?t==35716?(e=h.getShaderInfoLog($e[e]),e===null&&(e="(unknown error)"),A[n>>2]=e?e.length+1:0):t==35720?(e=h.getShaderSource($e[e]),A[n>>2]=e?e.length+1:0):A[n>>2]=h.getShaderParameter($e[e],t):ee(1281)},emscripten_glGetString:function(e){var t=gr[e];if(!t){switch(e){case 7939:t=h.getSupportedExtensions()||[],t=t.concat(t.map(function(r){return"GL_"+r})),t=Dt(t.join(" "));break;case 7936:case 7937:case 37445:case 37446:(t=h.getParameter(e))||ee(1280),t=t&&Dt(t);break;case 7938:t=h.getParameter(7938),t=2<=Z.version?"OpenGL ES 3.0 ("+t+")":"OpenGL ES 2.0 ("+t+")",t=Dt(t);break;case 35724:t=h.getParameter(35724);var n=t.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);n!==null&&(n[1].length==3&&(n[1]+="0"),t="OpenGL ES GLSL ES "+n[1]+" ("+t+")"),t=Dt(t);break;default:ee(1280)}gr[e]=t}return t},emscripten_glGetStringi:function(e,t){if(2>Z.version)return ee(1282),0;var n=yr[e];if(n)return 0>t||t>=n.length?(ee(1281),0):n[t];switch(e){case 7939:return n=h.getSupportedExtensions()||[],n=n.concat(n.map(function(r){return"GL_"+r})),n=n.map(function(r){return Dt(r)}),n=yr[e]=n,0>t||t>=n.length?(ee(1281),0):n[t];default:return ee(1280),0}},emscripten_glGetUniformLocation:function(e,t){if(t=t?Oe(V,t):"",e=We[e]){var n=e,r=n.ma,i=n.ub,a;if(!r)for(n.ma=r={},n.tb={},a=0;a<h.getProgramParameter(n,35718);++a){var u=h.getActiveUniform(n,a),c=u.name;u=u.size;var v=Sr(c);v=0<v?c.slice(0,v):c;var d=n.Sa;for(n.Sa+=u,i[v]=[u,d],c=0;c<u;++c)r[d]=c,n.tb[d++]=v}if(n=e.ma,r=0,i=t,a=Sr(t),0<a&&(r=parseInt(t.slice(a+1))>>>0,i=t.slice(0,a)),(i=e.ub[i])&&r<i[0]&&(r+=i[1],n[r]=n[r]||h.getUniformLocation(e,t)))return r}else ee(1281);return-1},emscripten_glInvalidateFramebuffer:function(e,t,n){for(var r=un[t],i=0;i<t;i++)r[i]=A[n+4*i>>2];h.invalidateFramebuffer(e,r)},emscripten_glInvalidateSubFramebuffer:function(e,t,n,r,i,a,u){for(var c=un[t],v=0;v<t;v++)c[v]=A[n+4*v>>2];h.invalidateSubFramebuffer(e,c,r,i,a,u)},emscripten_glIsSync:function(e){return h.isSync(ht[e])},emscripten_glIsTexture:function(e){return(e=gt[e])?h.isTexture(e):0},emscripten_glLineWidth:function(e){h.lineWidth(e)},emscripten_glLinkProgram:function(e){e=We[e],h.linkProgram(e),e.ma=0,e.ub={}},emscripten_glMultiDrawArraysInstancedBaseInstanceWEBGL:function(e,t,n,r,i,a){h.gb.multiDrawArraysInstancedBaseInstanceWEBGL(e,A,t>>2,A,n>>2,A,r>>2,G,i>>2,a)},emscripten_glMultiDrawElementsInstancedBaseVertexBaseInstanceWEBGL:function(e,t,n,r,i,a,u,c){h.gb.multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL(e,A,t>>2,n,A,r>>2,A,i>>2,A,a>>2,G,u>>2,c)},emscripten_glPixelStorei:function(e,t){e==3317&&(_r=t),h.pixelStorei(e,t)},emscripten_glReadBuffer:function(e){h.readBuffer(e)},emscripten_glReadPixels:function(e,t,n,r,i,a,u){if(2<=Z.version)if(h.Ka)h.readPixels(e,t,n,r,i,a,u);else{var c=ln(a);h.readPixels(e,t,n,r,i,a,c,u>>31-Math.clz32(c.BYTES_PER_ELEMENT))}else(u=In(a,i,n,r,u))?h.readPixels(e,t,n,r,i,a,u):ee(1280)},emscripten_glRenderbufferStorage:function(e,t,n,r){h.renderbufferStorage(e,t,n,r)},emscripten_glRenderbufferStorageMultisample:function(e,t,n,r,i){h.renderbufferStorageMultisample(e,t,n,r,i)},emscripten_glSamplerParameteri:function(e,t,n){h.samplerParameteri(yt[e],t,n)},emscripten_glSamplerParameteriv:function(e,t,n){h.samplerParameteri(yt[e],t,A[n>>2])},emscripten_glScissor:function(e,t,n,r){h.scissor(e,t,n,r)},emscripten_glShaderSource:function(e,t,n,r){for(var i="",a=0;a<t;++a){var u=r?A[r+4*a>>2]:-1,c=A[n+4*a>>2];u=c?Oe(V,c,0>u?void 0:u):"",i+=u}h.shaderSource($e[e],i)},emscripten_glStencilFunc:function(e,t,n){h.stencilFunc(e,t,n)},emscripten_glStencilFuncSeparate:function(e,t,n,r){h.stencilFuncSeparate(e,t,n,r)},emscripten_glStencilMask:function(e){h.stencilMask(e)},emscripten_glStencilMaskSeparate:function(e,t){h.stencilMaskSeparate(e,t)},emscripten_glStencilOp:function(e,t,n){h.stencilOp(e,t,n)},emscripten_glStencilOpSeparate:function(e,t,n,r){h.stencilOpSeparate(e,t,n,r)},emscripten_glTexImage2D:function(e,t,n,r,i,a,u,c,v){if(2<=Z.version)if(h.fa)h.texImage2D(e,t,n,r,i,a,u,c,v);else if(v){var d=ln(c);h.texImage2D(e,t,n,r,i,a,u,c,d,v>>31-Math.clz32(d.BYTES_PER_ELEMENT))}else h.texImage2D(e,t,n,r,i,a,u,c,null);else h.texImage2D(e,t,n,r,i,a,u,c,v?In(c,u,r,i,v):null)},emscripten_glTexParameterf:function(e,t,n){h.texParameterf(e,t,n)},emscripten_glTexParameterfv:function(e,t,n){h.texParameterf(e,t,M[n>>2])},emscripten_glTexParameteri:function(e,t,n){h.texParameteri(e,t,n)},emscripten_glTexParameteriv:function(e,t,n){h.texParameteri(e,t,A[n>>2])},emscripten_glTexStorage2D:function(e,t,n,r,i){h.texStorage2D(e,t,n,r,i)},emscripten_glTexSubImage2D:function(e,t,n,r,i,a,u,c,v){if(2<=Z.version)if(h.fa)h.texSubImage2D(e,t,n,r,i,a,u,c,v);else if(v){var d=ln(c);h.texSubImage2D(e,t,n,r,i,a,u,c,d,v>>31-Math.clz32(d.BYTES_PER_ELEMENT))}else h.texSubImage2D(e,t,n,r,i,a,u,c,null);else d=null,v&&(d=In(c,u,i,a,v)),h.texSubImage2D(e,t,n,r,i,a,u,c,d)},emscripten_glUniform1f:function(e,t){h.uniform1f(K(e),t)},emscripten_glUniform1fv:function(e,t,n){if(2<=Z.version)t&&h.uniform1fv(K(e),M,n>>2,t);else{if(288>=t)for(var r=ot[t-1],i=0;i<t;++i)r[i]=M[n+4*i>>2];else r=M.subarray(n>>2,n+4*t>>2);h.uniform1fv(K(e),r)}},emscripten_glUniform1i:function(e,t){h.uniform1i(K(e),t)},emscripten_glUniform1iv:function(e,t,n){if(2<=Z.version)t&&h.uniform1iv(K(e),A,n>>2,t);else{if(288>=t)for(var r=Ot[t-1],i=0;i<t;++i)r[i]=A[n+4*i>>2];else r=A.subarray(n>>2,n+4*t>>2);h.uniform1iv(K(e),r)}},emscripten_glUniform2f:function(e,t,n){h.uniform2f(K(e),t,n)},emscripten_glUniform2fv:function(e,t,n){if(2<=Z.version)t&&h.uniform2fv(K(e),M,n>>2,2*t);else{if(144>=t)for(var r=ot[2*t-1],i=0;i<2*t;i+=2)r[i]=M[n+4*i>>2],r[i+1]=M[n+(4*i+4)>>2];else r=M.subarray(n>>2,n+8*t>>2);h.uniform2fv(K(e),r)}},emscripten_glUniform2i:function(e,t,n){h.uniform2i(K(e),t,n)},emscripten_glUniform2iv:function(e,t,n){if(2<=Z.version)t&&h.uniform2iv(K(e),A,n>>2,2*t);else{if(144>=t)for(var r=Ot[2*t-1],i=0;i<2*t;i+=2)r[i]=A[n+4*i>>2],r[i+1]=A[n+(4*i+4)>>2];else r=A.subarray(n>>2,n+8*t>>2);h.uniform2iv(K(e),r)}},emscripten_glUniform3f:function(e,t,n,r){h.uniform3f(K(e),t,n,r)},emscripten_glUniform3fv:function(e,t,n){if(2<=Z.version)t&&h.uniform3fv(K(e),M,n>>2,3*t);else{if(96>=t)for(var r=ot[3*t-1],i=0;i<3*t;i+=3)r[i]=M[n+4*i>>2],r[i+1]=M[n+(4*i+4)>>2],r[i+2]=M[n+(4*i+8)>>2];else r=M.subarray(n>>2,n+12*t>>2);h.uniform3fv(K(e),r)}},emscripten_glUniform3i:function(e,t,n,r){h.uniform3i(K(e),t,n,r)},emscripten_glUniform3iv:function(e,t,n){if(2<=Z.version)t&&h.uniform3iv(K(e),A,n>>2,3*t);else{if(96>=t)for(var r=Ot[3*t-1],i=0;i<3*t;i+=3)r[i]=A[n+4*i>>2],r[i+1]=A[n+(4*i+4)>>2],r[i+2]=A[n+(4*i+8)>>2];else r=A.subarray(n>>2,n+12*t>>2);h.uniform3iv(K(e),r)}},emscripten_glUniform4f:function(e,t,n,r,i){h.uniform4f(K(e),t,n,r,i)},emscripten_glUniform4fv:function(e,t,n){if(2<=Z.version)t&&h.uniform4fv(K(e),M,n>>2,4*t);else{if(72>=t){var r=ot[4*t-1],i=M;n>>=2;for(var a=0;a<4*t;a+=4){var u=n+a;r[a]=i[u],r[a+1]=i[u+1],r[a+2]=i[u+2],r[a+3]=i[u+3]}}else r=M.subarray(n>>2,n+16*t>>2);h.uniform4fv(K(e),r)}},emscripten_glUniform4i:function(e,t,n,r,i){h.uniform4i(K(e),t,n,r,i)},emscripten_glUniform4iv:function(e,t,n){if(2<=Z.version)t&&h.uniform4iv(K(e),A,n>>2,4*t);else{if(72>=t)for(var r=Ot[4*t-1],i=0;i<4*t;i+=4)r[i]=A[n+4*i>>2],r[i+1]=A[n+(4*i+4)>>2],r[i+2]=A[n+(4*i+8)>>2],r[i+3]=A[n+(4*i+12)>>2];else r=A.subarray(n>>2,n+16*t>>2);h.uniform4iv(K(e),r)}},emscripten_glUniformMatrix2fv:function(e,t,n,r){if(2<=Z.version)t&&h.uniformMatrix2fv(K(e),!!n,M,r>>2,4*t);else{if(72>=t)for(var i=ot[4*t-1],a=0;a<4*t;a+=4)i[a]=M[r+4*a>>2],i[a+1]=M[r+(4*a+4)>>2],i[a+2]=M[r+(4*a+8)>>2],i[a+3]=M[r+(4*a+12)>>2];else i=M.subarray(r>>2,r+16*t>>2);h.uniformMatrix2fv(K(e),!!n,i)}},emscripten_glUniformMatrix3fv:function(e,t,n,r){if(2<=Z.version)t&&h.uniformMatrix3fv(K(e),!!n,M,r>>2,9*t);else{if(32>=t)for(var i=ot[9*t-1],a=0;a<9*t;a+=9)i[a]=M[r+4*a>>2],i[a+1]=M[r+(4*a+4)>>2],i[a+2]=M[r+(4*a+8)>>2],i[a+3]=M[r+(4*a+12)>>2],i[a+4]=M[r+(4*a+16)>>2],i[a+5]=M[r+(4*a+20)>>2],i[a+6]=M[r+(4*a+24)>>2],i[a+7]=M[r+(4*a+28)>>2],i[a+8]=M[r+(4*a+32)>>2];else i=M.subarray(r>>2,r+36*t>>2);h.uniformMatrix3fv(K(e),!!n,i)}},emscripten_glUniformMatrix4fv:function(e,t,n,r){if(2<=Z.version)t&&h.uniformMatrix4fv(K(e),!!n,M,r>>2,16*t);else{if(18>=t){var i=ot[16*t-1],a=M;r>>=2;for(var u=0;u<16*t;u+=16){var c=r+u;i[u]=a[c],i[u+1]=a[c+1],i[u+2]=a[c+2],i[u+3]=a[c+3],i[u+4]=a[c+4],i[u+5]=a[c+5],i[u+6]=a[c+6],i[u+7]=a[c+7],i[u+8]=a[c+8],i[u+9]=a[c+9],i[u+10]=a[c+10],i[u+11]=a[c+11],i[u+12]=a[c+12],i[u+13]=a[c+13],i[u+14]=a[c+14],i[u+15]=a[c+15]}}else i=M.subarray(r>>2,r+64*t>>2);h.uniformMatrix4fv(K(e),!!n,i)}},emscripten_glUseProgram:function(e){e=We[e],h.useProgram(e),h.Gb=e},emscripten_glVertexAttrib1f:function(e,t){h.vertexAttrib1f(e,t)},emscripten_glVertexAttrib2fv:function(e,t){h.vertexAttrib2f(e,M[t>>2],M[t+4>>2])},emscripten_glVertexAttrib3fv:function(e,t){h.vertexAttrib3f(e,M[t>>2],M[t+4>>2],M[t+8>>2])},emscripten_glVertexAttrib4fv:function(e,t){h.vertexAttrib4f(e,M[t>>2],M[t+4>>2],M[t+8>>2],M[t+12>>2])},emscripten_glVertexAttribDivisor:function(e,t){h.vertexAttribDivisor(e,t)},emscripten_glVertexAttribIPointer:function(e,t,n,r,i){h.vertexAttribIPointer(e,t,n,r,i)},emscripten_glVertexAttribPointer:function(e,t,n,r,i,a){h.vertexAttribPointer(e,t,n,!!r,i,a)},emscripten_glViewport:function(e,t,n,r){h.viewport(e,t,n,r)},emscripten_glWaitSync:function(e,t,n,r){h.waitSync(ht[e],t,(n>>>0)+4294967296*r)},emscripten_memcpy_big:(e,t,n)=>V.copyWithin(e,t,t+n),emscripten_resize_heap:e=>{var t=V.length;if(e>>>=0,2147483648<e)return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var i=Math;r=Math.max(e,r);e:{i=i.min.call(i,2147483648,r+(65536-r%65536)%65536)-pe.buffer.byteLength+65535>>>16;try{pe.grow(i),He();var a=1;break e}catch{}a=void 0}if(a)return!0}return!1},emscripten_webgl_get_current_context:function(){return Z?Z.handle:0},emscripten_webgl_make_context_current:function(e){return jn(e)?0:-5},environ_get:(e,t)=>{var n=0;return Lr().forEach(function(r,i){var a=t+n;for(i=G[e+4*i>>2]=a,a=0;a<r.length;++a)ce[i++>>0]=r.charCodeAt(a);ce[i>>0]=0,n+=r.length+1}),0},environ_sizes_get:(e,t)=>{var n=Lr();G[e>>2]=n.length;var r=0;return n.forEach(function(i){r+=i.length+1}),G[t>>2]=r,0},fd_close:function(e){try{var t=rt(e);if(t.V===null)throw new S(8);t.Ma&&(t.Ma=null);try{t.m.close&&t.m.close(t)}catch(n){throw n}finally{Wt[t.V]=null}return t.V=null,0}catch(n){if(typeof ct>"u"||n.name!=="ErrnoError")throw n;return n.Z}},fd_read:function(e,t,n,r){try{e:{var i=rt(e);e=t;for(var a,u=t=0;u<n;u++){var c=G[e>>2],v=G[e+4>>2];e+=8;var d=i,b=c,E=v,L=a,g=ce;if(0>E||0>L)throw new S(28);if(d.V===null)throw new S(8);if((d.flags&2097155)===1)throw new S(8);if((d.node.mode&61440)===16384)throw new S(31);if(!d.m.read)throw new S(28);var _=typeof L<"u";if(!_)L=d.position;else if(!d.seekable)throw new S(70);var C=d.m.read(d,g,b,E,L);_||(d.position+=C);var F=C;if(0>F){var k=-1;break e}if(t+=F,F<v)break;typeof a<"u"&&(a+=F)}k=t}return G[r>>2]=k,0}catch(W){if(typeof ct>"u"||W.name!=="ErrnoError")throw W;return W.Z}},fd_seek:function(e,t,n,r,i){t=n+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*n:NaN;try{if(isNaN(t))return 61;var a=rt(e);return qn(a,t,r),Re=[a.position>>>0,(je=a.position,1<=+Math.abs(je)?0<je?+Math.floor(je/4294967296)>>>0:~~+Math.ceil((je-+(~~je>>>0))/4294967296)>>>0:0)],A[i>>2]=Re[0],A[i+4>>2]=Re[1],a.Ma&&t===0&&r===0&&(a.Ma=null),0}catch(u){if(typeof ct>"u"||u.name!=="ErrnoError")throw u;return u.Z}},fd_write:function(e,t,n,r){try{e:{var i=rt(e);e=t;for(var a,u=t=0;u<n;u++){var c=G[e>>2],v=G[e+4>>2];e+=8;var d=i,b=c,E=v,L=a,g=ce;if(0>E||0>L)throw new S(28);if(d.V===null)throw new S(8);if((d.flags&2097155)===0)throw new S(8);if((d.node.mode&61440)===16384)throw new S(31);if(!d.m.write)throw new S(28);d.seekable&&d.flags&1024&&qn(d,0,2);var _=typeof L<"u";if(!_)L=d.position;else if(!d.seekable)throw new S(70);var C=d.m.write(d,g,b,E,L,void 0);_||(d.position+=C);var F=C;if(0>F){var k=-1;break e}t+=F,typeof a<"u"&&(a+=F)}k=t}return G[r>>2]=k,0}catch(W){if(typeof ct>"u"||W.name!=="ErrnoError")throw W;return W.Z}},glBindFramebuffer:wr,glGetIntegerv:Er,invoke_ii:Ci,invoke_iii:Ti,invoke_iiii:Si,invoke_iiiii:Ii,invoke_iiiiii:Oi,invoke_iiiiiii:Mi,invoke_iiiiiiiiii:ji,invoke_v:Pi,invoke_vi:Ei,invoke_vii:xi,invoke_viii:Li,invoke_viiii:Ri,invoke_viiiiii:Bi,invoke_viiiiiii:Fi,invoke_viiiiiiii:Di,strftime_l:(e,t,n,r)=>wi(e,t,n,r)};(function(){function e(n){if($=n=n.exports,pe=$.memory,He(),et=$.__indirect_function_table,o.unshift($.__wasm_call_ctors),y--,f.monitorRunDependencies&&f.monitorRunDependencies(y),y==0&&w){var r=w;w=null,r()}return n}var t={env:Fr,wasi_snapshot_preview1:Fr};if(y++,f.monitorRunDependencies&&f.monitorRunDependencies(y),f.instantiateWasm)try{return f.instantiateWasm(t,e)}catch(n){X("Module.instantiateWasm callback failed with error: "+n),Q(n)}return ve(t,function(n){e(n.instance)}).catch(Q),{}})();var qe=e=>(qe=$.free)(e),hn=e=>(hn=$.malloc)(e),jr=f._ma_device__on_notification_unlocked=e=>(jr=f._ma_device__on_notification_unlocked=$.ma_device__on_notification_unlocked)(e);f._ma_malloc_emscripten=(e,t)=>(f._ma_malloc_emscripten=$.ma_malloc_emscripten)(e,t),f._ma_free_emscripten=(e,t)=>(f._ma_free_emscripten=$.ma_free_emscripten)(e,t);var Ir=f._ma_device_process_pcm_frames_capture__webaudio=(e,t,n)=>(Ir=f._ma_device_process_pcm_frames_capture__webaudio=$.ma_device_process_pcm_frames_capture__webaudio)(e,t,n),Dr=f._ma_device_process_pcm_frames_playback__webaudio=(e,t,n)=>(Dr=f._ma_device_process_pcm_frames_playback__webaudio=$.ma_device_process_pcm_frames_playback__webaudio)(e,t,n),Or=()=>(Or=$.__errno_location)(),Br=e=>(Br=$.__getTypeName)(e);f.__embind_initialize_bindings=()=>(f.__embind_initialize_bindings=$._embind_initialize_bindings)();var kr=(e,t)=>(kr=$.emscripten_builtin_memalign)(e,t),_e=(e,t)=>(_e=$.setThrew)(e,t),we=()=>(we=$.stackSave)(),be=e=>(be=$.stackRestore)(e);f.dynCall_iiiij=(e,t,n,r,i,a)=>(f.dynCall_iiiij=$.dynCall_iiiij)(e,t,n,r,i,a),f.dynCall_viiij=(e,t,n,r,i,a)=>(f.dynCall_viiij=$.dynCall_viiij)(e,t,n,r,i,a),f.dynCall_iiij=(e,t,n,r,i)=>(f.dynCall_iiij=$.dynCall_iiij)(e,t,n,r,i),f.dynCall_viij=(e,t,n,r,i)=>(f.dynCall_viij=$.dynCall_viij)(e,t,n,r,i),f.dynCall_iiji=(e,t,n,r,i)=>(f.dynCall_iiji=$.dynCall_iiji)(e,t,n,r,i),f.dynCall_jiji=(e,t,n,r,i)=>(f.dynCall_jiji=$.dynCall_jiji)(e,t,n,r,i),f.dynCall_iiiji=(e,t,n,r,i,a)=>(f.dynCall_iiiji=$.dynCall_iiiji)(e,t,n,r,i,a),f.dynCall_iij=(e,t,n,r)=>(f.dynCall_iij=$.dynCall_iij)(e,t,n,r),f.dynCall_jii=(e,t,n)=>(f.dynCall_jii=$.dynCall_jii)(e,t,n),f.dynCall_viiiiij=(e,t,n,r,i,a,u,c)=>(f.dynCall_viiiiij=$.dynCall_viiiiij)(e,t,n,r,i,a,u,c),f.dynCall_viji=(e,t,n,r,i)=>(f.dynCall_viji=$.dynCall_viji)(e,t,n,r,i),f.dynCall_ji=(e,t)=>(f.dynCall_ji=$.dynCall_ji)(e,t),f.dynCall_vij=(e,t,n,r)=>(f.dynCall_vij=$.dynCall_vij)(e,t,n,r),f.dynCall_viijii=(e,t,n,r,i,a,u)=>(f.dynCall_viijii=$.dynCall_viijii)(e,t,n,r,i,a,u),f.dynCall_iiiiij=(e,t,n,r,i,a,u)=>(f.dynCall_iiiiij=$.dynCall_iiiiij)(e,t,n,r,i,a,u),f.dynCall_iiiiijj=(e,t,n,r,i,a,u,c,v)=>(f.dynCall_iiiiijj=$.dynCall_iiiiijj)(e,t,n,r,i,a,u,c,v),f.dynCall_iiiiiijj=(e,t,n,r,i,a,u,c,v,d)=>(f.dynCall_iiiiiijj=$.dynCall_iiiiiijj)(e,t,n,r,i,a,u,c,v,d);function Ci(e,t){var n=we();try{return me(e)(t)}catch(r){if(be(n),r!==r+0)throw r;_e(1,0)}}function xi(e,t,n){var r=we();try{me(e)(t,n)}catch(i){if(be(r),i!==i+0)throw i;_e(1,0)}}function Ei(e,t){var n=we();try{me(e)(t)}catch(r){if(be(n),r!==r+0)throw r;_e(1,0)}}function Si(e,t,n,r){var i=we();try{return me(e)(t,n,r)}catch(a){if(be(i),a!==a+0)throw a;_e(1,0)}}function Li(e,t,n,r){var i=we();try{me(e)(t,n,r)}catch(a){if(be(i),a!==a+0)throw a;_e(1,0)}}function Ri(e,t,n,r,i){var a=we();try{me(e)(t,n,r,i)}catch(u){if(be(a),u!==u+0)throw u;_e(1,0)}}function Pi(e){var t=we();try{me(e)()}catch(n){if(be(t),n!==n+0)throw n;_e(1,0)}}function Mi(e,t,n,r,i,a,u){var c=we();try{return me(e)(t,n,r,i,a,u)}catch(v){if(be(c),v!==v+0)throw v;_e(1,0)}}function Ti(e,t,n){var r=we();try{return me(e)(t,n)}catch(i){if(be(r),i!==i+0)throw i;_e(1,0)}}function Fi(e,t,n,r,i,a,u,c){var v=we();try{me(e)(t,n,r,i,a,u,c)}catch(d){if(be(v),d!==d+0)throw d;_e(1,0)}}function ji(e,t,n,r,i,a,u,c,v,d){var b=we();try{return me(e)(t,n,r,i,a,u,c,v,d)}catch(E){if(be(b),E!==E+0)throw E;_e(1,0)}}function Ii(e,t,n,r,i){var a=we();try{return me(e)(t,n,r,i)}catch(u){if(be(a),u!==u+0)throw u;_e(1,0)}}function Di(e,t,n,r,i,a,u,c,v){var d=we();try{me(e)(t,n,r,i,a,u,c,v)}catch(b){if(be(d),b!==b+0)throw b;_e(1,0)}}function Oi(e,t,n,r,i,a){var u=we();try{return me(e)(t,n,r,i,a)}catch(c){if(be(u),c!==c+0)throw c;_e(1,0)}}function Bi(e,t,n,r,i,a,u){var c=we();try{me(e)(t,n,r,i,a,u)}catch(v){if(be(c),v!==v+0)throw v;_e(1,0)}}var dn;w=function e(){dn||Wr(),dn||(w=e)};function Wr(){function e(){if(!dn&&(dn=!0,f.calledRun=!0,!st)){if(f.noFSInit||er||(er=!0,Un(),f.stdin=f.stdin,f.stdout=f.stdout,f.stderr=f.stderr,f.stdin?Et("stdin",f.stdin):wn("/dev/tty","/dev/stdin"),f.stdout?Et("stdout",null,f.stdout):wn("/dev/tty","/dev/stdout"),f.stderr?Et("stderr",null,f.stderr):wn("/dev/tty1","/dev/stderr"),Gt("/dev/stdin",0),Gt("/dev/stdout",1),Gt("/dev/stderr",1)),Yn=!1,dt(o),Ce(f),f.onRuntimeInitialized&&f.onRuntimeInitialized(),f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;){var t=f.postRun.shift();s.unshift(t)}dt(s)}}if(!(0<y)){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)p();dt(l),0<y||(f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),e()},1)):e())}}if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);0<f.preInit.length;)f.preInit.pop()();return Wr(),D.ready})})();const le=Ae}),(ne=>{ne.exports=JSON.parse(`{"name":"@rive-app/webgl","version":"2.26.2","description":"Rive's webgl based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.wasm","rive_fallback.wasm","rive.js.map","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((ne,z,H)=>{H.r(z),H.d(z,{Animation:()=>Ae.Animation});var Ae=H(4)}),((ne,z,H)=>{H.r(z),H.d(z,{Animation:()=>Ae});var Ae=(function(){function le(J,D,f,Ce){this.animation=J,this.artboard=D,this.playing=Ce,this.loopCount=0,this.scrubTo=null,this.instance=new f.LinearAnimationInstance(J,D)}return Object.defineProperty(le.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(le.prototype,"time",{get:function(){return this.instance.time},set:function(J){this.instance.time=J},enumerable:!1,configurable:!0}),Object.defineProperty(le.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(le.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),le.prototype.advance=function(J){this.scrubTo===null?this.instance.advance(J):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},le.prototype.apply=function(J){this.instance.apply(J)},le.prototype.cleanup=function(){this.instance.delete()},le})()}),((ne,z,H)=>{H.r(z),H.d(z,{BLANK_URL:()=>le.BLANK_URL,registerTouchInteractions:()=>Ae.registerTouchInteractions,sanitizeUrl:()=>le.sanitizeUrl});var Ae=H(6),le=H(7)}),((ne,z,H)=>{H.r(z),H.d(z,{registerTouchInteractions:()=>J});var Ae=void 0,le=function(D,f){var Ce,Q;return["touchstart","touchmove"].indexOf(D.type)>-1&&(!((Ce=D.touches)===null||Ce===void 0)&&Ce.length)?(f||D.preventDefault(),{clientX:D.touches[0].clientX,clientY:D.touches[0].clientY}):D.type==="touchend"&&(!((Q=D.changedTouches)===null||Q===void 0)&&Q.length)?{clientX:D.changedTouches[0].clientX,clientY:D.changedTouches[0].clientY}:{clientX:D.clientX,clientY:D.clientY}},J=function(D){var f=D.canvas,Ce=D.artboard,Q=D.stateMachines,re=Q===void 0?[]:Q,Ge=D.renderer,he=D.rive,ie=D.fit,fe=D.alignment,Ee=D.isTouchScrollEnabled,Se=Ee===void 0?!1:Ee,Ye=D.layoutScaleFactor,T=Ye===void 0?1:Ye;if(!f||!re.length||!Ge||!he||!Ce||typeof window>"u")return null;var Te=null,Fe=!1,at=function(xe){if(Fe&&xe instanceof MouseEvent){xe.type=="mouseup"&&(Fe=!1);return}Fe=Se&&xe.type==="touchend"&&Te==="touchstart",Te=xe.type;var pe=xe.currentTarget.getBoundingClientRect(),$=le(xe,Se),st=$.clientX,ce=$.clientY;if(!(!st&&!ce)){var V=st-pe.left,ge=ce-pe.top,De=he.computeAlignment(ie,fe,{minX:0,minY:0,maxX:pe.width,maxY:pe.height},Ce.bounds,T),A=new he.Mat2D;De.invert(A);var G=new he.Vec2D(V,ge),M=he.mapXY(A,G),Ne=M.x(),He=M.y();switch(M.delete(),A.delete(),G.delete(),De.delete(),xe.type){case"mouseout":for(var et=0,l=re;et<l.length;et++){var o=l[et];o.pointerMove(Ne,He)}break;case"touchmove":case"mouseover":case"mousemove":{for(var s=0,p=re;s<p.length;s++){var o=p[s];o.pointerMove(Ne,He)}break}case"touchstart":case"mousedown":{for(var y=0,w=re;y<w.length;y++){var o=w[y];o.pointerDown(Ne,He)}break}case"touchend":case"mouseup":{for(var x=0,j=re;x<j.length;x++){var o=j[x];o.pointerUp(Ne,He)}break}}}},X=at.bind(Ae);return f.addEventListener("mouseover",X),f.addEventListener("mouseout",X),f.addEventListener("mousemove",X),f.addEventListener("mousedown",X),f.addEventListener("mouseup",X),f.addEventListener("touchmove",X,{passive:Se}),f.addEventListener("touchstart",X,{passive:Se}),f.addEventListener("touchend",X),function(){f.removeEventListener("mouseover",X),f.removeEventListener("mouseout",X),f.removeEventListener("mousemove",X),f.removeEventListener("mousedown",X),f.removeEventListener("mouseup",X),f.removeEventListener("touchmove",X),f.removeEventListener("touchstart",X),f.removeEventListener("touchend",X)}}}),((ne,z,H)=>{H.r(z),H.d(z,{BLANK_URL:()=>Q,sanitizeUrl:()=>he});var Ae=/^([^\w]*)(javascript|data|vbscript)/im,le=/&#(\w+)(^\w|;)?/g,J=/&(newline|tab);/gi,D=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,f=/^.+(:|&colon;)/gim,Ce=[".","/"],Q="about:blank";function re(ie){return Ce.indexOf(ie[0])>-1}function Ge(ie){var fe=ie.replace(D,"");return fe.replace(le,function(Ee,Se){return String.fromCharCode(Se)})}function he(ie){if(!ie)return Q;var fe=Ge(ie).replace(J,"").replace(D,"").trim();if(!fe)return Q;if(re(fe))return fe;var Ee=fe.match(f);if(!Ee)return fe;var Se=Ee[0];return Ae.test(Se)?Q:fe}})],N={};function ae(ne){var z=N[ne];if(z!==void 0)return z.exports;var H=N[ne]={exports:{}};return R[ne](H,H.exports,ae),H.exports}ae.d=(ne,z)=>{for(var H in z)ae.o(z,H)&&!ae.o(ne,H)&&Object.defineProperty(ne,H,{enumerable:!0,get:z[H]})},ae.o=(ne,z)=>Object.prototype.hasOwnProperty.call(ne,z),ae.r=ne=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ne,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ne,"__esModule",{value:!0})};var Bt={};return(()=>{ae.r(Bt),ae.d(Bt,{Alignment:()=>re,EventType:()=>T,Fit:()=>Q,Layout:()=>Ge,LoopType:()=>Te,Rive:()=>De,RiveEventType:()=>Ee,RiveFile:()=>ge,RuntimeLoader:()=>he,StateMachineInput:()=>fe,StateMachineInputType:()=>ie,Testing:()=>M,decodeAudio:()=>Ne,decodeFont:()=>et,decodeImage:()=>He});var ne=ae(1),z=ae(2),H=ae(3),Ae=ae(5),le=(function(){var l=function(o,s){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(p[w]=y[w])},l(o,s)};return function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");l(o,s);function p(){this.constructor=o}o.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}})(),J=function(l,o,s,p){function y(w){return w instanceof s?w:new s(function(x){x(w)})}return new(s||(s=Promise))(function(w,x){function j(q){try{I(p.next(q))}catch(de){x(de)}}function O(q){try{I(p.throw(q))}catch(de){x(de)}}function I(q){q.done?w(q.value):y(q.value).then(j,O)}I((p=p.apply(l,o||[])).next())})},D=function(l,o){var s={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},p,y,w,x=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return x.next=j(0),x.throw=j(1),x.return=j(2),typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function j(I){return function(q){return O([I,q])}}function O(I){if(p)throw new TypeError("Generator is already executing.");for(;x&&(x=0,I[0]&&(s=0)),s;)try{if(p=1,y&&(w=I[0]&2?y.return:I[0]?y.throw||((w=y.return)&&w.call(y),0):y.next)&&!(w=w.call(y,I[1])).done)return w;switch(y=0,w&&(I=[I[0]&2,w.value]),I[0]){case 0:case 1:w=I;break;case 4:return s.label++,{value:I[1],done:!1};case 5:s.label++,y=I[1],I=[0];continue;case 7:I=s.ops.pop(),s.trys.pop();continue;default:if(w=s.trys,!(w=w.length>0&&w[w.length-1])&&(I[0]===6||I[0]===2)){s=0;continue}if(I[0]===3&&(!w||I[1]>w[0]&&I[1]<w[3])){s.label=I[1];break}if(I[0]===6&&s.label<w[1]){s.label=w[1],w=I;break}if(w&&s.label<w[2]){s.label=w[2],s.ops.push(I);break}w[2]&&s.ops.pop(),s.trys.pop();continue}I=o.call(l,s)}catch(q){I=[6,q],y=0}finally{p=w=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}},f=(function(l){le(o,l);function o(){var s=l!==null&&l.apply(this,arguments)||this;return s.isHandledError=!0,s}return o})(Error),Ce=function(l){return l&&l.isHandledError?l.message:"Problem loading file; may be corrupt!"},Q;(function(l){l.Cover="cover",l.Contain="contain",l.Fill="fill",l.FitWidth="fitWidth",l.FitHeight="fitHeight",l.None="none",l.ScaleDown="scaleDown",l.Layout="layout"})(Q||(Q={}));var re;(function(l){l.Center="center",l.TopLeft="topLeft",l.TopCenter="topCenter",l.TopRight="topRight",l.CenterLeft="centerLeft",l.CenterRight="centerRight",l.BottomLeft="bottomLeft",l.BottomCenter="bottomCenter",l.BottomRight="bottomRight"})(re||(re={}));var Ge=(function(){function l(o){var s,p,y,w,x,j,O;this.fit=(s=o?.fit)!==null&&s!==void 0?s:Q.Contain,this.alignment=(p=o?.alignment)!==null&&p!==void 0?p:re.Center,this.layoutScaleFactor=(y=o?.layoutScaleFactor)!==null&&y!==void 0?y:1,this.minX=(w=o?.minX)!==null&&w!==void 0?w:0,this.minY=(x=o?.minY)!==null&&x!==void 0?x:0,this.maxX=(j=o?.maxX)!==null&&j!==void 0?j:0,this.maxY=(O=o?.maxY)!==null&&O!==void 0?O:0}return l.new=function(o){var s=o.fit,p=o.alignment,y=o.minX,w=o.minY,x=o.maxX,j=o.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new l({fit:s,alignment:p,minX:y,minY:w,maxX:x,maxY:j})},l.prototype.copyWith=function(o){var s=o.fit,p=o.alignment,y=o.layoutScaleFactor,w=o.minX,x=o.minY,j=o.maxX,O=o.maxY;return new l({fit:s??this.fit,alignment:p??this.alignment,layoutScaleFactor:y??this.layoutScaleFactor,minX:w??this.minX,minY:x??this.minY,maxX:j??this.maxX,maxY:O??this.maxY})},l.prototype.runtimeFit=function(o){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var s;return this.fit===Q.Cover?s=o.Fit.cover:this.fit===Q.Contain?s=o.Fit.contain:this.fit===Q.Fill?s=o.Fit.fill:this.fit===Q.FitWidth?s=o.Fit.fitWidth:this.fit===Q.FitHeight?s=o.Fit.fitHeight:this.fit===Q.ScaleDown?s=o.Fit.scaleDown:this.fit===Q.Layout?s=o.Fit.layout:s=o.Fit.none,this.cachedRuntimeFit=s,s},l.prototype.runtimeAlignment=function(o){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var s;return this.alignment===re.TopLeft?s=o.Alignment.topLeft:this.alignment===re.TopCenter?s=o.Alignment.topCenter:this.alignment===re.TopRight?s=o.Alignment.topRight:this.alignment===re.CenterLeft?s=o.Alignment.centerLeft:this.alignment===re.CenterRight?s=o.Alignment.centerRight:this.alignment===re.BottomLeft?s=o.Alignment.bottomLeft:this.alignment===re.BottomCenter?s=o.Alignment.bottomCenter:this.alignment===re.BottomRight?s=o.Alignment.bottomRight:s=o.Alignment.center,this.cachedRuntimeAlignment=s,s},l})(),he=(function(){function l(){}return l.loadRuntime=function(){ne.default({locateFile:function(){return l.wasmURL}}).then(function(o){var s;for(l.runtime=o;l.callBackQueue.length>0;)(s=l.callBackQueue.shift())===null||s===void 0||s(l.runtime)}).catch(function(o){var s={message:o?.message||"Unknown error",type:o?.name||"Error",wasmError:o instanceof WebAssembly.CompileError||o instanceof WebAssembly.RuntimeError,originalError:o};console.debug("Rive WASM load error details:",s);var p="https://cdn.jsdelivr.net/npm/".concat(z.name,"@").concat(z.version,"/rive_fallback.wasm");if(l.wasmURL.toLowerCase()!==p)console.warn("Failed to load WASM from ".concat(l.wasmURL," (").concat(s.message,"), trying jsdelivr as a backup")),l.setWasmUrl(p),l.loadRuntime();else{var y=["Could not load Rive WASM file from ".concat(l.wasmURL," or ").concat(p,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(s.type),"- Message: ".concat(s.message),"- WebAssembly-specific error: ".concat(s.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(y)}})},l.getInstance=function(o){l.isLoading||(l.isLoading=!0,l.loadRuntime()),l.runtime?o(l.runtime):l.callBackQueue.push(o)},l.awaitInstance=function(){return new Promise(function(o){return l.getInstance(function(s){return o(s)})})},l.setWasmUrl=function(o){l.wasmURL=o},l.getWasmUrl=function(){return l.wasmURL},l.isLoading=!1,l.callBackQueue=[],l.wasmURL="https://unpkg.com/".concat(z.name,"@").concat(z.version,"/rive.wasm"),l})(),ie;(function(l){l[l.Number=56]="Number",l[l.Trigger=58]="Trigger",l[l.Boolean=59]="Boolean"})(ie||(ie={}));var fe=(function(){function l(o,s){this.type=o,this.runtimeInput=s}return Object.defineProperty(l.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(o){this.runtimeInput.value=o},enumerable:!1,configurable:!0}),l.prototype.fire=function(){this.type===ie.Trigger&&this.runtimeInput.fire()},l.prototype.delete=function(){this.runtimeInput=null},l})(),Ee;(function(l){l[l.General=128]="General",l[l.OpenUrl=131]="OpenUrl"})(Ee||(Ee={}));var Se=(function(){function l(o,s,p,y){this.stateMachine=o,this.playing=p,this.artboard=y,this.inputs=[],this.instance=new s.StateMachineInstance(o,y),this.initInputs(s)}return Object.defineProperty(l.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"statesChanged",{get:function(){for(var o=[],s=0;s<this.instance.stateChangedCount();s++)o.push(this.instance.stateChangedNameByIndex(s));return o},enumerable:!1,configurable:!0}),l.prototype.advance=function(o){this.instance.advance(o)},l.prototype.advanceAndApply=function(o){this.instance.advanceAndApply(o)},l.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},l.prototype.reportedEventAt=function(o){return this.instance.reportedEventAt(o)},l.prototype.initInputs=function(o){for(var s=0;s<this.instance.inputCount();s++){var p=this.instance.input(s);this.inputs.push(this.mapRuntimeInput(p,o))}},l.prototype.mapRuntimeInput=function(o,s){if(o.type===s.SMIInput.bool)return new fe(ie.Boolean,o.asBool());if(o.type===s.SMIInput.number)return new fe(ie.Number,o.asNumber());if(o.type===s.SMIInput.trigger)return new fe(ie.Trigger,o.asTrigger())},l.prototype.cleanup=function(){this.inputs.forEach(function(o){o.delete()}),this.inputs.length=0,this.instance.delete()},l})(),Ye=(function(){function l(o,s,p,y,w){y===void 0&&(y=[]),w===void 0&&(w=[]),this.runtime=o,this.artboard=s,this.eventManager=p,this.animations=y,this.stateMachines=w}return l.prototype.add=function(o,s,p){if(p===void 0&&(p=!0),o=G(o),o.length===0)this.animations.forEach(function(ve){return ve.playing=s}),this.stateMachines.forEach(function(ve){return ve.playing=s});else for(var y=this.animations.map(function(ve){return ve.name}),w=this.stateMachines.map(function(ve){return ve.name}),x=0;x<o.length;x++){var j=y.indexOf(o[x]),O=w.indexOf(o[x]);if(j>=0||O>=0)j>=0?this.animations[j].playing=s:this.stateMachines[O].playing=s;else{var I=this.artboard.animationByName(o[x]);if(I){var q=new H.Animation(I,this.artboard,this.runtime,s);q.advance(0),q.apply(1),this.animations.push(q)}else{var de=this.artboard.stateMachineByName(o[x]);if(de){var Le=new Se(de,this.runtime,s,this.artboard);this.stateMachines.push(Le)}}}}return p&&(s?this.eventManager.fire({type:T.Play,data:this.playing}):this.eventManager.fire({type:T.Pause,data:this.paused})),s?this.playing:this.paused},l.prototype.initLinearAnimations=function(o,s){for(var p=this.animations.map(function(O){return O.name}),y=0;y<o.length;y++){var w=p.indexOf(o[y]);if(w>=0)this.animations[w].playing=s;else{var x=this.artboard.animationByName(o[y]);if(x){var j=new H.Animation(x,this.artboard,this.runtime,s);j.advance(0),j.apply(1),this.animations.push(j)}}}},l.prototype.initStateMachines=function(o,s){for(var p=this.stateMachines.map(function(O){return O.name}),y=0;y<o.length;y++){var w=p.indexOf(o[y]);if(w>=0)this.stateMachines[w].playing=s;else{var x=this.artboard.stateMachineByName(o[y]);if(x){var j=new Se(x,this.runtime,s,this.artboard);this.stateMachines.push(j)}else this.initLinearAnimations([o[y]],s)}}},l.prototype.play=function(o){return this.add(o,!0)},l.prototype.pause=function(o){return this.add(o,!1)},l.prototype.scrub=function(o,s){var p=this.animations.filter(function(y){return o.includes(y.name)});return p.forEach(function(y){return y.scrubTo=s}),p.map(function(y){return y.name})},Object.defineProperty(l.prototype,"playing",{get:function(){return this.animations.filter(function(o){return o.playing}).map(function(o){return o.name}).concat(this.stateMachines.filter(function(o){return o.playing}).map(function(o){return o.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"paused",{get:function(){return this.animations.filter(function(o){return!o.playing}).map(function(o){return o.name}).concat(this.stateMachines.filter(function(o){return!o.playing}).map(function(o){return o.name}))},enumerable:!1,configurable:!0}),l.prototype.stop=function(o){var s=this;o=G(o);var p=[];if(o.length===0)p=this.animations.map(function(x){return x.name}).concat(this.stateMachines.map(function(x){return x.name})),this.animations.forEach(function(x){return x.cleanup()}),this.stateMachines.forEach(function(x){return x.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var y=this.animations.filter(function(x){return o.includes(x.name)});y.forEach(function(x){x.cleanup(),s.animations.splice(s.animations.indexOf(x),1)});var w=this.stateMachines.filter(function(x){return o.includes(x.name)});w.forEach(function(x){x.cleanup(),s.stateMachines.splice(s.stateMachines.indexOf(x),1)}),p=y.map(function(x){return x.name}).concat(w.map(function(x){return x.name}))}return this.eventManager.fire({type:T.Stop,data:p}),p},Object.defineProperty(l.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(o,s){return o||s.playing},!1)||this.stateMachines.reduce(function(o,s){return o||s.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),l.prototype.atLeastOne=function(o,s){s===void 0&&(s=!0);var p;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([p=this.artboard.animationByIndex(0).name],o,s):this.artboard.stateMachineCount()>0&&this.add([p=this.artboard.stateMachineByIndex(0).name],o,s)),p},l.prototype.handleLooping=function(){for(var o=0,s=this.animations.filter(function(y){return y.playing});o<s.length;o++){var p=s[o];p.loopValue===0&&p.loopCount?(p.loopCount=0,this.stop(p.name)):p.loopValue===1&&p.loopCount?(this.eventManager.fire({type:T.Loop,data:{animation:p.name,type:Te.Loop}}),p.loopCount=0):p.loopValue===2&&p.loopCount>1&&(this.eventManager.fire({type:T.Loop,data:{animation:p.name,type:Te.PingPong}}),p.loopCount=0)}},l.prototype.handleStateChanges=function(){for(var o=[],s=0,p=this.stateMachines.filter(function(w){return w.playing});s<p.length;s++){var y=p[s];o.push.apply(o,y.statesChanged)}o.length>0&&this.eventManager.fire({type:T.StateChange,data:o})},l.prototype.handleAdvancing=function(o){this.eventManager.fire({type:T.Advance,data:o})},l})(),T;(function(l){l.Load="load",l.LoadError="loaderror",l.Play="play",l.Pause="pause",l.Stop="stop",l.Loop="loop",l.Draw="draw",l.Advance="advance",l.StateChange="statechange",l.RiveEvent="riveevent",l.AudioStatusChange="audiostatuschange"})(T||(T={}));var Te;(function(l){l.OneShot="oneshot",l.Loop="loop",l.PingPong="pingpong"})(Te||(Te={}));var Fe=(function(){function l(o){o===void 0&&(o=[]),this.listeners=o}return l.prototype.getListeners=function(o){return this.listeners.filter(function(s){return s.type===o})},l.prototype.add=function(o){this.listeners.includes(o)||this.listeners.push(o)},l.prototype.remove=function(o){for(var s=0;s<this.listeners.length;s++){var p=this.listeners[s];if(p.type===o.type&&p.callback===o.callback){this.listeners.splice(s,1);break}}},l.prototype.removeAll=function(o){var s=this;o?this.listeners.filter(function(p){return p.type===o}).forEach(function(p){return s.remove(p)}):this.listeners.splice(0,this.listeners.length)},l.prototype.fire=function(o){var s=this.getListeners(o.type);s.forEach(function(p){return p.callback(o)})},l})(),at=(function(){function l(o){this.eventManager=o,this.queue=[]}return l.prototype.add=function(o){this.queue.push(o)},l.prototype.process=function(){for(;this.queue.length>0;){var o=this.queue.shift();o?.action&&o.action(),o?.event&&this.eventManager.fire(o.event)}},l})(),X;(function(l){l[l.AVAILABLE=0]="AVAILABLE",l[l.UNAVAILABLE=1]="UNAVAILABLE"})(X||(X={}));var xe=(function(l){le(o,l);function o(){var s=l!==null&&l.apply(this,arguments)||this;return s._started=!1,s._enabled=!1,s._status=X.UNAVAILABLE,s}return o.prototype.delay=function(s){return J(this,void 0,void 0,function(){return D(this,function(p){return[2,new Promise(function(y){return setTimeout(y,s)})]})})},o.prototype.timeout=function(){return J(this,void 0,void 0,function(){return D(this,function(s){return[2,new Promise(function(p,y){return setTimeout(y,50)})]})})},o.prototype.reportToListeners=function(){this.fire({type:T.AudioStatusChange}),this.removeAll()},o.prototype.enableAudio=function(){return J(this,void 0,void 0,function(){return D(this,function(s){return this._enabled||(this._enabled=!0,this._status=X.AVAILABLE,this.reportToListeners()),[2]})})},o.prototype.testAudio=function(){return J(this,void 0,void 0,function(){return D(this,function(s){switch(s.label){case 0:if(!(this._status===X.UNAVAILABLE&&this._audioContext!==null))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return s.sent(),this.enableAudio(),[3,4];case 3:return s.sent(),[3,4];case 4:return[2]}})})},o.prototype._establishAudio=function(){return J(this,void 0,void 0,function(){return D(this,function(s){switch(s.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),s.label=2;case 2:return this._status!==X.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return s.sent(),[4,this.delay(1e3)];case 4:return s.sent(),[3,2];case 5:return[2]}})})},o.prototype.listenForUserAction=function(){var s=this,p=function(){return J(s,void 0,void 0,function(){return D(this,function(y){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",p,{once:!0})},o.prototype.establishAudio=function(){return J(this,void 0,void 0,function(){return D(this,function(s){return this._establishAudio(),[2]})})},Object.defineProperty(o.prototype,"systemVolume",{get:function(){return this._status===X.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),o})(Fe),pe=new xe,$=(function(){function l(){}return l.prototype.observe=function(){},l.prototype.unobserve=function(){},l.prototype.disconnect=function(){},l})(),st=globalThis.ResizeObserver||$,ce=(function(){function l(){var o=this;this._elementsMap=new Map,this._onObservedEntry=function(s){var p=o._elementsMap.get(s.target);p!==null?p.onResize(s.target.clientWidth==0||s.target.clientHeight==0):o._resizeObserver.unobserve(s.target)},this._onObserved=function(s){s.forEach(o._onObservedEntry)},this._resizeObserver=new st(this._onObserved)}return l.prototype.add=function(o,s){var p={onResize:s,element:o};return this._elementsMap.set(o,p),this._resizeObserver.observe(o),p},l.prototype.remove=function(o){this._resizeObserver.unobserve(o.element),this._elementsMap.delete(o.element)},l})(),V=new ce,ge=(function(){function l(o){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.src=o.src,this.buffer=o.buffer,o.assetLoader&&(this.assetLoader=o.assetLoader),this.enableRiveAssetCDN=typeof o.enableRiveAssetCDN=="boolean"?o.enableRiveAssetCDN:!0,this.eventManager=new Fe,o.onLoad&&this.on(T.Load,o.onLoad),o.onLoadError&&this.on(T.LoadError,o.onLoadError)}return l.prototype.initData=function(){return J(this,void 0,void 0,function(){var o,s,p,y;return D(this,function(w){switch(w.label){case 0:return this.src?(o=this,[4,A(this.src)]):[3,2];case 1:o.buffer=w.sent(),w.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(s=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})),p=this,[4,this.runtime.load(new Uint8Array(this.buffer),s,this.enableRiveAssetCDN)]);case 3:if(p.file=w.sent(),this.destroyed)return(y=this.file)===null||y===void 0||y.delete(),this.file=null,[2];if(this.file!==null)this.eventManager.fire({type:T.Load,data:this});else throw this.eventManager.fire({type:T.LoadError,data:null}),new Error(l.fileLoadErrorMessage);return[2]}})})},l.prototype.init=function(){return J(this,void 0,void 0,function(){var o;return D(this,function(s){switch(s.label){case 0:if(!this.src&&!this.buffer)throw new Error(l.missingErrorMessage);return o=this,[4,he.awaitInstance()];case 1:return o.runtime=s.sent(),this.destroyed?[2]:[4,this.initData()];case 2:return s.sent(),[2]}})})},l.prototype.on=function(o,s){this.eventManager.add({type:o,callback:s})},l.prototype.off=function(o,s){this.eventManager.remove({type:o,callback:s})},l.prototype.cleanup=function(){var o;this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),(o=this.file)===null||o===void 0||o.delete(),this.file=null,this.destroyed=!0)},l.prototype.removeAllRiveEventListeners=function(o){this.eventManager.removeAll(o)},l.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},l.missingErrorMessage="Rive source file or data buffer required",l.fileLoadErrorMessage="The file failed to load",l})(),De=(function(){function l(o){var s=this,p;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(y){var w=s._hasZeroSize!==y;s._hasZeroSize=y,y?(!s._layout.maxX||!s._layout.maxY)&&s.resizeToCanvas():w&&s.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=o.canvas,o.canvas.constructor===HTMLCanvasElement&&(this._observed=V.add(this.canvas,this.onCanvasResize)),this.src=o.src,this.buffer=o.buffer,this.riveFile=o.riveFile,this.layout=(p=o.layout)!==null&&p!==void 0?p:new Ge,this.shouldDisableRiveListeners=!!o.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!o.isTouchScrollEnabled,this.automaticallyHandleEvents=!!o.automaticallyHandleEvents,this.enableRiveAssetCDN=o.enableRiveAssetCDN===void 0?!0:o.enableRiveAssetCDN,this.eventManager=new Fe,o.onLoad&&this.on(T.Load,o.onLoad),o.onLoadError&&this.on(T.LoadError,o.onLoadError),o.onPlay&&this.on(T.Play,o.onPlay),o.onPause&&this.on(T.Pause,o.onPause),o.onStop&&this.on(T.Stop,o.onStop),o.onLoop&&this.on(T.Loop,o.onLoop),o.onStateChange&&this.on(T.StateChange,o.onStateChange),o.onAdvance&&this.on(T.Advance,o.onAdvance),o.onload&&!o.onLoad&&this.on(T.Load,o.onload),o.onloaderror&&!o.onLoadError&&this.on(T.LoadError,o.onloaderror),o.onplay&&!o.onPlay&&this.on(T.Play,o.onplay),o.onpause&&!o.onPause&&this.on(T.Pause,o.onpause),o.onstop&&!o.onStop&&this.on(T.Stop,o.onstop),o.onloop&&!o.onLoop&&this.on(T.Loop,o.onloop),o.onstatechange&&!o.onStateChange&&this.on(T.StateChange,o.onstatechange),o.assetLoader&&(this.assetLoader=o.assetLoader),this.taskQueue=new at(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:o.autoplay,animations:o.animations,stateMachines:o.stateMachines,artboard:o.artboard,useOffscreenRenderer:o.useOffscreenRenderer})}return l.new=function(o){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new l(o)},l.prototype.onSystemAudioChanged=function(){this.volume=this._volume},l.prototype.init=function(o){var s=this,p=o.src,y=o.buffer,w=o.riveFile,x=o.animations,j=o.stateMachines,O=o.artboard,I=o.autoplay,q=I===void 0?!1:I,de=o.useOffscreenRenderer,Le=de===void 0?!1:de;if(!this.destroyed){if(this.src=p,this.buffer=y,this.riveFile=w,!this.src&&!this.buffer&&!this.riveFile)throw new f(l.missingErrorMessage);var ve=G(x),je=G(j);this.loaded=!1,this.readyForPlaying=!1,he.awaitInstance().then(function(Re){s.destroyed||(s.runtime=Re,s.removeRiveListeners(),s.deleteRiveRenderer(),s.renderer=s.runtime.makeRenderer(s.canvas,Le),s.canvas.width||s.canvas.height||s.resizeDrawingSurfaceToCanvas(),s.initData(O,ve,je,q).then(function(){return s.setupRiveListeners()}).catch(function(ut){console.error(ut)}))}).catch(function(Re){console.error(Re)})}},l.prototype.setupRiveListeners=function(o){var s=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var p=(this.animator.stateMachines||[]).filter(function(w){return w.playing&&s.runtime.hasListeners(w.instance)}).map(function(w){return w.instance}),y=this.isTouchScrollEnabled;o&&"isTouchScrollEnabled"in o&&(y=o.isTouchScrollEnabled),this.eventCleanup=(0,Ae.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:p,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:y,layoutScaleFactor:this._layout.layoutScaleFactor})}},l.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},l.prototype.initializeAudio=function(){var o=this,s;pe.status==X.UNAVAILABLE&&!((s=this.artboard)===null||s===void 0)&&s.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:T.AudioStatusChange,callback:function(){return o.onSystemAudioChanged()}},pe.add(this._audioEventListener),pe.establishAudio())},l.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},l.prototype.initData=function(o,s,p,y){return J(this,void 0,void 0,function(){var w,x,j;return D(this,function(O){switch(O.label){case 0:return O.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(this.riveFile=new ge({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),[4,this.riveFile.init()]);case 1:O.sent(),O.label=2;case 2:if(!this.riveFile)throw new f(l.cleanupErrorMessage);return this.file=this.riveFile.getInstance(),this.initArtboard(o,s,p,y),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:T.Load,data:(j=this.src)!==null&&j!==void 0?j:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()];case 3:return w=O.sent(),x=Ce(w),console.warn(x),this.eventManager.fire({type:T.LoadError,data:x}),[2,Promise.reject(x)];case 4:return[2]}})})},l.prototype.initArtboard=function(o,s,p,y){if(this.file){var w=o?this.file.artboardByName(o):this.file.defaultArtboard();if(!w){var x="Invalid artboard name or no default artboard";console.warn(x),this.eventManager.fire({type:T.LoadError,data:x});return}if(this.artboard=w,w.volume=this._volume*pe.systemVolume,this.artboard.animationCount()<1){var x="Artboard has no animations";throw this.eventManager.fire({type:T.LoadError,data:x}),x}this.animator=new Ye(this.runtime,this.artboard,this.eventManager);var j;s.length>0||p.length>0?(j=s.concat(p),this.animator.initLinearAnimations(s,y),this.animator.initStateMachines(p,y)):j=[this.animator.atLeastOne(y,!1)],this.taskQueue.add({event:{type:y?T.Play:T.Pause,data:j}})}},l.prototype.drawFrame=function(){var o;!((o=document?.timeline)===null||o===void 0)&&o.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&this._boundDraw(document.timeline.currentTime):this.startRendering()},l.prototype.draw=function(o,s){this.frameRequestId=null;var p=performance.now();this.lastRenderTime||(this.lastRenderTime=o),this.renderSecondTimer+=o-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,s?.());var y=(o-this.lastRenderTime)/1e3;this.lastRenderTime=o;for(var w=this.animator.animations.filter(function(Xe){return Xe.playing||Xe.needsScrub}).sort(function(Xe){return Xe.needsScrub?-1:1}),x=0,j=w;x<j.length;x++){var O=j[x];O.advance(y),O.instance.didLoop&&(O.loopCount+=1),O.apply(1)}for(var I=this.animator.stateMachines.filter(function(Xe){return Xe.playing}),q=0,de=I;q<de.length;q++){var Le=de[q],ve=Le.reportedEventCount();if(ve)for(var je=0;je<ve;je++){var Re=Le.reportedEventAt(je);if(Re)if(Re.type===Ee.OpenUrl){if(this.eventManager.fire({type:T.RiveEvent,data:Re}),this.automaticallyHandleEvents){var ut=document.createElement("a"),dt=Re,wt=dt.url,tt=dt.target,bt=(0,Ae.sanitizeUrl)(wt);wt&&ut.setAttribute("href",bt),tt&&ut.setAttribute("target",tt),bt&&bt!==Ae.BLANK_URL&&ut.click()}}else this.eventManager.fire({type:T.RiveEvent,data:Re})}Le.advanceAndApply(y)}this.animator.stateMachines.length==0&&this.artboard.advance(y);var nt=this.renderer;nt.clear(),nt.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(nt),nt.restore(),nt.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(y),this.frameCount++;var At=performance.now();for(this.frameTimes.push(At),this.durations.push(At-p);this.frameTimes[0]<=At-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},l.prototype.alignRenderer=function(){var o=this,s=o.renderer,p=o.runtime,y=o._layout,w=o.artboard;s.align(y.runtimeFit(p),y.runtimeAlignment(p),{minX:y.minX,minY:y.minY,maxX:y.maxX,maxY:y.maxY},w.bounds,this._devicePixelRatioUsed*y.layoutScaleFactor)},Object.defineProperty(l.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(o,s){return o+s},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),l.prototype.cleanup=function(){var o;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&V.remove(this._observed),this.removeRiveListeners(),this.file&&((o=this.riveFile)===null||o===void 0||o.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(pe.remove(this._audioEventListener),this._audioEventListener=null)},l.prototype.deleteRiveRenderer=function(){var o;(o=this.renderer)===null||o===void 0||o.delete(),this.renderer=null},l.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},l.prototype.retrieveTextRun=function(o){var s;if(!o){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var p=this.artboard.textRun(o);if(!p){console.warn("Could not access a text run with name '".concat(o,"' in the '").concat((s=this.artboard)===null||s===void 0?void 0:s.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return p},l.prototype.getTextRunValue=function(o){var s=this.retrieveTextRun(o);return s?s.text:void 0},l.prototype.setTextRunValue=function(o,s){var p=this.retrieveTextRun(o);p&&(p.text=s)},l.prototype.play=function(o,s){var p=this;if(o=G(o),!this.readyForPlaying){this.taskQueue.add({action:function(){return p.play(o,s)}});return}this.animator.play(o),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},l.prototype.pause=function(o){var s=this;if(o=G(o),!this.readyForPlaying){this.taskQueue.add({action:function(){return s.pause(o)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(o)},l.prototype.scrub=function(o,s){var p=this;if(o=G(o),!this.readyForPlaying){this.taskQueue.add({action:function(){return p.scrub(o,s)}});return}this.animator.scrub(o,s||0),this.drawFrame()},l.prototype.stop=function(o){var s=this;if(o=G(o),!this.readyForPlaying){this.taskQueue.add({action:function(){return s.stop(o)}});return}this.animator&&this.animator.stop(o),this.eventCleanup&&this.eventCleanup()},l.prototype.reset=function(o){var s,p=o?.artboard,y=G(o?.animations),w=G(o?.stateMachines),x=(s=o?.autoplay)!==null&&s!==void 0?s:!1;this.cleanupInstances(),this.initArtboard(p,y,w,x),this.taskQueue.process()},l.prototype.load=function(o){this.file=null,this.stop(),this.init(o)},Object.defineProperty(l.prototype,"layout",{get:function(){return this._layout},set:function(o){this._layout=o,(!o.maxX||!o.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),l.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},l.prototype.resizeDrawingSurfaceToCanvas=function(o){if(this.canvas instanceof HTMLCanvasElement&&window){var s=this.canvas.getBoundingClientRect(),p=s.width,y=s.height,w=o||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=w,this.canvas.width=w*p,this.canvas.height=w*y,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Q.Layout){var x=this._layout.layoutScaleFactor;this.artboard.width=p/x,this.artboard.height=y/x}}},Object.defineProperty(l.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var o=[],s=0;s<this.artboard.animationCount();s++)o.push(this.artboard.animationByIndex(s).name);return o},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var o=[],s=0;s<this.artboard.stateMachineCount();s++)o.push(this.artboard.stateMachineByIndex(s).name);return o},enumerable:!1,configurable:!0}),l.prototype.stateMachineInputs=function(o){if(this.loaded){var s=this.animator.stateMachines.find(function(p){return p.name===o});return s?.inputs}},l.prototype.retrieveInputAtPath=function(o,s){if(!o){console.warn("No input name provided for path '".concat(s,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(o,"', at path: '").concat(s,"', but the Artboard is null"));return}var p=this.artboard.inputByPath(o,s);if(!p){console.warn("Could not access an input with name: '".concat(o,"', at path:'").concat(s,"'"));return}return p},l.prototype.setBooleanStateAtPath=function(o,s,p){var y=this.retrieveInputAtPath(o,p);y&&(y.type===ie.Boolean?y.asBool().value=s:console.warn("Input with name: '".concat(o,"', at path:'").concat(p,"' is not a boolean")))},l.prototype.setNumberStateAtPath=function(o,s,p){var y=this.retrieveInputAtPath(o,p);y&&(y.type===ie.Number?y.asNumber().value=s:console.warn("Input with name: '".concat(o,"', at path:'").concat(p,"' is not a number")))},l.prototype.fireStateAtPath=function(o,s){var p=this.retrieveInputAtPath(o,s);p&&(p.type===ie.Trigger?p.asTrigger().fire():console.warn("Input with name: '".concat(o,"', at path:'").concat(s,"' is not a trigger")))},l.prototype.retrieveTextAtPath=function(o,s){if(!o){console.warn("No text name provided for path '".concat(s,"'"));return}if(!s){console.warn("No path provided for text '".concat(o,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(o,"', at path: '").concat(s,"', but the Artboard is null"));return}var p=this.artboard.textByPath(o,s);if(!p){console.warn("Could not access text with name: '".concat(o,"', at path:'").concat(s,"'"));return}return p},l.prototype.getTextRunValueAtPath=function(o,s){var p=this.retrieveTextAtPath(o,s);if(!p){console.warn("Could not get text with name: '".concat(o,"', at path:'").concat(s,"'"));return}return p.text},l.prototype.setTextRunValueAtPath=function(o,s,p){var y=this.retrieveTextAtPath(o,p);if(!y){console.warn("Could not set text with name: '".concat(o,"', at path:'").concat(p,"'"));return}y.text=s},Object.defineProperty(l.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(o){return o.playing}).map(function(o){return o.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(o){return o.playing}).map(function(o){return o.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(o){return!o.playing}).map(function(o){return o.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(o){return!o.playing}).map(function(o){return o.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),l.prototype.on=function(o,s){this.eventManager.add({type:o,callback:s})},l.prototype.off=function(o,s){this.eventManager.remove({type:o,callback:s})},l.prototype.unsubscribe=function(o,s){console.warn("This function is deprecated: please use `off()` instead."),this.off(o,s)},l.prototype.removeAllRiveEventListeners=function(o){this.eventManager.removeAll(o)},l.prototype.unsubscribeAll=function(o){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(o)},l.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},l.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},l.prototype.enableFPSCounter=function(o){this.runtime.enableFPSCounter(o)},l.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(l.prototype,"contents",{get:function(){if(this.loaded){for(var o={artboards:[]},s=0;s<this.file.artboardCount();s++){for(var p=this.file.artboardByIndex(s),y={name:p.name,animations:[],stateMachines:[]},w=0;w<p.animationCount();w++){var x=p.animationByIndex(w);y.animations.push(x.name)}for(var j=0;j<p.stateMachineCount();j++){for(var O=p.stateMachineByIndex(j),I=O.name,q=new this.runtime.StateMachineInstance(O,p),de=[],Le=0;Le<q.inputCount();Le++){var ve=q.input(Le);de.push({name:ve.name,type:ve.type})}y.stateMachines.push({name:I,inputs:de})}o.artboards.push(y)}return o}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(o){this._volume=o,this.artboard&&(this.artboard.volume=o*pe.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"artboardWidth",{get:function(){var o;return this.artboard?this.artboard.width:(o=this._artboardWidth)!==null&&o!==void 0?o:0},set:function(o){this._artboardWidth=o,this.artboard&&(this.artboard.width=o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"artboardHeight",{get:function(){var o;return this.artboard?this.artboard.height:(o=this._artboardHeight)!==null&&o!==void 0?o:0},set:function(o){this._artboardHeight=o,this.artboard&&(this.artboard.height=o)},enumerable:!1,configurable:!0}),l.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(l.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(o){this._devicePixelRatioUsed=o},enumerable:!1,configurable:!0}),l.missingErrorMessage="Rive source file or data buffer required",l.cleanupErrorMessage="Attempt to use file after calling cleanup.",l})(),A=function(l){return J(void 0,void 0,void 0,function(){var o,s,p;return D(this,function(y){switch(y.label){case 0:return o=new Request(l),[4,fetch(o)];case 1:return s=y.sent(),[4,s.arrayBuffer()];case 2:return p=y.sent(),[2,p]}})})},G=function(l){return typeof l=="string"?[l]:l instanceof Array?l:[]},M={EventManager:Fe,TaskQueueManager:at},Ne=function(l){return new Promise(function(o){return he.getInstance(function(s){s.decodeAudio(l,o)})})},He=function(l){return new Promise(function(o){return he.getInstance(function(s){s.decodeImage(l,o)})})},et=function(l){return new Promise(function(o){return he.getInstance(function(s){s.decodeFont(l,o)})})}})(),Bt})())})(vn)),vn.exports}var $i=Wi();function Nr(P,m,R,N,ae,Bt,ne,z){var H=typeof P=="function"?P.options:P;return m&&(H.render=m,H.staticRenderFns=R,H._compiled=!0),{exports:P,options:H}}const Ni={props:["src","stateMachine","artboard","animation","shouldDisableRiveListeners","isTouchScrollEnabled","width","height"],data(){return{sourceWidth:null,sourceHeight:null,artboards:[],animations:[],stateMachines:[],contents:null,showAllArtboards:!1,showAllAnimations:!1,showAllStateMachines:!1}},mounted(){this.rive=new $i.Rive({src:this.src,stateMachines:this.stateMachine,canvas:this.$refs.riveCanvas,autoplay:!0,artboard:this.artboard,animations:this.animation,shouldDisableRiveListeners:this.shouldDisableRiveListeners,isTouchScrollEnabled:this.isTouchScrollEnabled,onLoad:()=>{this.sourceWidth=this.rive.bounds.maxX,this.sourceHeight=this.rive.bounds.maxY,this.artboards=this.rive.contents.artboards.map(P=>P.name),this.animations=this.rive.contents.artboards.map(P=>P.animations),this.stateMachines=this.rive.contents.artboards.map(P=>P.stateMachines.map(m=>m.name))}}),this.rive.resizeDrawingSurfaceToCanvas()}};var Vi=function(){var m=this,R=m._self._c;return R("div",{staticClass:"r-flex r-justify-between r-mb-6 r-gap-4"},[R("div",{ref:"riveWrapper"},[R("canvas",{ref:"riveCanvas",staticClass:"r-w-full r-max-h-96",attrs:{height:m.height,width:m.width}})]),R("div",{staticClass:"r-text-xs r-text-right"},[R("p",[R("strong",[m._v("Width:")]),m._v(" "),R("br"),m._v(m._s(m.sourceWidth)+" px")]),R("p",[R("strong",[m._v("Height:")]),m._v(" "),R("br"),m._v(m._s(m.sourceHeight)+" px")]),m._m(0),m.artboards.length?R("ul",[m._l(m.showAllArtboards?m.artboards:m.artboards.slice(0,10),function(N,ae){return R("li",{key:ae},[m._v(" "+m._s(N)+" ")])}),m.artboards.length>10&&!m.showAllArtboards?R("li",[R("button",{on:{click:function(N){m.showAllArtboards=!0}}},[m._v("...")])]):m._e()],2):R("p",[m._v("None")]),m._m(1),m.animations.length&&m.animations[0]?.length?R("ul",[m._l(m.showAllAnimations?m.animations[0]:m.animations[0].slice(0,10),function(N,ae){return R("li",{key:ae},[m._v(" "+m._s(N)+" ")])}),m.animations[0].length>10&&!m.showAllAnimations?R("li",[R("button",{on:{click:function(N){m.showAllAnimations=!0}}},[m._v("...")])]):m._e()],2):R("p",[m._v("None")]),m._m(2),m.stateMachines.length&&m.stateMachines[0]?.length?R("ul",[m._l(m.showAllStateMachines?m.stateMachines[0]:m.stateMachines[0].slice(0,10),function(N,ae){return R("li",{key:ae},[m._v(" "+m._s(N)+" ")])}),m.stateMachines[0].length>10&&!m.showAllStateMachines?R("li",[R("button",{on:{click:function(N){m.showAllStateMachines=!0}}},[m._v("...")])]):m._e()],2):R("p",[m._v("None")])])])},Gi=[function(){var P=this,m=P._self._c;return m("p",[m("strong",[P._v("Artboards:")])])},function(){var P=this,m=P._self._c;return m("p",[m("strong",[P._v("Animations:")])])},function(){var P=this,m=P._self._c;return m("p",[m("strong",[P._v("State Machines:")])])}],Yi=Nr(Ni,Vi,Gi);const Hi=Yi.exports,Xi={components:{RiveWrapper:Hi},mixins:[Fieldtype],inject:["storeName"],data(){return{showOptions:!1,data:{isTouchScrollEnabled:this.value?.isTouchScrollEnabled||!0,shouldDisableRiveListeners:this.value?.shouldDisableRiveListeners||!1,animation:this.value?.animation||null,artboard:this.value?.artboard||null,stateMachine:this.value?.stateMachine||null,width:this.value?.width||500,height:this.value?.height||500,url:this.value?.url||null,id:this.value?.id||null,fileName:this.value?.fileName||null,alt:this.value?.alt||null,error:this.value?.error||null}}},mounted(){this.config.max_files=1,this.config.min_files=0,this.config.mode="list"},watch:{data:{deep:!0,handler(){this.update(this.data)}}},computed:{riveId(){return this.data.id?[this.data.id]:[]}},methods:{updateRive(P){P[0]&&this.getAsset(P[0],"rive",["riv"])},riveClear(){this.data.url=null,this.data.id=null,this.data.fileName=null,this.data.alt=null},getAsset(P,m,R){this.$axios.post(this.cpUrl("assets-fieldtype"),{assets:[P]}).then(N=>{R.includes(N.data[0].extension)?(this.data.url=N.data[0].url,this.data.id=N.data[0].id,this.data.fileName=N.data[0].basename,this.data.alt=N.data[0].values.alt,this.data.error=null):this.data.error="Invalid file type. Please upload a .riv file"})},cpUrl(P){return P=Statamic.$config.get("cpUrl")+"/"+P,P.replace(/([^:])(\/\/+)/g,"$1/")}}};var zi=function(){var m=this,R=m._self._c;return R("div",{staticClass:"dark:r-bg-gray-600/5 r-rounded r-p-4 r-mb-4 r-border r-border-black/30"},[m.data.url?R("div",[R("div",{staticClass:"r-flex r-justify-between r-items-center r-p-4"},[R("p",{staticClass:"r-text-sm"},[m._v("Selected Rive Animation:")]),R("div",{staticClass:"r-flex r-items-center r-gap-2"},[R("p",{staticClass:"r-text-sm"},[m._v(m._s(m.data.fileName))]),R("button",{on:{click:m.riveClear}},[m._v("  ")])])])]):R("div",[R("p",{staticClass:"r-text-sm r-mb-2"},[m._v("Upload a .riv file")]),R("assets-fieldtype",{ref:"assets",staticClass:"assets-fieldtype",attrs:{value:m.riveId,handle:"assets",config:m.config,readOnly:m.readOnly},on:{input:m.updateRive}})],1),m.data.error?R("div",{staticClass:"r-text-red-500"},[m._v(m._s(m.data.error))]):m._e(),m.data.url?R("div",{staticClass:"r-p-4"},[R("RiveWrapper",{key:JSON.stringify(m.data),attrs:{src:m.data.url,stateMachine:m.data.stateMachine,artboard:m.data.artboard,animation:m.data.animation,shouldDisableRiveListeners:m.data.shouldDisableRiveListeners,isTouchScrollEnabled:m.data.isTouchScrollEnabled,width:m.data.width,height:m.data.height}}),R("button",{staticClass:"r-flex d-my-4 r-items-center text-sm",on:{click:function(N){m.showOptions=!m.showOptions}}},[m._v("Configuration Options "),R("svg",{class:m.showOptions?"r-rotate-180":"",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",viewBox:"0 0 20 20"}},[R("path",{attrs:{fill:"currentColor",d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])]),m.showOptions?R("div",{staticClass:"r-grid r-mt-6 r-gap-4"},[R("div",[m._m(0),R("input",{directives:[{name:"model",rawName:"v-model",value:m.data.width,expression:"data.width"}],staticClass:"input-text r-mt-1 r-w-1/2",attrs:{type:"text"},domProps:{value:m.data.width},on:{input:function(N){N.target.composing||m.$set(m.data,"width",N.target.value)}}})]),R("div",[m._m(1),R("input",{directives:[{name:"model",rawName:"v-model",value:m.data.height,expression:"data.height"}],staticClass:"input-text r-mt-1 r-w-1/2",attrs:{type:"text"},domProps:{value:m.data.height},on:{input:function(N){N.target.composing||m.$set(m.data,"height",N.target.value)}}})]),R("div",[m._m(2),R("input",{directives:[{name:"model",rawName:"v-model",value:m.data.animation,expression:"data.animation"}],staticClass:"input-text r-mt-1 r-w-1/2",attrs:{type:"text"},domProps:{value:m.data.animation},on:{input:function(N){N.target.composing||m.$set(m.data,"animation",N.target.value)}}})]),R("div",[m._m(3),R("input",{directives:[{name:"model",rawName:"v-model",value:m.data.artboard,expression:"data.artboard"}],staticClass:"input-text r-mt-1 r-w-1/2",attrs:{type:"text"},domProps:{value:m.data.artboard},on:{input:function(N){N.target.composing||m.$set(m.data,"artboard",N.target.value)}}})]),R("div",[m._m(4),R("input",{directives:[{name:"model",rawName:"v-model",value:m.data.stateMachine,expression:"data.stateMachine"}],staticClass:"input-text r-mt-1 r-w-1/2",attrs:{type:"text"},domProps:{value:m.data.stateMachine},on:{input:function(N){N.target.composing||m.$set(m.data,"stateMachine",N.target.value)}}})]),R("div",[m._m(5),R("toggle-input",{model:{value:m.data.shouldDisableRiveListeners,callback:function(N){m.$set(m.data,"shouldDisableRiveListeners",N)},expression:"data.shouldDisableRiveListeners"}})],1),R("div",[m._m(6),R("toggle-input",{model:{value:m.data.isTouchScrollEnabled,callback:function(N){m.$set(m.data,"isTouchScrollEnabled",N)},expression:"data.isTouchScrollEnabled"}})],1)]):m._e()],1):m._e()])},Ki=[function(){var P=this,m=P._self._c;return m("label",[P._v(" Width "),m("br"),m("span",{staticClass:"r-text-xs r-text-gray-500"},[P._v("Width of the animation")])])},function(){var P=this,m=P._self._c;return m("label",[P._v(" Height "),m("br"),m("span",{staticClass:"r-text-xs r-text-gray-500"},[P._v("Height of the animation")])])},function(){var P=this,m=P._self._c;return m("label",[P._v(" Animation "),m("br"),m("span",{staticClass:"r-text-xs r-text-gray-500"},[P._v(" Name of the animation to use")])])},function(){var P=this,m=P._self._c;return m("label",[P._v(" Art Board "),m("br"),m("span",{staticClass:"r-text-xs r-text-gray-500"},[P._v(" Name of the artboard to use")])])},function(){var P=this,m=P._self._c;return m("label",[P._v(" State Machine "),m("br"),m("span",{staticClass:"r-text-xs r-text-gray-500"},[P._v(" Name of the state machine to use")])])},function(){var P=this,m=P._self._c;return m("label",[P._v("Disable Rive Listeners "),m("br"),m("span",{staticClass:"r-text-xs r-text-gray-500"},[P._v(" Prevent any event listeners from being set up on the element")])])},function(){var P=this,m=P._self._c;return m("label",[P._v("Touch Scroll Enabled "),m("br"),m("span",{staticClass:"r-text-xs r-text-gray-500"},[P._v("Allows scrolling behavior to still occur on canvas elements when a touch/drag action is performed on touch-enabled devices.")])])}],Qi=Nr(Xi,zi,Ki);const Zi=Qi.exports;Statamic.$components.register("rive-fieldtype",Zi);
