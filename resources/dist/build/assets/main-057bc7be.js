var ti=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_r={exports:{}};(function(S,p){(function(ee,le){S.exports=le()})(ti,()=>(()=>{var M=[,(ie,N,I)=>{I.r(N),I.d(N,{default:()=>ue});var oe=(()=>{var V=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(F={}){var l=F,te,fe;l.ready=new Promise((e,t)=>{te=e,fe=t});function _e(){function e(c){const v=i;n=t=0,i=new Map,v.forEach(m=>{try{m(c)}catch(d){console.error(d)}}),this.ob(),o&&o.Tb()}let t=0,n=0,i=new Map,o=null,s=null;this.requestAnimationFrame=function(c){t||(t=requestAnimationFrame(e.bind(this)));const v=++n;return i.set(v,c),v},this.cancelAnimationFrame=function(c){i.delete(c),t&&i.size==0&&(cancelAnimationFrame(t),t=0)},this.Rb=function(c){s&&(document.body.remove(s),s=null),c||(s=document.createElement("div"),s.style.backgroundColor="black",s.style.position="fixed",s.style.right=0,s.style.top=0,s.style.color="white",s.style.padding="4px",s.innerHTML="RIVE FPS",c=function(v){s.innerHTML="RIVE FPS "+v.toFixed(1)},document.body.appendChild(s)),o=new function(){let v=0,m=0;this.Tb=function(){var d=performance.now();m?(++v,d-=m,1e3<d&&(c(1e3*v/d),v=m=0)):(m=d,v=0)}}},this.Ob=function(){s&&(document.body.remove(s),s=null),o=null},this.ob=function(){}}function de(e){console.assert(!0);const t=new Map;let n=-1/0;this.push=function(i){return i=i+((1<<e)-1)>>e,t.has(i)&&clearTimeout(t.get(i)),t.set(i,setTimeout(function(){t.delete(i),t.length==0?n=-1/0:i==n&&(n=Math.max(...t.keys()),console.assert(n<i))},1e3)),n=Math.max(i,n),n<<e}}const Re=l.onRuntimeInitialized;l.onRuntimeInitialized=function(){Re&&Re();let e=l.decodeAudio;l.decodeAudio=function(o,s){o=e(o),s(o)};let t=l.decodeFont;l.decodeFont=function(o,s){o=t(o),s(o)};const n=l.FileAssetLoader;l.ptrToAsset=o=>{let s=l.ptrToFileAsset(o);return s.isImage?l.ptrToImageAsset(o):s.isFont?l.ptrToFontAsset(o):s.isAudio?l.ptrToAudioAsset(o):s},l.CustomFileAssetLoader=n.extend("CustomFileAssetLoader",{__construct:function({loadContents:o}){this.__parent.__construct.call(this),this.Gb=o},loadContents:function(o,s){return o=l.ptrToAsset(o),this.Gb(o,s)}}),l.CDNFileAssetLoader=n.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(o){let s=l.ptrToAsset(o);return o=s.cdnUuid,o===""?!1:(function(c,v){var m=new XMLHttpRequest;m.responseType="arraybuffer",m.onreadystatechange=function(){m.readyState==4&&m.status==200&&v(m)},m.open("GET",c,!0),m.send(null)}(s.cdnBaseUrl+"/"+o,c=>{s.decode(new Uint8Array(c.response))}),!0)}}),l.FallbackFileAssetLoader=n.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.kb=[]},addLoader:function(o){this.kb.push(o)},loadContents:function(o,s){for(let c of this.kb)if(c.loadContents(o,s))return!0;return!1}});let i=l.computeAlignment;l.computeAlignment=function(o,s,c,v,m=1){return i.call(this,o,s,c,v,m)}};const Ee="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),ve=new function(){function e(){if(!t){let J=function(E,Z,se){if(Z=R.createShader(Z),R.shaderSource(Z,se),R.compileShader(Z),se=R.getShaderInfoLog(Z),0<(se||"").length)throw se;R.attachShader(E,Z)};var x=J,h=document.createElement("canvas"),b={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let R;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(R=h.getContext("webgl",b),n=1,!R)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(R=h.getContext("webgl2",b))n=2;else if(R=h.getContext("webgl",b))n=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(R=new Proxy(R,{get(E,Z){if(E.isContextLost()){if(m||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Z),m=!0),typeof E[Z]=="function")return function(){}}else return typeof E[Z]=="function"?function(...se){return E[Z].apply(E,se)}:E[Z]},set(E,Z,se){if(E.isContextLost())m||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Z),m=!0);else return E[Z]=se,!0}}),i=Math.min(R.getParameter(R.MAX_RENDERBUFFER_SIZE),R.getParameter(R.MAX_TEXTURE_SIZE)),h=R.createProgram(),J(h,R.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),J(h,R.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),R.bindAttribLocation(h,0,"vertex"),R.bindAttribLocation(h,1,"uv"),R.linkProgram(h),b=R.getProgramInfoLog(h),0<(b||"").trim().length)throw b;o=R.getUniformLocation(h,"mat"),s=R.getUniformLocation(h,"translate"),R.useProgram(h),R.bindBuffer(R.ARRAY_BUFFER,R.createBuffer()),R.enableVertexAttribArray(0),R.enableVertexAttribArray(1),R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,R.createBuffer()),R.uniform1i(R.getUniformLocation(h,"image"),0),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t=R}return!0}let t=null,n=0,i=0,o=null,s=null,c=0,v=0,m=!1;e(),this.hc=function(){return e(),i},this.Mb=function(h){t.deleteTexture&&t.deleteTexture(h)},this.Lb=function(h){if(!e())return null;const b=t.createTexture();return b?(t.bindTexture(t.TEXTURE_2D,b),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,h),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),n==2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),b):null};const d=new de(8),_=new de(8),C=new de(10),P=new de(10);this.Qb=function(h,b,x,R,J){if(e()){var E=d.push(h),Z=_.push(b);if(t.canvas){(t.canvas.width!=E||t.canvas.height!=Z)&&(t.canvas.width=E,t.canvas.height=Z),t.viewport(0,Z-b,h,b),t.disable(t.SCISSOR_TEST),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.SCISSOR_TEST),x.sort((z,He)=>He.wb-z.wb),E=C.push(R),c!=E&&(t.bufferData(t.ARRAY_BUFFER,8*E,t.DYNAMIC_DRAW),c=E),E=0;for(var se of x)t.bufferSubData(t.ARRAY_BUFFER,E,se.Ta),E+=4*se.Ta.length;console.assert(E==4*R);for(var Ye of x)t.bufferSubData(t.ARRAY_BUFFER,E,Ye.Db),E+=4*Ye.Db.length;console.assert(E==8*R),E=P.push(J),v!=E&&(t.bufferData(t.ELEMENT_ARRAY_BUFFER,2*E,t.DYNAMIC_DRAW),v=E),se=0;for(var ct of x)t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,se,ct.indices),se+=2*ct.indices.length;console.assert(se==2*J),ct=0,Ye=!0,E=se=0;for(const z of x){z.image.Ka!=ct&&(t.bindTexture(t.TEXTURE_2D,z.image.Ja||null),ct=z.image.Ka),z.mc?(t.scissor(z.Ya,Z-z.Za-z.jb,z.Ac,z.jb),Ye=!0):Ye&&(t.scissor(0,Z-b,h,b),Ye=!1),x=2/h;const He=-2/b;t.uniform4f(o,z.ha[0]*x*z.Ba,z.ha[1]*He*z.Ca,z.ha[2]*x*z.Ba,z.ha[3]*He*z.Ca),t.uniform2f(s,z.ha[4]*x*z.Ba+x*(z.Ya-z.ic*z.Ba)-1,z.ha[5]*He*z.Ca+He*(z.Za-z.jc*z.Ca)+1),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,E),t.vertexAttribPointer(1,2,t.FLOAT,!1,0,E+4*R),t.drawElements(t.TRIANGLES,z.indices.length,t.UNSIGNED_SHORT,se),E+=4*z.Ta.length,se+=2*z.indices.length}console.assert(E==4*R),console.assert(se==2*J)}}},this.canvas=function(){return e()&&t.canvas}},Fe=l.onRuntimeInitialized;l.onRuntimeInitialized=function(){function e(w){switch(w){case d.srcOver:return"source-over";case d.screen:return"screen";case d.overlay:return"overlay";case d.darken:return"darken";case d.lighten:return"lighten";case d.colorDodge:return"color-dodge";case d.colorBurn:return"color-burn";case d.hardLight:return"hard-light";case d.softLight:return"soft-light";case d.difference:return"difference";case d.exclusion:return"exclusion";case d.multiply:return"multiply";case d.hue:return"hue";case d.saturation:return"saturation";case d.color:return"color";case d.luminosity:return"luminosity"}}function t(w){return"rgba("+((16711680&w)>>>16)+","+((65280&w)>>>8)+","+((255&w)>>>0)+","+((4278190080&w)>>>24)/255+")"}function n(){0<Z.length&&(ve.Qb(E.drawWidth(),E.drawHeight(),Z,se,Ye),Z=[],Ye=se=0,E.reset(512,512));for(const w of J){for(const T of w.H)T();w.H=[]}J.clear()}Fe&&Fe();var i=l.RenderPaintStyle;const o=l.RenderPath,s=l.RenderPaint,c=l.Renderer,v=l.StrokeCap,m=l.StrokeJoin,d=l.BlendMode,_=i.fill,C=i.stroke,P=l.FillRule.evenOdd;let h=1;var b=l.RenderImage.extend("CanvasRenderImage",{__construct:function({la:w,xa:T}={}){this.__parent.__construct.call(this),this.Ka=h,h=h+1&2147483647||1,this.la=w,this.xa=T},__destruct:function(){this.Ja&&(ve.Mb(this.Ja),URL.revokeObjectURL(this.Wa)),this.__parent.__destruct.call(this)},decode:function(w){var T=this;T.xa&&T.xa(T);var k=new Image;T.Wa=URL.createObjectURL(new Blob([w],{type:"image/png"})),k.onload=function(){T.Fb=k,T.Ja=ve.Lb(k),T.size(k.width,k.height),T.la&&T.la(T)},k.src=T.Wa}}),x=o.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(w,T,k,Y,U,X,G){var q=this.T,Se=q.addPath;w=w.T;const pe=new DOMMatrix;pe.a=T,pe.b=k,pe.c=Y,pe.d=U,pe.e=X,pe.f=G,Se.call(q,w,pe)},fillRule:function(w){this.Va=w},moveTo:function(w,T){this.T.moveTo(w,T)},lineTo:function(w,T){this.T.lineTo(w,T)},cubicTo:function(w,T,k,Y,U,X){this.T.bezierCurveTo(w,T,k,Y,U,X)},close:function(){this.T.closePath()}}),R=s.extend("CanvasRenderPaint",{color:function(w){this.Xa=t(w)},thickness:function(w){this.Ib=w},join:function(w){switch(w){case m.miter:this.Ia="miter";break;case m.round:this.Ia="round";break;case m.bevel:this.Ia="bevel"}},cap:function(w){switch(w){case v.butt:this.Ha="butt";break;case v.round:this.Ha="round";break;case v.square:this.Ha="square"}},style:function(w){this.Hb=w},blendMode:function(w){this.Eb=e(w)},clearGradient:function(){this.ja=null},linearGradient:function(w,T,k,Y){this.ja={yb:w,zb:T,bb:k,cb:Y,Ra:[]}},radialGradient:function(w,T,k,Y){this.ja={yb:w,zb:T,bb:k,cb:Y,Ra:[],ec:!0}},addStop:function(w,T){this.ja.Ra.push({color:w,stop:T})},completeGradient:function(){},draw:function(w,T,k){let Y=this.Hb;var U=this.Xa,X=this.ja;if(w.globalCompositeOperation=this.Eb,X!=null){U=X.yb;var G=X.zb;const Se=X.bb;var q=X.cb;const pe=X.Ra;X.ec?(X=Se-U,q-=G,U=w.createRadialGradient(U,G,0,U,G,Math.sqrt(X*X+q*q))):U=w.createLinearGradient(U,G,Se,q);for(let ze=0,be=pe.length;ze<be;ze++)G=pe[ze],U.addColorStop(G.stop,t(G.color));this.Xa=U,this.ja=null}switch(Y){case C:w.strokeStyle=U,w.lineWidth=this.Ib,w.lineCap=this.Ha,w.lineJoin=this.Ia,w.stroke(T);break;case _:w.fillStyle=U,w.fill(T,k)}}});const J=new Set;let E=null,Z=[],se=0,Ye=0;var ct=l.CanvasRenderer=c.extend("Renderer",{__construct:function(w){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.C=w.getContext("2d"),this.Ua=w,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.C.save.bind(this.C))},restore:function(){const w=this.S.length-6;if(6>w)throw"restore() called without matching save().";this.S.splice(w),this.H.push(this.C.restore.bind(this.C))},transform:function(w,T,k,Y,U,X){const G=this.S,q=G.length-6;G.splice(q,6,G[q]*w+G[q+2]*T,G[q+1]*w+G[q+3]*T,G[q]*k+G[q+2]*Y,G[q+1]*k+G[q+3]*Y,G[q]*U+G[q+2]*X+G[q+4],G[q+1]*U+G[q+3]*X+G[q+5]),this.H.push(this.C.transform.bind(this.C,w,T,k,Y,U,X))},rotate:function(w){const T=Math.sin(w);w=Math.cos(w),this.transform(w,T,-T,w,0,0)},_drawPath:function(w,T){this.H.push(T.draw.bind(T,this.C,w.T,w.Va===P?"evenodd":"nonzero"))},_drawRiveImage:function(w,T,k){var Y=w.Fb;if(Y){var U=this.C,X=e(T);this.H.push(function(){U.globalCompositeOperation=X,U.globalAlpha=k,U.drawImage(Y,0,0),U.globalAlpha=1})}},_getMatrix:function(w){const T=this.S,k=T.length-6;for(let Y=0;6>Y;++Y)w[Y]=T[k+Y]},_drawImageMesh:function(w,T,k,Y,U,X,G,q,Se,pe){var ze=this.C.canvas.width,be=this.C.canvas.height;const mr=Se-G,gr=pe-q;G=Math.max(G,0),q=Math.max(q,0),Se=Math.min(Se,ze),pe=Math.min(pe,be);const xt=Se-G,St=pe-q;if(console.assert(xt<=Math.min(mr,ze)),console.assert(St<=Math.min(gr,be)),!(0>=xt||0>=St)){Se=xt<mr||St<gr,ze=pe=1;var ht=Math.ceil(xt*pe),ft=Math.ceil(St*ze);be=ve.hc(),ht>be&&(pe*=be/ht,ht=be),ft>be&&(ze*=be/ft,ft=be),E||(E=new l.DynamicRectanizer(be),E.reset(512,512)),be=E.addRect(ht,ft),0>be&&(n(),J.add(this),be=E.addRect(ht,ft),console.assert(0<=be));var yr=be&65535,wr=be>>16;Z.push({ha:this.S.slice(this.S.length-6),image:w,Ya:yr,Za:wr,ic:G,jc:q,Ac:ht,jb:ft,Ba:pe,Ca:ze,Ta:new Float32Array(Y),Db:new Float32Array(U),indices:new Uint16Array(X),mc:Se,wb:w.Ka<<1|(Se?1:0)}),se+=Y.length,Ye+=X.length;var wt=this.C,ei=e(T);this.H.push(function(){wt.save(),wt.resetTransform(),wt.globalCompositeOperation=ei,wt.globalAlpha=k;const br=ve.canvas();br&&wt.drawImage(br,yr,wr,ht,ft,G,q,xt,St),wt.restore()})}},_clipPath:function(w){this.H.push(this.C.clip.bind(this.C,w.T,w.Va===P?"evenodd":"nonzero"))},clear:function(){J.add(this),this.H.push(this.C.clearRect.bind(this.C,0,0,this.Ua.width,this.Ua.height))},flush:function(){},translate:function(w,T){this.transform(1,0,0,1,w,T)}});l.makeRenderer=function(w){const T=new ct(w),k=T.C;return new Proxy(T,{get(Y,U){if(typeof Y[U]=="function")return function(...X){return Y[U].apply(Y,X)};if(typeof k[U]=="function"){if(-1<Ee.indexOf(U))throw Error("RiveException: Method call to '"+U+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...X){T.H.push(k[U].bind(k,...X))}}return Y[U]},set(Y,U,X){if(U in k)return T.H.push(()=>{k[U]=X}),!0}})},l.decodeImage=function(w,T){new b({la:T}).decode(w)},l.renderFactory={makeRenderPaint:function(){return new R},makeRenderPath:function(){return new x},makeRenderImage:function(){let w=He;return new b({xa:()=>{w.total++},la:()=>{if(w.loaded++,w.loaded===w.total){const T=w.ready;T&&(T(),w.ready=null)}}})}};let z=l.load,He=null;l.load=function(w,T,k=!0){const Y=new l.FallbackFileAssetLoader;return T!==void 0&&Y.addLoader(T),k&&(T=new l.CDNFileAssetLoader,Y.addLoader(T)),new Promise(function(U){let X=null;He={total:0,loaded:0,ready:function(){U(X)}},X=z(w,Y),He.total==0&&U(X)})};let qr=l.RendererWrapper.prototype.align;l.RendererWrapper.prototype.align=function(w,T,k,Y,U=1){qr.call(this,w,T,k,Y,U)},i=new _e,l.requestAnimationFrame=i.requestAnimationFrame.bind(i),l.cancelAnimationFrame=i.cancelAnimationFrame.bind(i),l.enableFPSCounter=i.Rb.bind(i),l.disableFPSCounter=i.Ob,i.ob=n,l.resolveAnimationFrame=n,l.cleanup=function(){E&&E.delete()}};var j=Object.assign({},l),Oe="./this.program",Xe=typeof window=="object",Ue=typeof importScripts=="function",ce="",at,ae;(Xe||Ue)&&(Ue?ce=self.location.href:typeof document<"u"&&document.currentScript&&(ce=document.currentScript.src),V&&(ce=V),ce.indexOf("blob:")!==0?ce=ce.substr(0,ce.replace(/[?#].*/,"").lastIndexOf("/")+1):ce="",Ue&&(ae=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),at=(e,t,n)=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?t(i.response):n()},i.onerror=n,i.send(null)});var Le=l.print||console.log.bind(console),Pe=l.printErr||console.error.bind(console);Object.assign(l,j),j=null,l.thisProgram&&(Oe=l.thisProgram);var We;l.wasmBinary&&(We=l.wasmBinary),l.noExitRuntime,typeof WebAssembly!="object"&&Q("no native wasm support detected");var $e,ne,dt=!1,me,K,Ae,Be,H,re,u,r;function a(){var e=$e.buffer;l.HEAP8=me=new Int8Array(e),l.HEAP16=Ae=new Int16Array(e),l.HEAP32=H=new Int32Array(e),l.HEAPU8=K=new Uint8Array(e),l.HEAPU16=Be=new Uint16Array(e),l.HEAPU32=re=new Uint32Array(e),l.HEAPF32=u=new Float32Array(e),l.HEAPF64=r=new Float64Array(e)}var f,g=[],y=[],A=[];function D(){var e=l.preRun.shift();g.unshift(e)}var $=0,O=null;function Q(e){throw l.onAbort&&l.onAbort(e),e="Aborted("+e+")",Pe(e),dt=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),fe(e),e}function ge(e){return e.startsWith("data:application/octet-stream;base64,")}var ye;if(ye="canvas_advanced.wasm",!ge(ye)){var we=ye;ye=l.locateFile?l.locateFile(we,ce):ce+we}function tt(e){if(e==ye&&We)return new Uint8Array(We);if(ae)return ae(e);throw"both async and sync fetching of the wasm failed"}function je(e){if(!We&&(Xe||Ue)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>tt(e));if(at)return new Promise((t,n)=>{at(e,i=>t(new Uint8Array(i)),n)})}return Promise.resolve().then(()=>tt(e))}function nt(e,t,n){return je(e).then(i=>WebAssembly.instantiate(i,t)).then(i=>i).then(n,i=>{Pe("failed to asynchronously prepare wasm: "+i),Q(i)})}function Ft(e,t){var n=ye;return We||typeof WebAssembly.instantiateStreaming!="function"||ge(n)||n.startsWith("file://")||typeof fetch!="function"?nt(n,e,t):fetch(n,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,e).then(t,function(o){return Pe("wasm streaming compile failed: "+o),Pe("falling back to ArrayBuffer instantiation"),nt(n,e,t)}))}var Ge,vt,bt={445532:(e,t,n,i,o)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Aa:0},window.h.I={},window.h.I.ya=e,window.h.I.capture=t,window.h.I.La=n,window.h.ga={},window.h.ga.stopped=i,window.h.ga.xb=o;let s=window.h;s.D=[],s.yc=function(c){for(var v=0;v<s.D.length;++v)if(s.D[v]==null)return s.D[v]=c,v;return s.D.push(c),s.D.length-1},s.Cb=function(c){for(s.D[c]=null;0<s.D.length&&s.D[s.D.length-1]==null;)s.D.pop()},s.Sc=function(c){for(var v=0;v<s.D.length;++v)if(s.D[v]==c)return s.Cb(v)},s.ra=function(c){return s.D[c]},s.Bb=["touchend","click"],s.unlock=function(){for(var c=0;c<s.D.length;++c){var v=s.D[c];v!=null&&v.J!=null&&v.state===s.ga.xb&&v.J.resume().then(()=>{cr(v.pb)},m=>{console.error("Failed to resume audiocontext",m)})}s.Bb.map(function(m){document.removeEventListener(m,s.unlock,!0)})},s.Bb.map(function(c){document.addEventListener(c,s.unlock,!0)})}return window.h.Aa+=1,1},447710:()=>{typeof window.h<"u"&&(--window.h.Aa,window.h.Aa===0&&delete window.h)},447874:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,447978:()=>{try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate;return e.close(),t}catch{return 0}},448149:(e,t,n,i,o,s)=>{if(typeof window.h>"u")return-1;var c={},v={};return e==window.h.I.ya&&n!=0&&(v.sampleRate=n),c.J=new(window.AudioContext||window.webkitAudioContext)(v),c.J.suspend(),c.state=window.h.ga.stopped,n=0,e!=window.h.I.ya&&(n=t),c.Z=c.J.createScriptProcessor(i,n,t),c.Z.onaudioprocess=function(m){if((c.sa==null||c.sa.length==0)&&(c.sa=new Float32Array(u.buffer,o,i*t)),e==window.h.I.capture||e==window.h.I.La){for(var d=0;d<t;d+=1)for(var _=m.inputBuffer.getChannelData(d),C=c.sa,P=0;P<i;P+=1)C[P*t+d]=_[P];hr(s,i,o)}if(e==window.h.I.ya||e==window.h.I.La)for(fr(s,i,o),d=0;d<m.outputBuffer.numberOfChannels;++d)for(_=m.outputBuffer.getChannelData(d),C=c.sa,P=0;P<i;P+=1)_[P]=C[P*t+d];else for(d=0;d<m.outputBuffer.numberOfChannels;++d)m.outputBuffer.getChannelData(d).fill(0)},e!=window.h.I.capture&&e!=window.h.I.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(m){c.Da=c.J.createMediaStreamSource(m),c.Da.connect(c.Z),c.Z.connect(c.J.destination)}).catch(function(m){console.log("Failed to get user media: "+m)}),e==window.h.I.ya&&c.Z.connect(c.J.destination),c.pb=s,window.h.yc(c)},451026:e=>window.h.ra(e).J.sampleRate,451099:e=>{e=window.h.ra(e),e.Z!==void 0&&(e.Z.onaudioprocess=function(){},e.Z.disconnect(),e.Z=void 0),e.Da!==void 0&&(e.Da.disconnect(),e.Da=void 0),e.J.close(),e.J=void 0,e.pb=void 0},451499:e=>{window.h.Cb(e)},451549:e=>{e=window.h.ra(e),e.J.resume(),e.state=window.h.ga.xb},451688:e=>{e=window.h.ra(e),e.J.suspend(),e.state=window.h.ga.stopped}},Ke=e=>{for(;0<e.length;)e.shift()(l)},pt=(e,t)=>{for(var n=0,i=e.length-1;0<=i;i--){var o=e[i];o==="."?e.splice(i,1):o===".."?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},Me=e=>{var t=e.charAt(0)==="/",n=e.substr(-1)==="/";return(e=pt(e.split("/").filter(i=>!!i),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},Cr=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)},_n=e=>{if(e==="/")return"/";e=Me(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},Rr=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);Q("initRandomDevice")},An=e=>(An=Rr())(e);function Ot(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if(t=0<=n?arguments[n]:"/",typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=pt(e.split("/").filter(i=>!!i),!t).join("/"),(t?"/":"")+e||"."}var Cn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,rt=(e,t,n)=>{var i=t+n;for(n=t;e[n]&&!(n>=i);)++n;if(16<n-t&&e.buffer&&Cn)return Cn.decode(e.subarray(t,n));for(i="";t<n;){var o=e[t++];if(o&128){var s=e[t++]&63;if((o&224)==192)i+=String.fromCharCode((o&31)<<6|s);else{var c=e[t++]&63;o=(o&240)==224?(o&15)<<12|s<<6|c:(o&7)<<18|s<<12|c<<6|e[t++]&63,65536>o?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode(55296|o>>10,56320|o&1023))}}else i+=String.fromCharCode(o)}return i},nn=[],Rn=e=>{for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);127>=i?t++:2047>=i?t+=2:55296<=i&&57343>=i?(t+=4,++n):t+=3}return t},En=(e,t,n,i)=>{if(!(0<i))return 0;var o=n;i=n+i-1;for(var s=0;s<e.length;++s){var c=e.charCodeAt(s);if(55296<=c&&57343>=c){var v=e.charCodeAt(++s);c=65536+((c&1023)<<10)|v&1023}if(127>=c){if(n>=i)break;t[n++]=c}else{if(2047>=c){if(n+1>=i)break;t[n++]=192|c>>6}else{if(65535>=c){if(n+2>=i)break;t[n++]=224|c>>12}else{if(n+3>=i)break;t[n++]=240|c>>18,t[n++]=128|c>>12&63}t[n++]=128|c>>6&63}t[n++]=128|c&63}}return t[n]=0,n-o};function Pn(e,t){var n=Array(Rn(e)+1);return e=En(e,n,0,n.length),t&&(n.length=e),n}var Tn=[];function Ln(e,t){Tn[e]={input:[],F:[],V:t},an(e,Er)}var Er={open:function(e){var t=Tn[e.node.za];if(!t)throw new L(43);e.s=t,e.seekable=!1},close:function(e){e.s.V.qa(e.s)},qa:function(e){e.s.V.qa(e.s)},read:function(e,t,n,i){if(!e.s||!e.s.V.ib)throw new L(60);for(var o=0,s=0;s<i;s++){try{var c=e.s.V.ib(e.s)}catch{throw new L(29)}if(c===void 0&&o===0)throw new L(6);if(c==null)break;o++,t[n+s]=c}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,i){if(!e.s||!e.s.V.Oa)throw new L(60);try{for(var o=0;o<i;o++)e.s.V.Oa(e.s,t[n+o])}catch{throw new L(29)}return i&&(e.node.timestamp=Date.now()),o}},Pr={ib:function(){e:{if(!nn.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e){e=null;break e}nn=Pn(e,!0)}e=nn.shift()}return e},Oa:function(e,t){t===null||t===10?(Le(rt(e.F,0)),e.F=[]):t!=0&&e.F.push(t)},qa:function(e){e.F&&0<e.F.length&&(Le(rt(e.F,0)),e.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}},Tr={Oa:function(e,t){t===null||t===10?(Pe(rt(e.F,0)),e.F=[]):t!=0&&e.F.push(t)},qa:function(e){e.F&&0<e.F.length&&(Pe(rt(e.F,0)),e.F=[])}};function Mn(e,t){var n=e.j?e.j.length:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)>>>0),n!=0&&(t=Math.max(t,256)),n=e.j,e.j=new Uint8Array(t),0<e.v&&e.j.set(n.subarray(0,e.v),0))}var B={O:null,U(){return B.createNode(null,"/",16895,0)},createNode(e,t,n,i){if((n&61440)===24576||(n&61440)===4096)throw new L(63);return B.O||(B.O={dir:{node:{Y:B.l.Y,P:B.l.P,ka:B.l.ka,va:B.l.va,ub:B.l.ub,Ab:B.l.Ab,vb:B.l.vb,sb:B.l.sb,Ea:B.l.Ea},stream:{ba:B.m.ba}},file:{node:{Y:B.l.Y,P:B.l.P},stream:{ba:B.m.ba,read:B.m.read,write:B.m.write,pa:B.m.pa,lb:B.m.lb,nb:B.m.nb}},link:{node:{Y:B.l.Y,P:B.l.P,ma:B.l.ma},stream:{}},$a:{node:{Y:B.l.Y,P:B.l.P},stream:Sr}}),n=jn(e,t,n,i),(n.mode&61440)===16384?(n.l=B.O.dir.node,n.m=B.O.dir.stream,n.j={}):(n.mode&61440)===32768?(n.l=B.O.file.node,n.m=B.O.file.stream,n.v=0,n.j=null):(n.mode&61440)===40960?(n.l=B.O.link.node,n.m=B.O.link.stream):(n.mode&61440)===8192&&(n.l=B.O.$a.node,n.m=B.O.$a.stream),n.timestamp=Date.now(),e&&(e.j[t]=n,e.timestamp=n.timestamp),n},Kc(e){return e.j?e.j.subarray?e.j.subarray(0,e.v):new Uint8Array(e.j):new Uint8Array(0)},l:{Y(e){var t={};return t.Jc=(e.mode&61440)===8192?e.id:1,t.Mc=e.id,t.mode=e.mode,t.Oc=1,t.uid=0,t.Lc=0,t.za=e.za,(e.mode&61440)===16384?t.size=4096:(e.mode&61440)===32768?t.size=e.v:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.Bc=new Date(e.timestamp),t.Nc=new Date(e.timestamp),t.Ic=new Date(e.timestamp),t.Jb=4096,t.Cc=Math.ceil(t.size/t.Jb),t},P(e,t){if(t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&(t=t.size,e.v!=t))if(t==0)e.j=null,e.v=0;else{var n=e.j;e.j=new Uint8Array(t),n&&e.j.set(n.subarray(0,Math.min(t,e.v))),e.v=t}},ka(){throw on[44]},va(e,t,n,i){return B.createNode(e,t,n,i)},ub(e,t,n){if((e.mode&61440)===16384){try{var i=It(t,n)}catch{}if(i)for(var o in i.j)throw new L(55)}delete e.parent.j[e.name],e.parent.timestamp=Date.now(),e.name=n,t.j[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},Ab(e,t){delete e.j[t],e.timestamp=Date.now()},vb(e,t){var n=It(e,t),i;for(i in n.j)throw new L(55);delete e.j[t],e.timestamp=Date.now()},sb(e){var t=[".",".."],n;for(n in e.j)e.j.hasOwnProperty(n)&&t.push(n);return t},Ea(e,t,n){return e=B.createNode(e,t,41471,0),e.link=n,e},ma(e){if((e.mode&61440)!==40960)throw new L(28);return e.link}},m:{read(e,t,n,i,o){var s=e.node.j;if(o>=e.node.v)return 0;if(e=Math.min(e.node.v-o,i),8<e&&s.subarray)t.set(s.subarray(o,o+e),n);else for(i=0;i<e;i++)t[n+i]=s[o+i];return e},write(e,t,n,i,o,s){if(t.buffer===me.buffer&&(s=!1),!i)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.j||e.j.subarray)){if(s)return e.j=t.subarray(n,n+i),e.v=i;if(e.v===0&&o===0)return e.j=t.slice(n,n+i),e.v=i;if(o+i<=e.v)return e.j.set(t.subarray(n,n+i),o),i}if(Mn(e,o+i),e.j.subarray&&t.subarray)e.j.set(t.subarray(n,n+i),o);else for(s=0;s<i;s++)e.j[o+s]=t[n+s];return e.v=Math.max(e.v,o+i),i},ba(e,t,n){if(n===1?t+=e.position:n===2&&(e.node.mode&61440)===32768&&(t+=e.node.v),0>t)throw new L(28);return t},pa(e,t,n){Mn(e.node,t+n),e.node.v=Math.max(e.node.v,t+n)},lb(e,t,n,i,o){if((e.node.mode&61440)!==32768)throw new L(43);if(e=e.node.j,o&2||e.buffer!==me.buffer){if((0<n||n+t<e.length)&&(e.subarray?e=e.subarray(n,n+t):e=Array.prototype.slice.call(e,n,n+t)),n=!0,Q(),t=void 0,!t)throw new L(48);me.set(e,t)}else n=!1,t=e.byteOffset;return{o:t,M:n}},nb(e,t,n,i){return B.m.write(e,t,0,i,n,!1),0}}};function Lr(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}var rn=null,xn={},jt=[],Mr=1,_t=null,Sn=!0,L=null,on={},st=(e,t={})=>{if(e=Ot(e),!e)return{path:"",node:null};if(t=Object.assign({gb:!0,Qa:0},t),8<t.Qa)throw new L(32);e=e.split("/").filter(c=>!!c);for(var n=rn,i="/",o=0;o<e.length;o++){var s=o===e.length-1;if(s&&t.parent)break;if(n=It(n,e[o]),i=Me(i+"/"+e[o]),n.wa&&(!s||s&&t.gb)&&(n=n.wa.root),!s||t.fb){for(s=0;(n.mode&61440)===40960;)if(n=Fr(i),i=Ot(Cr(i),n),n=st(i,{Qa:t.Qa+1}).node,40<s++)throw new L(32)}}return{path:i,node:n}},Fn=e=>{for(var t;;){if(e===e.parent)return e=e.U.mb,t?e[e.length-1]!=="/"?`${e}/${t}`:e+t:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}},On=(e,t)=>{for(var n=0,i=0;i<t.length;i++)n=(n<<5)-n+t.charCodeAt(i)|0;return(e+n>>>0)%_t.length},It=(e,t)=>{var n;if(n=(n=Dt(e,"x"))?n:e.l.ka?0:2)throw new L(n,e);for(n=_t[On(e.id,t)];n;n=n.lc){var i=n.name;if(n.parent.id===e.id&&i===t)return n}return e.l.ka(e,t)},jn=(e,t,n,i)=>(e=new sr(e,t,n,i),t=On(e.parent.id,e.name),e.lc=_t[t],_t[t]=e),In=e=>{var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},Dt=(e,t)=>{if(Sn)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0},Dn=(e,t)=>{try{return It(e,t),20}catch{}return Dt(e,"wx")},xr=()=>{for(var e=0;4096>=e;e++)if(!jt[e])return e;throw new L(33)},it=e=>{if(e=jt[e],!e)throw new L(8);return e},Un=(e,t=-1)=>(Ct||(Ct=function(){this.h={}},Ct.prototype={},Object.defineProperties(Ct.prototype,{object:{get(){return this.node},set(n){this.node=n}},flags:{get(){return this.h.flags},set(n){this.h.flags=n}},position:{get(){return this.h.position},set(n){this.h.position=n}}})),e=Object.assign(new Ct,e),t==-1&&(t=xr()),e.X=t,jt[t]=e),Sr={open:e=>{e.m=xn[e.node.za].m,e.m.open&&e.m.open(e)},ba:()=>{throw new L(70)}},an=(e,t)=>{xn[e]={m:t}},Wn=(e,t)=>{var n=t==="/",i=!t;if(n&&rn)throw new L(10);if(!n&&!i){var o=st(t,{gb:!1});if(t=o.path,o=o.node,o.wa)throw new L(10);if((o.mode&61440)!==16384)throw new L(54)}t={type:e,Qc:{},mb:t,kc:[]},e=e.U(t),e.U=t,t.root=e,n?rn=e:o&&(o.wa=t,o.U&&o.U.kc.push(t))},Ie=(e,t,n)=>{var i=st(e,{parent:!0}).node;if(e=_n(e),!e||e==="."||e==="..")throw new L(28);var o=Dn(i,e);if(o)throw new L(o);if(!i.l.va)throw new L(63);return i.l.va(i,e,t,n)},Ut=(e,t,n)=>{typeof n>"u"&&(n=t,t=438),Ie(e,t|8192,n)},sn=(e,t)=>{if(!Ot(e))throw new L(44);var n=st(t,{parent:!0}).node;if(!n)throw new L(44);t=_n(t);var i=Dn(n,t);if(i)throw new L(i);if(!n.l.Ea)throw new L(63);n.l.Ea(n,t,e)},Fr=e=>{if(e=st(e).node,!e)throw new L(44);if(!e.l.ma)throw new L(28);return Ot(Fn(e.parent),e.l.ma(e))},Wt=(e,t,n)=>{if(e==="")throw new L(44);if(typeof t=="string"){var i={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(typeof i>"u")throw Error(`Unknown file open mode: ${t}`);t=i}if(n=t&64?(typeof n>"u"?438:n)&4095|32768:0,typeof e=="object")var o=e;else{e=Me(e);try{o=st(e,{fb:!(t&131072)}).node}catch{}}if(i=!1,t&64)if(o){if(t&128)throw new L(20)}else o=Ie(e,n,0),i=!0;if(!o)throw new L(44);if((o.mode&61440)===8192&&(t&=-513),t&65536&&(o.mode&61440)!==16384)throw new L(54);if(!i&&(n=o?(o.mode&61440)===40960?32:(o.mode&61440)===16384&&(In(t)!=="r"||t&512)?31:Dt(o,In(t)):44))throw new L(n);if(t&512&&!i){if(n=o,n=typeof n=="string"?st(n,{fb:!0}).node:n,!n.l.P)throw new L(63);if((n.mode&61440)===16384)throw new L(31);if((n.mode&61440)!==32768)throw new L(28);if(i=Dt(n,"w"))throw new L(i);n.l.P(n,{size:0,timestamp:Date.now()})}return t&=-131713,o=Un({node:o,path:Fn(o),flags:t,seekable:!0,position:0,m:o.m,zc:[],error:!1}),o.m.open&&o.m.open(o),!l.logReadFiles||t&1||($t||($t={}),e in $t||($t[e]=1)),o},$n=(e,t,n)=>{if(e.X===null)throw new L(8);if(!e.seekable||!e.m.ba)throw new L(70);if(n!=0&&n!=1&&n!=2)throw new L(28);e.position=e.m.ba(e,t,n),e.zc=[]},Bn=()=>{L||(L=function(e,t){this.name="ErrnoError",this.node=t,this.pc=function(n){this.aa=n},this.pc(e),this.message="FS error"},L.prototype=Error(),L.prototype.constructor=L,[44].forEach(e=>{on[e]=new L(e),on[e].stack="<generic error, no stack>"}))},Nn,At=(e,t,n)=>{e=Me("/dev/"+e);var i=Lr(!!t,!!n);un||(un=64);var o=un++<<8|0;an(o,{open:s=>{s.seekable=!1},close:()=>{n&&n.buffer&&n.buffer.length&&n(10)},read:(s,c,v,m)=>{for(var d=0,_=0;_<m;_++){try{var C=t()}catch{throw new L(29)}if(C===void 0&&d===0)throw new L(6);if(C==null)break;d++,c[v+_]=C}return d&&(s.node.timestamp=Date.now()),d},write:(s,c,v,m)=>{for(var d=0;d<m;d++)try{n(c[v+d])}catch{throw new L(29)}return m&&(s.node.timestamp=Date.now()),d}}),Ut(e,i,o)},un,ut={},Ct,$t,Rt=void 0;function Ze(){return Rt+=4,H[Rt-4>>2]}function kn(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e}function Bt(e,t){return e=kn(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function Yn(){this.M=[void 0],this.hb=[]}var xe=new Yn,mt=void 0;function W(e){throw new mt(e)}var De=e=>(e||W("Cannot use deleted val. handle = "+e),xe.get(e).value),Ne=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return xe.pa({tb:1,value:e})}};function Hn(e){var t=Error,n=Bt(e,function(i){this.name=e,this.message=i,i=Error(i).stack,i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},n}var zn=void 0,Vn=void 0;function he(e){for(var t="";K[e];)t+=Vn[K[e++]];return t}var Et=[];function ln(){for(;Et.length;){var e=Et.pop();e.g.fa=!1,e.delete()}}var Pt=void 0,Je={};function cn(e,t){for(t===void 0&&W("ptr should not be undefined");e.A;)t=e.na(t),e=e.A;return t}var lt={};function Xn(e){e=vr(e);var t=he(e);return et(e),t}function Tt(e,t){var n=lt[e];return n===void 0&&W(t+" has unknown type "+Xn(e)),n}function Nt(){}var hn=!1;function Gn(e){--e.count.value,e.count.value===0&&(e.G?e.L.W(e.G):e.u.i.W(e.o))}function Kn(e,t,n){return t===n?e:n.A===void 0?null:(e=Kn(e,t,n.A),e===null?null:n.Pb(e))}var Zn={};function Or(e,t){return t=cn(e,t),Je[t]}var Jn=void 0;function kt(e){throw new Jn(e)}function Yt(e,t){return t.u&&t.o||kt("makeClassHandle requires ptr and ptrType"),!!t.L!=!!t.G&&kt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},gt(Object.create(e,{g:{value:t}}))}function gt(e){return typeof FinalizationRegistry>"u"?(gt=t=>t,e):(hn=new FinalizationRegistry(t=>{Gn(t.g)}),gt=t=>{var n=t.g;return n.G&&hn.register(t,{g:n},t),t},Nt=t=>{hn.unregister(t)},gt(e))}var Ht={};function Lt(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Mt(e){return this.fromWireType(H[e>>2])}var yt={},zt={};function Te(e,t,n){function i(v){v=n(v),v.length!==e.length&&kt("Mismatched type converter count");for(var m=0;m<e.length;++m)ke(e[m],v[m])}e.forEach(function(v){zt[v]=t});var o=Array(t.length),s=[],c=0;t.forEach((v,m)=>{lt.hasOwnProperty(v)?o[m]=lt[v]:(s.push(v),yt.hasOwnProperty(v)||(yt[v]=[]),yt[v].push(()=>{o[m]=lt[v],++c,c===s.length&&i(o)}))}),s.length===0&&i(o)}function Vt(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${e}`)}}function jr(e,t,n={}){var i=t.name;if(e||W(`type "${i}" must have a positive integer typeid pointer`),lt.hasOwnProperty(e)){if(n.$b)return;W(`Cannot register type '${i}' twice`)}lt[e]=t,delete zt[e],yt.hasOwnProperty(e)&&(t=yt[e],delete yt[e],t.forEach(o=>o()))}function ke(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");jr(e,t,n)}function fn(e){W(e.g.u.i.name+" instance already deleted")}function ot(){}function dn(e,t,n){if(e[t].B===void 0){var i=e[t];e[t]=function(){return e[t].B.hasOwnProperty(arguments.length)||W(`Function '${n}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].B})!`),e[t].B[arguments.length].apply(this,arguments)},e[t].B=[],e[t].B[i.ea]=i}}function vn(e,t,n){l.hasOwnProperty(e)?((n===void 0||l[e].B!==void 0&&l[e].B[n]!==void 0)&&W(`Cannot register public name '${e}' twice`),dn(l,e,e),l.hasOwnProperty(n)&&W(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),l[e].B[n]=t):(l[e]=t,n!==void 0&&(l[e].Pc=n))}function Ir(e,t,n,i,o,s,c,v){this.name=e,this.constructor=t,this.N=n,this.W=i,this.A=o,this.Ub=s,this.na=c,this.Pb=v,this.qb=[]}function Xt(e,t,n){for(;t!==n;)t.na||W(`Expected null or instance of ${n.name}, got an instance of ${t.name}`),e=t.na(e),t=t.A;return e}function Dr(e,t){return t===null?(this.Na&&W(`null is not a valid ${this.name}`),0):(t.g||W(`Cannot pass "${mn(t)}" as a ${this.name}`),t.g.o||W(`Cannot pass deleted object as a pointer of type ${this.name}`),Xt(t.g.o,t.g.u.i,this.i))}function Ur(e,t){if(t===null){if(this.Na&&W(`null is not a valid ${this.name}`),this.ua){var n=this.Pa();return e!==null&&e.push(this.W,n),n}return 0}if(t.g||W(`Cannot pass "${mn(t)}" as a ${this.name}`),t.g.o||W(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&t.g.u.ta&&W(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`),n=Xt(t.g.o,t.g.u.i,this.i),this.ua)switch(t.g.G===void 0&&W("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:t.g.L===this?n=t.g.G:W(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`);break;case 1:n=t.g.G;break;case 2:if(t.g.L===this)n=t.g.G;else{var i=t.clone();n=this.oc(n,Ne(function(){i.delete()})),e!==null&&e.push(this.W,n)}break;default:W("Unsupporting sharing policy")}return n}function Wr(e,t){return t===null?(this.Na&&W(`null is not a valid ${this.name}`),0):(t.g||W(`Cannot pass "${mn(t)}" as a ${this.name}`),t.g.o||W(`Cannot pass deleted object as a pointer of type ${this.name}`),t.g.u.ta&&W(`Cannot convert argument of type ${t.g.u.name} to parameter type ${this.name}`),Xt(t.g.o,t.g.u.i,this.i))}function Qe(e,t,n,i){this.name=e,this.i=t,this.Na=n,this.ta=i,this.ua=!1,this.W=this.oc=this.Pa=this.rb=this.tc=this.nc=void 0,t.A!==void 0?this.toWireType=Ur:(this.toWireType=i?Dr:Wr,this.K=null)}function Qn(e,t,n){l.hasOwnProperty(e)||kt("Replacing nonexistant public symbol"),l[e].B!==void 0&&n!==void 0?l[e].B[n]=t:(l[e]=t,l[e].ea=n)}var Gt=[],qn=e=>{var t=Gt[e];return t||(e>=Gt.length&&(Gt.length=e+1),Gt[e]=t=f.get(e)),t},$r=(e,t)=>{var n=[];return function(){if(n.length=0,Object.assign(n,arguments),e.includes("j")){var i=l["dynCall_"+e];i=n&&n.length?i.apply(null,[t].concat(n)):i.call(null,t)}else i=qn(t).apply(null,n);return i}};function Ce(e,t){e=he(e);var n=e.includes("j")?$r(e,t):qn(t);return typeof n!="function"&&W(`unknown function pointer with signature ${e}: ${t}`),n}var er=void 0;function qe(e,t){function n(s){o[s]||lt[s]||(zt[s]?zt[s].forEach(n):(i.push(s),o[s]=!0))}var i=[],o={};throw t.forEach(n),new er(`${e}: `+i.map(Xn).join([", "]))}function Kt(e,t,n,i,o){var s=t.length;2>s&&W("argTypes array size mismatch! Must at least get return value and 'this' types!");var c=t[1]!==null&&n!==null,v=!1;for(n=1;n<t.length;++n)if(t[n]!==null&&t[n].K===void 0){v=!0;break}var m=t[0].name!=="void",d=s-2,_=Array(d),C=[],P=[];return function(){if(arguments.length!==d&&W(`function ${e} called with ${arguments.length} arguments, expected ${d} args!`),P.length=0,C.length=c?2:1,C[0]=o,c){var h=t[1].toWireType(P,this);C[1]=h}for(var b=0;b<d;++b)_[b]=t[b+2].toWireType(P,arguments[b]),C.push(_[b]);if(b=i.apply(null,C),v)Lt(P);else for(var x=c?1:2;x<t.length;x++){var R=x===1?h:_[x-2];t[x].K!==null&&t[x].K(R)}return h=m?t[0].fromWireType(b):void 0,h}}function Zt(e,t){for(var n=[],i=0;i<e;i++)n.push(re[t+4*i>>2]);return n}function tr(e,t,n){return e instanceof Object||W(`${n} with invalid "this": ${e}`),e instanceof t.i.constructor||W(`${n} incompatible with "this" of type ${e.constructor.name}`),e.g.o||W(`cannot call emscripten binding method ${n} on deleted object`),Xt(e.g.o,e.g.u.i,t.i)}function pn(e){e>=xe.h&&--xe.get(e).tb===0&&xe.Zb(e)}function Br(e,t,n){switch(t){case 0:return function(i){return this.fromWireType((n?me:K)[i])};case 1:return function(i){return this.fromWireType((n?Ae:Be)[i>>1])};case 2:return function(i){return this.fromWireType((n?H:re)[i>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function mn(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}function Nr(e,t){switch(t){case 2:return function(n){return this.fromWireType(u[n>>2])};case 3:return function(n){return this.fromWireType(r[n>>3])};default:throw new TypeError("Unknown float type: "+e)}}function kr(e,t,n){switch(t){case 0:return n?function(i){return me[i]}:function(i){return K[i]};case 1:return n?function(i){return Ae[i>>1]}:function(i){return Be[i>>1]};case 2:return n?function(i){return H[i>>2]}:function(i){return re[i>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var nr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Yr=(e,t)=>{for(var n=e>>1,i=n+t/2;!(n>=i)&&Be[n];)++n;if(n<<=1,32<n-e&&nr)return nr.decode(K.subarray(e,n));for(n="",i=0;!(i>=t/2);++i){var o=Ae[e+2*i>>1];if(o==0)break;n+=String.fromCharCode(o)}return n},Hr=(e,t,n)=>{if(n===void 0&&(n=2147483647),2>n)return 0;n-=2;var i=t;n=n<2*e.length?n/2:e.length;for(var o=0;o<n;++o)Ae[t>>1]=e.charCodeAt(o),t+=2;return Ae[t>>1]=0,t-i},zr=e=>2*e.length,Vr=(e,t)=>{for(var n=0,i="";!(n>=t/4);){var o=H[e+4*n>>2];if(o==0)break;++n,65536<=o?(o-=65536,i+=String.fromCharCode(55296|o>>10,56320|o&1023)):i+=String.fromCharCode(o)}return i},Xr=(e,t,n)=>{if(n===void 0&&(n=2147483647),4>n)return 0;var i=t;n=i+n-4;for(var o=0;o<e.length;++o){var s=e.charCodeAt(o);if(55296<=s&&57343>=s){var c=e.charCodeAt(++o);s=65536+((s&1023)<<10)|c&1023}if(H[t>>2]=s,t+=4,t+4>n)break}return H[t>>2]=0,t-i},Gr=e=>{for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);55296<=i&&57343>=i&&++n,t+=4}return t},Kr={};function Jt(e){var t=Kr[e];return t===void 0?he(e):t}var Qt=[];function Zr(e){var t=Qt.length;return Qt.push(e),t}function Jr(e,t){for(var n=Array(e),i=0;i<e;++i)n[i]=Tt(re[t+4*i>>2],"parameter "+i);return n}var rr=[],gn=[],yn={},ir=()=>{if(!wn){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Oe||"./this.program"},t;for(t in yn)yn[t]===void 0?delete e[t]:e[t]=yn[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);wn=n}return wn},wn,qt=e=>e%4===0&&(e%100!==0||e%400===0),or=[31,29,31,30,31,30,31,31,30,31,30,31],ar=[31,28,31,30,31,30,31,31,30,31,30,31],Qr=(e,t,n,i)=>{function o(h,b,x){for(h=typeof h=="number"?h.toString():h||"";h.length<b;)h=x[0]+h;return h}function s(h,b){return o(h,b,"0")}function c(h,b){function x(J){return 0>J?-1:0<J?1:0}var R;return(R=x(h.getFullYear()-b.getFullYear()))===0&&(R=x(h.getMonth()-b.getMonth()))===0&&(R=x(h.getDate()-b.getDate())),R}function v(h){switch(h.getDay()){case 0:return new Date(h.getFullYear()-1,11,29);case 1:return h;case 2:return new Date(h.getFullYear(),0,3);case 3:return new Date(h.getFullYear(),0,2);case 4:return new Date(h.getFullYear(),0,1);case 5:return new Date(h.getFullYear()-1,11,31);case 6:return new Date(h.getFullYear()-1,11,30)}}function m(h){var b=h.ca;for(h=new Date(new Date(h.da+1900,0,1).getTime());0<b;){var x=h.getMonth(),R=(qt(h.getFullYear())?or:ar)[x];if(b>R-h.getDate())b-=R-h.getDate()+1,h.setDate(1),11>x?h.setMonth(x+1):(h.setMonth(0),h.setFullYear(h.getFullYear()+1));else{h.setDate(h.getDate()+b);break}}return x=new Date(h.getFullYear()+1,0,4),b=v(new Date(h.getFullYear(),0,4)),x=v(x),0>=c(b,h)?0>=c(x,h)?h.getFullYear()+1:h.getFullYear():h.getFullYear()-1}var d=H[i+40>>2];i={wc:H[i>>2],vc:H[i+4>>2],Fa:H[i+8>>2],Sa:H[i+12>>2],Ga:H[i+16>>2],da:H[i+20>>2],R:H[i+24>>2],ca:H[i+28>>2],Rc:H[i+32>>2],uc:H[i+36>>2],xc:d&&d?rt(K,d):""},n=n?rt(K,n):"",d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var _ in d)n=n.replace(new RegExp(_,"g"),d[_]);var C="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),P="January February March April May June July August September October November December".split(" ");d={"%a":h=>C[h.R].substring(0,3),"%A":h=>C[h.R],"%b":h=>P[h.Ga].substring(0,3),"%B":h=>P[h.Ga],"%C":h=>s((h.da+1900)/100|0,2),"%d":h=>s(h.Sa,2),"%e":h=>o(h.Sa,2," "),"%g":h=>m(h).toString().substring(2),"%G":h=>m(h),"%H":h=>s(h.Fa,2),"%I":h=>(h=h.Fa,h==0?h=12:12<h&&(h-=12),s(h,2)),"%j":h=>{for(var b=0,x=0;x<=h.Ga-1;b+=(qt(h.da+1900)?or:ar)[x++]);return s(h.Sa+b,3)},"%m":h=>s(h.Ga+1,2),"%M":h=>s(h.vc,2),"%n":()=>`
`,"%p":h=>0<=h.Fa&&12>h.Fa?"AM":"PM","%S":h=>s(h.wc,2),"%t":()=>"	","%u":h=>h.R||7,"%U":h=>s(Math.floor((h.ca+7-h.R)/7),2),"%V":h=>{var b=Math.floor((h.ca+7-(h.R+6)%7)/7);if(2>=(h.R+371-h.ca-2)%7&&b++,b)b==53&&(x=(h.R+371-h.ca)%7,x==4||x==3&&qt(h.da)||(b=1));else{b=52;var x=(h.R+7-h.ca-1)%7;(x==4||x==5&&qt(h.da%400-1))&&b++}return s(b,2)},"%w":h=>h.R,"%W":h=>s(Math.floor((h.ca+7-(h.R+6)%7)/7),2),"%y":h=>(h.da+1900).toString().substring(2),"%Y":h=>h.da+1900,"%z":h=>{h=h.uc;var b=0<=h;return h=Math.abs(h)/60,(b?"+":"-")+("0000"+(h/60*100+h%60)).slice(-4)},"%Z":h=>h.xc,"%%":()=>"%"},n=n.replace(/%%/g,"\0\0");for(_ in d)n.includes(_)&&(n=n.replace(new RegExp(_,"g"),d[_](i)));return n=n.replace(/\0\0/g,"%"),_=Pn(n,!1),_.length>t?0:(me.set(_,e),_.length-1)};function sr(e,t,n,i){e||(e=this),this.parent=e,this.U=e.U,this.wa=null,this.id=Mr++,this.name=t,this.mode=n,this.l={},this.m={},this.za=i}Object.defineProperties(sr.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),Bn(),_t=Array(4096),Wn(B,"/"),Ie("/tmp",16895,0),Ie("/home",16895,0),Ie("/home/web_user",16895,0),(()=>{Ie("/dev",16895,0),an(259,{read:()=>0,write:(i,o,s,c)=>c}),Ut("/dev/null",259),Ln(1280,Pr),Ln(1536,Tr),Ut("/dev/tty",1280),Ut("/dev/tty1",1536);var e=new Uint8Array(1024),t=0,n=()=>(t===0&&(t=An(e).byteLength),e[--t]);At("random",n),At("urandom",n),Ie("/dev/shm",16895,0),Ie("/dev/shm/tmp",16895,0)})(),(()=>{Ie("/proc",16895,0);var e=Ie("/proc/self",16895,0);Ie("/proc/self/fd",16895,0),Wn({U:()=>{var t=jn(e,"fd",16895,73);return t.l={ka:(n,i)=>{var o=it(+i);return n={parent:null,U:{mb:"fake"},l:{ma:()=>o.path}},n.parent=n}},t}},"/proc/self/fd")})(),Object.assign(Yn.prototype,{get(e){return this.M[e]},has(e){return this.M[e]!==void 0},pa(e){var t=this.hb.pop()||this.M.length;return this.M[t]=e,t},Zb(e){this.M[e]=void 0,this.hb.push(e)}}),mt=l.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},xe.M.push({value:void 0},{value:null},{value:!0},{value:!1}),xe.h=xe.M.length,l.count_emval_handles=function(){for(var e=0,t=xe.h;t<xe.M.length;++t)xe.M[t]!==void 0&&++e;return e},zn=l.PureVirtualError=Hn("PureVirtualError");for(var ur=Array(256),en=0;256>en;++en)ur[en]=String.fromCharCode(en);Vn=ur,l.getInheritedInstanceCount=function(){return Object.keys(Je).length},l.getLiveInheritedInstances=function(){var e=[],t;for(t in Je)Je.hasOwnProperty(t)&&e.push(Je[t]);return e},l.flushPendingDeletes=ln,l.setDelayFunction=function(e){Pt=e,Et.length&&Pt&&Pt(ln)},Jn=l.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},ot.prototype.isAliasOf=function(e){if(!(this instanceof ot&&e instanceof ot))return!1;var t=this.g.u.i,n=this.g.o,i=e.g.u.i;for(e=e.g.o;t.A;)n=t.na(n),t=t.A;for(;i.A;)e=i.na(e),i=i.A;return t===i&&n===e},ot.prototype.clone=function(){if(this.g.o||fn(this),this.g.ia)return this.g.count.value+=1,this;var e=gt,t=Object,n=t.create,i=Object.getPrototypeOf(this),o=this.g;return e=e(n.call(t,i,{g:{value:{count:o.count,fa:o.fa,ia:o.ia,o:o.o,u:o.u,G:o.G,L:o.L}}})),e.g.count.value+=1,e.g.fa=!1,e},ot.prototype.delete=function(){this.g.o||fn(this),this.g.fa&&!this.g.ia&&W("Object already scheduled for deletion"),Nt(this),Gn(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},ot.prototype.isDeleted=function(){return!this.g.o},ot.prototype.deleteLater=function(){return this.g.o||fn(this),this.g.fa&&!this.g.ia&&W("Object already scheduled for deletion"),Et.push(this),Et.length===1&&Pt&&Pt(ln),this.g.fa=!0,this},Qe.prototype.Vb=function(e){return this.rb&&(e=this.rb(e)),e},Qe.prototype.ab=function(e){this.W&&this.W(e)},Qe.prototype.argPackAdvance=8,Qe.prototype.readValueFromPointer=Mt,Qe.prototype.deleteObject=function(e){e!==null&&e.delete()},Qe.prototype.fromWireType=function(e){function t(){return this.ua?Yt(this.i.N,{u:this.nc,o:n,L:this,G:e}):Yt(this.i.N,{u:this,o:e})}var n=this.Vb(e);if(!n)return this.ab(e),null;var i=Or(this.i,n);if(i!==void 0)return i.g.count.value===0?(i.g.o=n,i.g.G=e,i.clone()):(i=i.clone(),this.ab(e),i);if(i=this.i.Ub(n),i=Zn[i],!i)return t.call(this);i=this.ta?i.Kb:i.pointerType;var o=Kn(n,this.i,i.i);return o===null?t.call(this):this.ua?Yt(i.i.N,{u:i,o,L:this,G:e}):Yt(i.i.N,{u:i,o})},er=l.UnboundTypeError=Hn("UnboundTypeError");var lr={__syscall_fcntl64:function(e,t,n){Rt=n;try{var i=it(e);switch(t){case 0:var o=Ze();return 0>o?-28:Un(i,o).X;case 1:case 2:return 0;case 3:return i.flags;case 4:return o=Ze(),i.flags|=o,0;case 5:return o=Ze(),Ae[o+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return H[dr()>>2]=28,-1;default:return-28}}catch(s){if(typeof ut>"u"||s.name!=="ErrnoError")throw s;return-s.aa}},__syscall_ioctl:function(e,t,n){Rt=n;try{var i=it(e);switch(t){case 21509:return i.s?0:-59;case 21505:if(!i.s)return-59;if(i.s.V.bc){t=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var o=Ze();H[o>>2]=25856,H[o+4>>2]=5,H[o+8>>2]=191,H[o+12>>2]=35387;for(var s=0;32>s;s++)me[o+s+17>>0]=t[s]||0}return 0;case 21510:case 21511:case 21512:return i.s?0:-59;case 21506:case 21507:case 21508:if(!i.s)return-59;if(i.s.V.cc)for(o=Ze(),t=[],s=0;32>s;s++)t.push(me[o+s+17>>0]);return 0;case 21519:return i.s?(o=Ze(),H[o>>2]=0):-59;case 21520:return i.s?-28:-59;case 21531:if(o=Ze(),!i.m.ac)throw new L(59);return i.m.ac(i,t,o);case 21523:return i.s?(i.s.V.dc&&(s=[24,80],o=Ze(),Ae[o>>1]=s[0],Ae[o+2>>1]=s[1]),0):-59;case 21524:return i.s?0:-59;case 21515:return i.s?0:-59;default:return-28}}catch(c){if(typeof ut>"u"||c.name!=="ErrnoError")throw c;return-c.aa}},__syscall_openat:function(e,t,n,i){Rt=i;try{t=t?rt(K,t):"";var o=t;if(o.charAt(0)==="/")t=o;else{var s=e===-100?"/":it(e).path;if(o.length==0)throw new L(44);t=Me(s+"/"+o)}var c=i?Ze():0;return Wt(t,n,c).X}catch(v){if(typeof ut>"u"||v.name!=="ErrnoError")throw v;return-v.aa}},_embind_create_inheriting_constructor:function(e,t,n){e=he(e),t=Tt(t,"wrapper"),n=De(n);var i=[].slice,o=t.i,s=o.N,c=o.A.N,v=o.A.constructor;e=Bt(e,function(){o.A.qb.forEach((function(d){if(this[d]===c[d])throw new zn(`Pure virtual function ${d} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:s}),this.__construct.apply(this,i.call(arguments))}),s.__construct=function(){this===s&&W("Pass correct 'this' to __construct");var d=v.implement.apply(void 0,[this].concat(i.call(arguments)));Nt(d);var _=d.g;d.notifyOnDestruction(),_.ia=!0,Object.defineProperties(this,{g:{value:_}}),gt(this),d=_.o,d=cn(o,d),Je.hasOwnProperty(d)?W(`Tried to register registered instance: ${d}`):Je[d]=this},s.__destruct=function(){this===s&&W("Pass correct 'this' to __destruct"),Nt(this);var d=this.g.o;d=cn(o,d),Je.hasOwnProperty(d)?delete Je[d]:W(`Tried to unregister unregistered instance: ${d}`)},e.prototype=Object.create(s);for(var m in n)e.prototype[m]=n[m];return Ne(e)},_embind_finalize_value_object:function(e){var t=Ht[e];delete Ht[e];var n=t.Pa,i=t.W,o=t.eb,s=o.map(c=>c.Yb).concat(o.map(c=>c.rc));Te([e],s,c=>{var v={};return o.forEach((m,d)=>{var _=c[d],C=m.Wb,P=m.Xb,h=c[d+o.length],b=m.qc,x=m.sc;v[m.Sb]={read:R=>_.fromWireType(C(P,R)),write:(R,J)=>{var E=[];b(x,R,h.toWireType(E,J)),Lt(E)}}}),[{name:t.name,fromWireType:function(m){var d={},_;for(_ in v)d[_]=v[_].read(m);return i(m),d},toWireType:function(m,d){for(var _ in v)if(!(_ in d))throw new TypeError(`Missing field: "${_}"`);var C=n();for(_ in v)v[_].write(C,d[_]);return m!==null&&m.push(i,C),C},argPackAdvance:8,readValueFromPointer:Mt,K:i}]})},_embind_register_bigint:function(){},_embind_register_bool:function(e,t,n,i,o){var s=Vt(n);t=he(t),ke(e,{name:t,fromWireType:function(c){return!!c},toWireType:function(c,v){return v?i:o},argPackAdvance:8,readValueFromPointer:function(c){if(n===1)var v=me;else if(n===2)v=Ae;else if(n===4)v=H;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(v[c>>s])},K:null})},_embind_register_class:function(e,t,n,i,o,s,c,v,m,d,_,C,P){_=he(_),s=Ce(o,s),v&&(v=Ce(c,v)),d&&(d=Ce(m,d)),P=Ce(C,P);var h=kn(_);vn(h,function(){qe(`Cannot construct ${_} due to unbound types`,[i])}),Te([e,t,n],i?[i]:[],function(b){if(b=b[0],i)var x=b.i,R=x.N;else R=ot.prototype;b=Bt(h,function(){if(Object.getPrototypeOf(this)!==J)throw new mt("Use 'new' to construct "+_);if(E.$===void 0)throw new mt(_+" has no accessible constructor");var se=E.$[arguments.length];if(se===void 0)throw new mt(`Tried to invoke ctor of ${_} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(E.$).toString()}) parameters instead!`);return se.apply(this,arguments)});var J=Object.create(R,{constructor:{value:b}});b.prototype=J;var E=new Ir(_,b,J,P,x,s,v,d);E.A&&(E.A.oa===void 0&&(E.A.oa=[]),E.A.oa.push(E)),x=new Qe(_,E,!0,!1),R=new Qe(_+"*",E,!1,!1);var Z=new Qe(_+" const*",E,!1,!0);return Zn[e]={pointerType:R,Kb:Z},Qn(h,b),[x,R,Z]})},_embind_register_class_class_function:function(e,t,n,i,o,s,c){var v=Zt(n,i);t=he(t),s=Ce(o,s),Te([],[e],function(m){function d(){qe(`Cannot call ${_} due to unbound types`,v)}m=m[0];var _=`${m.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var C=m.i.constructor;return C[t]===void 0?(d.ea=n-1,C[t]=d):(dn(C,t,_),C[t].B[n-1]=d),Te([],v,function(P){if(P=Kt(_,[P[0],null].concat(P.slice(1)),null,s,c),C[t].B===void 0?(P.ea=n-1,C[t]=P):C[t].B[n-1]=P,m.i.oa)for(const h of m.i.oa)h.constructor.hasOwnProperty(t)||(h.constructor[t]=P);return[]}),[]})},_embind_register_class_class_property:function(e,t,n,i,o,s,c,v){t=he(t),s=Ce(o,s),Te([],[e],function(m){m=m[0];var d=`${m.name}.${t}`,_={get(){qe(`Cannot access ${d} due to unbound types`,[n])},enumerable:!0,configurable:!0};return _.set=v?()=>{qe(`Cannot access ${d} due to unbound types`,[n])}:()=>{W(`${d} is a read-only property`)},Object.defineProperty(m.i.constructor,t,_),Te([],[n],function(C){C=C[0];var P={get(){return C.fromWireType(s(i))},enumerable:!0};return v&&(v=Ce(c,v),P.set=h=>{var b=[];v(i,C.toWireType(b,h)),Lt(b)}),Object.defineProperty(m.i.constructor,t,P),[]}),[]})},_embind_register_class_constructor:function(e,t,n,i,o,s){var c=Zt(t,n);o=Ce(i,o),Te([],[e],function(v){v=v[0];var m=`constructor ${v.name}`;if(v.i.$===void 0&&(v.i.$=[]),v.i.$[t-1]!==void 0)throw new mt(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${v.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return v.i.$[t-1]=()=>{qe(`Cannot construct ${v.name} due to unbound types`,c)},Te([],c,function(d){return d.splice(1,0,null),v.i.$[t-1]=Kt(m,d,null,o,s),[]}),[]})},_embind_register_class_function:function(e,t,n,i,o,s,c,v){var m=Zt(n,i);t=he(t),s=Ce(o,s),Te([],[e],function(d){function _(){qe(`Cannot call ${C} due to unbound types`,m)}d=d[0];var C=`${d.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),v&&d.i.qb.push(t);var P=d.i.N,h=P[t];return h===void 0||h.B===void 0&&h.className!==d.name&&h.ea===n-2?(_.ea=n-2,_.className=d.name,P[t]=_):(dn(P,t,C),P[t].B[n-2]=_),Te([],m,function(b){return b=Kt(C,b,d,s,c),P[t].B===void 0?(b.ea=n-2,P[t]=b):P[t].B[n-2]=b,[]}),[]})},_embind_register_class_property:function(e,t,n,i,o,s,c,v,m,d){t=he(t),o=Ce(i,o),Te([],[e],function(_){_=_[0];var C=`${_.name}.${t}`,P={get(){qe(`Cannot access ${C} due to unbound types`,[n,c])},enumerable:!0,configurable:!0};return P.set=m?()=>{qe(`Cannot access ${C} due to unbound types`,[n,c])}:()=>{W(C+" is a read-only property")},Object.defineProperty(_.i.N,t,P),Te([],m?[n,c]:[n],function(h){var b=h[0],x={get(){var J=tr(this,_,C+" getter");return b.fromWireType(o(s,J))},enumerable:!0};if(m){m=Ce(v,m);var R=h[1];x.set=function(J){var E=tr(this,_,C+" setter"),Z=[];m(d,E,R.toWireType(Z,J)),Lt(Z)}}return Object.defineProperty(_.i.N,t,x),[]}),[]})},_embind_register_emval:function(e,t){t=he(t),ke(e,{name:t,fromWireType:function(n){var i=De(n);return pn(n),i},toWireType:function(n,i){return Ne(i)},argPackAdvance:8,readValueFromPointer:Mt,K:null})},_embind_register_enum:function(e,t,n,i){function o(){}n=Vt(n),t=he(t),o.values={},ke(e,{name:t,constructor:o,fromWireType:function(s){return this.constructor.values[s]},toWireType:function(s,c){return c.value},argPackAdvance:8,readValueFromPointer:Br(t,n,i),K:null}),vn(t,o)},_embind_register_enum_value:function(e,t,n){var i=Tt(e,"enum");t=he(t),e=i.constructor,i=Object.create(i.constructor.prototype,{value:{value:n},constructor:{value:Bt(`${i.name}_${t}`,function(){})}}),e.values[n]=i,e[t]=i},_embind_register_float:function(e,t,n){n=Vt(n),t=he(t),ke(e,{name:t,fromWireType:function(i){return i},toWireType:function(i,o){return o},argPackAdvance:8,readValueFromPointer:Nr(t,n),K:null})},_embind_register_function:function(e,t,n,i,o,s){var c=Zt(t,n);e=he(e),o=Ce(i,o),vn(e,function(){qe(`Cannot call ${e} due to unbound types`,c)},t-1),Te([],c,function(v){return Qn(e,Kt(e,[v[0],null].concat(v.slice(1)),null,o,s),t-1),[]})},_embind_register_integer:function(e,t,n,i,o){t=he(t),o===-1&&(o=4294967295),o=Vt(n);var s=v=>v;if(i===0){var c=32-8*n;s=v=>v<<c>>>c}n=t.includes("unsigned")?function(v,m){return m>>>0}:function(v,m){return m},ke(e,{name:t,fromWireType:s,toWireType:n,argPackAdvance:8,readValueFromPointer:kr(t,o,i!==0),K:null})},_embind_register_memory_view:function(e,t,n){function i(s){s>>=2;var c=re;return new o(c.buffer,c[s+1],c[s])}var o=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];n=he(n),ke(e,{name:n,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{$b:!0})},_embind_register_std_string:function(e,t){t=he(t);var n=t==="std::string";ke(e,{name:t,fromWireType:function(i){var o=re[i>>2],s=i+4;if(n)for(var c=s,v=0;v<=o;++v){var m=s+v;if(v==o||K[m]==0){if(c=c?rt(K,c,m-c):"",d===void 0)var d=c;else d+=String.fromCharCode(0),d+=c;c=m+1}}else{for(d=Array(o),v=0;v<o;++v)d[v]=String.fromCharCode(K[s+v]);d=d.join("")}return et(i),d},toWireType:function(i,o){o instanceof ArrayBuffer&&(o=new Uint8Array(o));var s=typeof o=="string";s||o instanceof Uint8Array||o instanceof Uint8ClampedArray||o instanceof Int8Array||W("Cannot pass non-string to std::string");var c=n&&s?Rn(o):o.length,v=bn(4+c+1),m=v+4;if(re[v>>2]=c,n&&s)En(o,K,m,c+1);else if(s)for(s=0;s<c;++s){var d=o.charCodeAt(s);255<d&&(et(m),W("String has UTF-16 code units that do not fit in 8 bits")),K[m+s]=d}else for(s=0;s<c;++s)K[m+s]=o[s];return i!==null&&i.push(et,v),v},argPackAdvance:8,readValueFromPointer:Mt,K:function(i){et(i)}})},_embind_register_std_wstring:function(e,t,n){if(n=he(n),t===2)var i=Yr,o=Hr,s=zr,c=()=>Be,v=1;else t===4&&(i=Vr,o=Xr,s=Gr,c=()=>re,v=2);ke(e,{name:n,fromWireType:function(m){for(var d=re[m>>2],_=c(),C,P=m+4,h=0;h<=d;++h){var b=m+4+h*t;(h==d||_[b>>v]==0)&&(P=i(P,b-P),C===void 0?C=P:(C+=String.fromCharCode(0),C+=P),P=b+t)}return et(m),C},toWireType:function(m,d){typeof d!="string"&&W(`Cannot pass non-string to C++ string type ${n}`);var _=s(d),C=bn(4+_+t);return re[C>>2]=_>>v,o(d,C+4,_+t),m!==null&&m.push(et,C),C},argPackAdvance:8,readValueFromPointer:Mt,K:function(m){et(m)}})},_embind_register_value_object:function(e,t,n,i,o,s){Ht[e]={name:he(t),Pa:Ce(n,i),W:Ce(o,s),eb:[]}},_embind_register_value_object_field:function(e,t,n,i,o,s,c,v,m,d){Ht[e].eb.push({Sb:he(t),Yb:n,Wb:Ce(i,o),Xb:s,rc:c,qc:Ce(v,m),sc:d})},_embind_register_void:function(e,t){t=he(t),ke(e,{fc:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(e,t,n){e=De(e),t=Tt(t,"emval::as");var i=[],o=Ne(i);return re[n>>2]=o,t.toWireType(i,e)},_emval_call_method:function(e,t,n,i,o){e=Qt[e],t=De(t),n=Jt(n);var s=[];return re[i>>2]=Ne(s),e(t,n,s,o)},_emval_call_void_method:function(e,t,n,i){e=Qt[e],t=De(t),n=Jt(n),e(t,n,null,i)},_emval_decref:pn,_emval_get_method_caller:function(e,t){var n=Jr(e,t),i=n[0];t=i.name+"_$"+n.slice(1).map(function(c){return c.name}).join("_")+"$";var o=rr[t];if(o!==void 0)return o;var s=Array(e-1);return o=Zr((c,v,m,d)=>{for(var _=0,C=0;C<e-1;++C)s[C]=n[C+1].readValueFromPointer(d+_),_+=n[C+1].argPackAdvance;for(c=c[v].apply(c,s),C=0;C<e-1;++C)n[C+1].Nb&&n[C+1].Nb(s[C]);if(!i.fc)return i.toWireType(m,c)}),rr[t]=o},_emval_get_module_property:function(e){return e=Jt(e),Ne(l[e])},_emval_get_property:function(e,t){return e=De(e),t=De(t),Ne(e[t])},_emval_incref:function(e){4<e&&(xe.get(e).tb+=1)},_emval_new_cstring:function(e){return Ne(Jt(e))},_emval_new_object:function(){return Ne({})},_emval_run_destructors:function(e){var t=De(e);Lt(t),pn(e)},_emval_set_property:function(e,t,n){e=De(e),t=De(t),n=De(n),e[t]=n},_emval_take_value:function(e,t){return e=Tt(e,"_emval_take_value"),e=e.readValueFromPointer(t),Ne(e)},abort:()=>{Q("")},emscripten_asm_const_int:(e,t,n)=>{gn.length=0;var i;for(n>>=2;i=K[t++];)n+=i!=105&n,gn.push(i==105?H[n]:r[n++>>1]),++n;return bt[e].apply(null,gn)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(e,t,n)=>K.copyWithin(e,t,t+n),emscripten_resize_heap:e=>{var t=K.length;if(e>>>=0,2147483648<e)return!1;for(var n=1;4>=n;n*=2){var i=t*(1+.2/n);i=Math.min(i,e+100663296);var o=Math;i=Math.max(e,i);e:{o=o.min.call(o,2147483648,i+(65536-i%65536)%65536)-$e.buffer.byteLength+65535>>>16;try{$e.grow(o),a();var s=1;break e}catch{}s=void 0}if(s)return!0}return!1},environ_get:(e,t)=>{var n=0;return ir().forEach(function(i,o){var s=t+n;for(o=re[e+4*o>>2]=s,s=0;s<i.length;++s)me[o++>>0]=i.charCodeAt(s);me[o>>0]=0,n+=i.length+1}),0},environ_sizes_get:(e,t)=>{var n=ir();re[e>>2]=n.length;var i=0;return n.forEach(function(o){i+=o.length+1}),re[t>>2]=i,0},fd_close:function(e){try{var t=it(e);if(t.X===null)throw new L(8);t.Ma&&(t.Ma=null);try{t.m.close&&t.m.close(t)}catch(n){throw n}finally{jt[t.X]=null}return t.X=null,0}catch(n){if(typeof ut>"u"||n.name!=="ErrnoError")throw n;return n.aa}},fd_read:function(e,t,n,i){try{e:{var o=it(e);e=t;for(var s,c=t=0;c<n;c++){var v=re[e>>2],m=re[e+4>>2];e+=8;var d=o,_=v,C=m,P=s,h=me;if(0>C||0>P)throw new L(28);if(d.X===null)throw new L(8);if((d.flags&2097155)===1)throw new L(8);if((d.node.mode&61440)===16384)throw new L(31);if(!d.m.read)throw new L(28);var b=typeof P<"u";if(!b)P=d.position;else if(!d.seekable)throw new L(70);var x=d.m.read(d,h,_,C,P);b||(d.position+=x);var R=x;if(0>R){var J=-1;break e}if(t+=R,R<m)break;typeof s<"u"&&(s+=R)}J=t}return re[i>>2]=J,0}catch(E){if(typeof ut>"u"||E.name!=="ErrnoError")throw E;return E.aa}},fd_seek:function(e,t,n,i,o){t=n+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*n:NaN;try{if(isNaN(t))return 61;var s=it(e);return $n(s,t,i),vt=[s.position>>>0,(Ge=s.position,1<=+Math.abs(Ge)?0<Ge?+Math.floor(Ge/4294967296)>>>0:~~+Math.ceil((Ge-+(~~Ge>>>0))/4294967296)>>>0:0)],H[o>>2]=vt[0],H[o+4>>2]=vt[1],s.Ma&&t===0&&i===0&&(s.Ma=null),0}catch(c){if(typeof ut>"u"||c.name!=="ErrnoError")throw c;return c.aa}},fd_write:function(e,t,n,i){try{e:{var o=it(e);e=t;for(var s,c=t=0;c<n;c++){var v=re[e>>2],m=re[e+4>>2];e+=8;var d=o,_=v,C=m,P=s,h=me;if(0>C||0>P)throw new L(28);if(d.X===null)throw new L(8);if(!(d.flags&2097155))throw new L(8);if((d.node.mode&61440)===16384)throw new L(31);if(!d.m.write)throw new L(28);d.seekable&&d.flags&1024&&$n(d,0,2);var b=typeof P<"u";if(!b)P=d.position;else if(!d.seekable)throw new L(70);var x=d.m.write(d,h,_,C,P,void 0);b||(d.position+=x);var R=x;if(0>R){var J=-1;break e}t+=R,typeof s<"u"&&(s+=R)}J=t}return re[i>>2]=J,0}catch(E){if(typeof ut>"u"||E.name!=="ErrnoError")throw E;return E.aa}},strftime_l:(e,t,n,i)=>Qr(e,t,n,i)};(function(){function e(n){if(ne=n=n.exports,$e=ne.memory,a(),f=ne.__indirect_function_table,y.unshift(ne.__wasm_call_ctors),$--,l.monitorRunDependencies&&l.monitorRunDependencies($),$==0&&O){var i=O;O=null,i()}return n}var t={env:lr,wasi_snapshot_preview1:lr};if($++,l.monitorRunDependencies&&l.monitorRunDependencies($),l.instantiateWasm)try{return l.instantiateWasm(t,e)}catch(n){Pe("Module.instantiateWasm callback failed with error: "+n),fe(n)}return Ft(t,function(n){e(n.instance)}).catch(fe),{}})();var et=e=>(et=ne.free)(e),bn=e=>(bn=ne.malloc)(e),cr=l._ma_device__on_notification_unlocked=e=>(cr=l._ma_device__on_notification_unlocked=ne.ma_device__on_notification_unlocked)(e);l._ma_malloc_emscripten=(e,t)=>(l._ma_malloc_emscripten=ne.ma_malloc_emscripten)(e,t),l._ma_free_emscripten=(e,t)=>(l._ma_free_emscripten=ne.ma_free_emscripten)(e,t);var hr=l._ma_device_process_pcm_frames_capture__webaudio=(e,t,n)=>(hr=l._ma_device_process_pcm_frames_capture__webaudio=ne.ma_device_process_pcm_frames_capture__webaudio)(e,t,n),fr=l._ma_device_process_pcm_frames_playback__webaudio=(e,t,n)=>(fr=l._ma_device_process_pcm_frames_playback__webaudio=ne.ma_device_process_pcm_frames_playback__webaudio)(e,t,n),dr=()=>(dr=ne.__errno_location)(),vr=e=>(vr=ne.__getTypeName)(e);l.__embind_initialize_bindings=()=>(l.__embind_initialize_bindings=ne._embind_initialize_bindings)(),l.dynCall_iiji=(e,t,n,i,o)=>(l.dynCall_iiji=ne.dynCall_iiji)(e,t,n,i,o),l.dynCall_jiji=(e,t,n,i,o)=>(l.dynCall_jiji=ne.dynCall_jiji)(e,t,n,i,o),l.dynCall_iiiji=(e,t,n,i,o,s)=>(l.dynCall_iiiji=ne.dynCall_iiiji)(e,t,n,i,o,s),l.dynCall_iij=(e,t,n,i)=>(l.dynCall_iij=ne.dynCall_iij)(e,t,n,i),l.dynCall_jii=(e,t,n)=>(l.dynCall_jii=ne.dynCall_jii)(e,t,n),l.dynCall_viijii=(e,t,n,i,o,s,c)=>(l.dynCall_viijii=ne.dynCall_viijii)(e,t,n,i,o,s,c),l.dynCall_iiiiij=(e,t,n,i,o,s,c)=>(l.dynCall_iiiiij=ne.dynCall_iiiiij)(e,t,n,i,o,s,c),l.dynCall_iiiiijj=(e,t,n,i,o,s,c,v,m)=>(l.dynCall_iiiiijj=ne.dynCall_iiiiijj)(e,t,n,i,o,s,c,v,m),l.dynCall_iiiiiijj=(e,t,n,i,o,s,c,v,m,d)=>(l.dynCall_iiiiiijj=ne.dynCall_iiiiiijj)(e,t,n,i,o,s,c,v,m,d);var tn;O=function e(){tn||pr(),tn||(O=e)};function pr(){function e(){if(!tn&&(tn=!0,l.calledRun=!0,!dt)){if(l.noFSInit||Nn||(Nn=!0,Bn(),l.stdin=l.stdin,l.stdout=l.stdout,l.stderr=l.stderr,l.stdin?At("stdin",l.stdin):sn("/dev/tty","/dev/stdin"),l.stdout?At("stdout",null,l.stdout):sn("/dev/tty","/dev/stdout"),l.stderr?At("stderr",null,l.stderr):sn("/dev/tty1","/dev/stderr"),Wt("/dev/stdin",0),Wt("/dev/stdout",1),Wt("/dev/stderr",1)),Sn=!1,Ke(y),te(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;){var t=l.postRun.shift();A.unshift(t)}Ke(A)}}if(!(0<$)){if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)D();Ke(g),0<$||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),e()},1)):e())}}if(l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);0<l.preInit.length;)l.preInit.pop()();return pr(),F.ready}})();const ue=oe},ie=>{ie.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.25.3","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(ie,N,I)=>{I.r(N),I.d(N,{Animation:()=>oe.Animation});var oe=I(4)},(ie,N,I)=>{I.r(N),I.d(N,{Animation:()=>oe});var oe=function(){function ue(V,F,l,te){this.animation=V,this.artboard=F,this.playing=te,this.loopCount=0,this.scrubTo=null,this.instance=new l.LinearAnimationInstance(V,F)}return Object.defineProperty(ue.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"time",{get:function(){return this.instance.time},set:function(V){this.instance.time=V},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),ue.prototype.advance=function(V){this.scrubTo===null?this.instance.advance(V):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},ue.prototype.apply=function(V){this.instance.apply(V)},ue.prototype.cleanup=function(){this.instance.delete()},ue}()},(ie,N,I)=>{I.r(N),I.d(N,{BLANK_URL:()=>ue.BLANK_URL,registerTouchInteractions:()=>oe.registerTouchInteractions,sanitizeUrl:()=>ue.sanitizeUrl});var oe=I(6),ue=I(7)},(ie,N,I)=>{I.r(N),I.d(N,{registerTouchInteractions:()=>V});var oe=void 0,ue=function(F,l){var te,fe;return["touchstart","touchmove"].indexOf(F.type)>-1&&(!((te=F.touches)===null||te===void 0)&&te.length)?(l||F.preventDefault(),{clientX:F.touches[0].clientX,clientY:F.touches[0].clientY}):F.type==="touchend"&&(!((fe=F.changedTouches)===null||fe===void 0)&&fe.length)?{clientX:F.changedTouches[0].clientX,clientY:F.changedTouches[0].clientY}:{clientX:F.clientX,clientY:F.clientY}},V=function(F){var l=F.canvas,te=F.artboard,fe=F.stateMachines,_e=fe===void 0?[]:fe,de=F.renderer,Re=F.rive,Ee=F.fit,ve=F.alignment,Fe=F.isTouchScrollEnabled,j=Fe===void 0?!1:Fe,Oe=F.layoutScaleFactor,Xe=Oe===void 0?1:Oe;if(!l||!_e.length||!de||!Re||!te||typeof window>"u")return null;var Ue=null,ce=!1,at=function(Le){if(ce&&Le instanceof MouseEvent){Le.type=="mouseup"&&(ce=!1);return}ce=j&&Le.type==="touchend"&&Ue==="touchstart",Ue=Le.type;var Pe=Le.currentTarget.getBoundingClientRect(),We=ue(Le,j),$e=We.clientX,ne=We.clientY;if(!(!$e&&!ne)){var dt=$e-Pe.left,me=ne-Pe.top,K=Re.computeAlignment(Ee,ve,{minX:0,minY:0,maxX:Pe.width,maxY:Pe.height},te.bounds,Xe),Ae=new Re.Mat2D;K.invert(Ae);var Be=new Re.Vec2D(dt,me),H=Re.mapXY(Ae,Be),re=H.x(),u=H.y();switch(H.delete(),Ae.delete(),Be.delete(),K.delete(),Le.type){case"mouseout":for(var r=0,a=_e;r<a.length;r++){var f=a[r];f.pointerMove(re,u)}break;case"touchmove":case"mouseover":case"mousemove":{for(var g=0,y=_e;g<y.length;g++){var f=y[g];f.pointerMove(re,u)}break}case"touchstart":case"mousedown":{for(var A=0,D=_e;A<D.length;A++){var f=D[A];f.pointerDown(re,u)}break}case"touchend":case"mouseup":{for(var $=0,O=_e;$<O.length;$++){var f=O[$];f.pointerUp(re,u)}break}}}},ae=at.bind(oe);return l.addEventListener("mouseover",ae),l.addEventListener("mouseout",ae),l.addEventListener("mousemove",ae),l.addEventListener("mousedown",ae),l.addEventListener("mouseup",ae),l.addEventListener("touchmove",ae,{passive:j}),l.addEventListener("touchstart",ae,{passive:j}),l.addEventListener("touchend",ae),function(){l.removeEventListener("mouseover",ae),l.removeEventListener("mouseout",ae),l.removeEventListener("mousemove",ae),l.removeEventListener("mousedown",ae),l.removeEventListener("mouseup",ae),l.removeEventListener("touchmove",ae),l.removeEventListener("touchstart",ae),l.removeEventListener("touchend",ae)}}},(ie,N,I)=>{I.r(N),I.d(N,{BLANK_URL:()=>fe,sanitizeUrl:()=>Re});var oe=/^([^\w]*)(javascript|data|vbscript)/im,ue=/&#(\w+)(^\w|;)?/g,V=/&(newline|tab);/gi,F=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,l=/^.+(:|&colon;)/gim,te=[".","/"],fe="about:blank";function _e(Ee){return te.indexOf(Ee[0])>-1}function de(Ee){var ve=Ee.replace(F,"");return ve.replace(ue,function(Fe,j){return String.fromCharCode(j)})}function Re(Ee){if(!Ee)return fe;var ve=de(Ee).replace(V,"").replace(F,"").trim();if(!ve)return fe;if(_e(ve))return ve;var Fe=ve.match(l);if(!Fe)return ve;var j=Fe[0];return oe.test(j)?fe:ve}}],ee={};function le(ie){var N=ee[ie];if(N!==void 0)return N.exports;var I=ee[ie]={exports:{}};return M[ie](I,I.exports,le),I.exports}le.d=(ie,N)=>{for(var I in N)le.o(N,I)&&!le.o(ie,I)&&Object.defineProperty(ie,I,{enumerable:!0,get:N[I]})},le.o=(ie,N)=>Object.prototype.hasOwnProperty.call(ie,N),le.r=ie=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ie,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ie,"__esModule",{value:!0})};var Ve={};return(()=>{le.r(Ve),le.d(Ve,{Alignment:()=>te,EventType:()=>j,Fit:()=>l,Layout:()=>fe,LoopType:()=>Oe,Rive:()=>dt,RiveEventType:()=>Ee,RiveFile:()=>ne,RuntimeLoader:()=>_e,StateMachineInput:()=>Re,StateMachineInputType:()=>de,Testing:()=>Ae,decodeAudio:()=>Be,decodeFont:()=>re,decodeImage:()=>H});var ie=le(1),N=le(2),I=le(3),oe=le(5),ue=function(){var u=function(r,a){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(f[y]=g[y])},u(r,a)};return function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");u(r,a);function f(){this.constructor=r}r.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),V=function(u,r,a,f){function g(y){return y instanceof a?y:new a(function(A){A(y)})}return new(a||(a=Promise))(function(y,A){function D(Q){try{O(f.next(Q))}catch(ge){A(ge)}}function $(Q){try{O(f.throw(Q))}catch(ge){A(ge)}}function O(Q){Q.done?y(Q.value):g(Q.value).then(D,$)}O((f=f.apply(u,r||[])).next())})},F=function(u,r){var a={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},f,g,y,A;return A={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function D(O){return function(Q){return $([O,Q])}}function $(O){if(f)throw new TypeError("Generator is already executing.");for(;A&&(A=0,O[0]&&(a=0)),a;)try{if(f=1,g&&(y=O[0]&2?g.return:O[0]?g.throw||((y=g.return)&&y.call(g),0):g.next)&&!(y=y.call(g,O[1])).done)return y;switch(g=0,y&&(O=[O[0]&2,y.value]),O[0]){case 0:case 1:y=O;break;case 4:return a.label++,{value:O[1],done:!1};case 5:a.label++,g=O[1],O=[0];continue;case 7:O=a.ops.pop(),a.trys.pop();continue;default:if(y=a.trys,!(y=y.length>0&&y[y.length-1])&&(O[0]===6||O[0]===2)){a=0;continue}if(O[0]===3&&(!y||O[1]>y[0]&&O[1]<y[3])){a.label=O[1];break}if(O[0]===6&&a.label<y[1]){a.label=y[1],y=O;break}if(y&&a.label<y[2]){a.label=y[2],a.ops.push(O);break}y[2]&&a.ops.pop(),a.trys.pop();continue}O=r.call(u,a)}catch(Q){O=[6,Q],g=0}finally{f=y=0}if(O[0]&5)throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}},l;(function(u){u.Cover="cover",u.Contain="contain",u.Fill="fill",u.FitWidth="fitWidth",u.FitHeight="fitHeight",u.None="none",u.ScaleDown="scaleDown",u.Layout="layout"})(l||(l={}));var te;(function(u){u.Center="center",u.TopLeft="topLeft",u.TopCenter="topCenter",u.TopRight="topRight",u.CenterLeft="centerLeft",u.CenterRight="centerRight",u.BottomLeft="bottomLeft",u.BottomCenter="bottomCenter",u.BottomRight="bottomRight"})(te||(te={}));var fe=function(){function u(r){var a,f,g,y,A,D,$;this.fit=(a=r==null?void 0:r.fit)!==null&&a!==void 0?a:l.Contain,this.alignment=(f=r==null?void 0:r.alignment)!==null&&f!==void 0?f:te.Center,this.layoutScaleFactor=(g=r==null?void 0:r.layoutScaleFactor)!==null&&g!==void 0?g:1,this.minX=(y=r==null?void 0:r.minX)!==null&&y!==void 0?y:0,this.minY=(A=r==null?void 0:r.minY)!==null&&A!==void 0?A:0,this.maxX=(D=r==null?void 0:r.maxX)!==null&&D!==void 0?D:0,this.maxY=($=r==null?void 0:r.maxY)!==null&&$!==void 0?$:0}return u.new=function(r){var a=r.fit,f=r.alignment,g=r.minX,y=r.minY,A=r.maxX,D=r.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new u({fit:a,alignment:f,minX:g,minY:y,maxX:A,maxY:D})},u.prototype.copyWith=function(r){var a=r.fit,f=r.alignment,g=r.layoutScaleFactor,y=r.minX,A=r.minY,D=r.maxX,$=r.maxY;return new u({fit:a??this.fit,alignment:f??this.alignment,layoutScaleFactor:g??this.layoutScaleFactor,minX:y??this.minX,minY:A??this.minY,maxX:D??this.maxX,maxY:$??this.maxY})},u.prototype.runtimeFit=function(r){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var a;return this.fit===l.Cover?a=r.Fit.cover:this.fit===l.Contain?a=r.Fit.contain:this.fit===l.Fill?a=r.Fit.fill:this.fit===l.FitWidth?a=r.Fit.fitWidth:this.fit===l.FitHeight?a=r.Fit.fitHeight:this.fit===l.ScaleDown?a=r.Fit.scaleDown:this.fit===l.Layout?a=r.Fit.layout:a=r.Fit.none,this.cachedRuntimeFit=a,a},u.prototype.runtimeAlignment=function(r){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var a;return this.alignment===te.TopLeft?a=r.Alignment.topLeft:this.alignment===te.TopCenter?a=r.Alignment.topCenter:this.alignment===te.TopRight?a=r.Alignment.topRight:this.alignment===te.CenterLeft?a=r.Alignment.centerLeft:this.alignment===te.CenterRight?a=r.Alignment.centerRight:this.alignment===te.BottomLeft?a=r.Alignment.bottomLeft:this.alignment===te.BottomCenter?a=r.Alignment.bottomCenter:this.alignment===te.BottomRight?a=r.Alignment.bottomRight:a=r.Alignment.center,this.cachedRuntimeAlignment=a,a},u}(),_e=function(){function u(){}return u.loadRuntime=function(){ie.default({locateFile:function(){return u.wasmURL}}).then(function(r){var a;for(u.runtime=r;u.callBackQueue.length>0;)(a=u.callBackQueue.shift())===null||a===void 0||a(u.runtime)}).catch(function(r){var a={message:(r==null?void 0:r.message)||"Unknown error",type:(r==null?void 0:r.name)||"Error",wasmError:r instanceof WebAssembly.CompileError||r instanceof WebAssembly.RuntimeError,originalError:r};console.debug("Rive WASM load error details:",a);var f="https://cdn.jsdelivr.net/npm/".concat(N.name,"@").concat(N.version,"/rive_fallback.wasm");if(u.wasmURL.toLowerCase()!==f)console.warn("Failed to load WASM from ".concat(u.wasmURL," (").concat(a.message,"), trying jsdelivr as a backup")),u.setWasmUrl(f),u.loadRuntime();else{var g=["Could not load Rive WASM file from ".concat(u.wasmURL," or ").concat(f,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(a.type),"- Message: ".concat(a.message),"- WebAssembly-specific error: ".concat(a.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(g)}})},u.getInstance=function(r){u.isLoading||(u.isLoading=!0,u.loadRuntime()),u.runtime?r(u.runtime):u.callBackQueue.push(r)},u.awaitInstance=function(){return new Promise(function(r){return u.getInstance(function(a){return r(a)})})},u.setWasmUrl=function(r){u.wasmURL=r},u.getWasmUrl=function(){return u.wasmURL},u.isLoading=!1,u.callBackQueue=[],u.wasmURL="https://unpkg.com/".concat(N.name,"@").concat(N.version,"/rive.wasm"),u}(),de;(function(u){u[u.Number=56]="Number",u[u.Trigger=58]="Trigger",u[u.Boolean=59]="Boolean"})(de||(de={}));var Re=function(){function u(r,a){this.type=r,this.runtimeInput=a}return Object.defineProperty(u.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(r){this.runtimeInput.value=r},enumerable:!1,configurable:!0}),u.prototype.fire=function(){this.type===de.Trigger&&this.runtimeInput.fire()},u.prototype.delete=function(){this.runtimeInput=null},u}(),Ee;(function(u){u[u.General=128]="General",u[u.OpenUrl=131]="OpenUrl"})(Ee||(Ee={}));var ve=function(){function u(r,a,f,g){this.stateMachine=r,this.playing=f,this.artboard=g,this.inputs=[],this.instance=new a.StateMachineInstance(r,g),this.initInputs(a)}return Object.defineProperty(u.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"statesChanged",{get:function(){for(var r=[],a=0;a<this.instance.stateChangedCount();a++)r.push(this.instance.stateChangedNameByIndex(a));return r},enumerable:!1,configurable:!0}),u.prototype.advance=function(r){this.instance.advance(r)},u.prototype.advanceAndApply=function(r){this.instance.advanceAndApply(r)},u.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},u.prototype.reportedEventAt=function(r){return this.instance.reportedEventAt(r)},u.prototype.initInputs=function(r){for(var a=0;a<this.instance.inputCount();a++){var f=this.instance.input(a);this.inputs.push(this.mapRuntimeInput(f,r))}},u.prototype.mapRuntimeInput=function(r,a){if(r.type===a.SMIInput.bool)return new Re(de.Boolean,r.asBool());if(r.type===a.SMIInput.number)return new Re(de.Number,r.asNumber());if(r.type===a.SMIInput.trigger)return new Re(de.Trigger,r.asTrigger())},u.prototype.cleanup=function(){this.inputs.forEach(function(r){r.delete()}),this.inputs.length=0,this.instance.delete()},u}(),Fe=function(){function u(r,a,f,g,y){g===void 0&&(g=[]),y===void 0&&(y=[]),this.runtime=r,this.artboard=a,this.eventManager=f,this.animations=g,this.stateMachines=y}return u.prototype.add=function(r,a,f){if(f===void 0&&(f=!0),r=K(r),r.length===0)this.animations.forEach(function(we){return we.playing=a}),this.stateMachines.forEach(function(we){return we.playing=a});else for(var g=this.animations.map(function(we){return we.name}),y=this.stateMachines.map(function(we){return we.name}),A=0;A<r.length;A++){var D=g.indexOf(r[A]),$=y.indexOf(r[A]);if(D>=0||$>=0)D>=0?this.animations[D].playing=a:this.stateMachines[$].playing=a;else{var O=this.artboard.animationByName(r[A]);if(O){var Q=new I.Animation(O,this.artboard,this.runtime,a);Q.advance(0),Q.apply(1),this.animations.push(Q)}else{var ge=this.artboard.stateMachineByName(r[A]);if(ge){var ye=new ve(ge,this.runtime,a,this.artboard);this.stateMachines.push(ye)}}}}return f&&(a?this.eventManager.fire({type:j.Play,data:this.playing}):this.eventManager.fire({type:j.Pause,data:this.paused})),a?this.playing:this.paused},u.prototype.initLinearAnimations=function(r,a){for(var f=this.animations.map(function($){return $.name}),g=0;g<r.length;g++){var y=f.indexOf(r[g]);if(y>=0)this.animations[y].playing=a;else{var A=this.artboard.animationByName(r[g]);if(A){var D=new I.Animation(A,this.artboard,this.runtime,a);D.advance(0),D.apply(1),this.animations.push(D)}}}},u.prototype.initStateMachines=function(r,a){for(var f=this.stateMachines.map(function($){return $.name}),g=0;g<r.length;g++){var y=f.indexOf(r[g]);if(y>=0)this.stateMachines[y].playing=a;else{var A=this.artboard.stateMachineByName(r[g]);if(A){var D=new ve(A,this.runtime,a,this.artboard);this.stateMachines.push(D)}else this.initLinearAnimations([r[g]],a)}}},u.prototype.play=function(r){return this.add(r,!0)},u.prototype.pause=function(r){return this.add(r,!1)},u.prototype.scrub=function(r,a){var f=this.animations.filter(function(g){return r.includes(g.name)});return f.forEach(function(g){return g.scrubTo=a}),f.map(function(g){return g.name})},Object.defineProperty(u.prototype,"playing",{get:function(){return this.animations.filter(function(r){return r.playing}).map(function(r){return r.name}).concat(this.stateMachines.filter(function(r){return r.playing}).map(function(r){return r.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"paused",{get:function(){return this.animations.filter(function(r){return!r.playing}).map(function(r){return r.name}).concat(this.stateMachines.filter(function(r){return!r.playing}).map(function(r){return r.name}))},enumerable:!1,configurable:!0}),u.prototype.stop=function(r){var a=this;r=K(r);var f=[];if(r.length===0)f=this.animations.map(function(A){return A.name}).concat(this.stateMachines.map(function(A){return A.name})),this.animations.forEach(function(A){return A.cleanup()}),this.stateMachines.forEach(function(A){return A.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var g=this.animations.filter(function(A){return r.includes(A.name)});g.forEach(function(A){A.cleanup(),a.animations.splice(a.animations.indexOf(A),1)});var y=this.stateMachines.filter(function(A){return r.includes(A.name)});y.forEach(function(A){A.cleanup(),a.stateMachines.splice(a.stateMachines.indexOf(A),1)}),f=g.map(function(A){return A.name}).concat(y.map(function(A){return A.name}))}return this.eventManager.fire({type:j.Stop,data:f}),f},Object.defineProperty(u.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(r,a){return r||a.playing},!1)||this.stateMachines.reduce(function(r,a){return r||a.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),u.prototype.atLeastOne=function(r,a){a===void 0&&(a=!0);var f;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([f=this.artboard.animationByIndex(0).name],r,a):this.artboard.stateMachineCount()>0&&this.add([f=this.artboard.stateMachineByIndex(0).name],r,a)),f},u.prototype.handleLooping=function(){for(var r=0,a=this.animations.filter(function(g){return g.playing});r<a.length;r++){var f=a[r];f.loopValue===0&&f.loopCount?(f.loopCount=0,this.stop(f.name)):f.loopValue===1&&f.loopCount?(this.eventManager.fire({type:j.Loop,data:{animation:f.name,type:Oe.Loop}}),f.loopCount=0):f.loopValue===2&&f.loopCount>1&&(this.eventManager.fire({type:j.Loop,data:{animation:f.name,type:Oe.PingPong}}),f.loopCount=0)}},u.prototype.handleStateChanges=function(){for(var r=[],a=0,f=this.stateMachines.filter(function(y){return y.playing});a<f.length;a++){var g=f[a];r.push.apply(r,g.statesChanged)}r.length>0&&this.eventManager.fire({type:j.StateChange,data:r})},u.prototype.handleAdvancing=function(r){this.eventManager.fire({type:j.Advance,data:r})},u}(),j;(function(u){u.Load="load",u.LoadError="loaderror",u.Play="play",u.Pause="pause",u.Stop="stop",u.Loop="loop",u.Draw="draw",u.Advance="advance",u.StateChange="statechange",u.RiveEvent="riveevent",u.AudioStatusChange="audiostatuschange"})(j||(j={}));var Oe;(function(u){u.OneShot="oneshot",u.Loop="loop",u.PingPong="pingpong"})(Oe||(Oe={}));var Xe=function(){function u(r){r===void 0&&(r=[]),this.listeners=r}return u.prototype.getListeners=function(r){return this.listeners.filter(function(a){return a.type===r})},u.prototype.add=function(r){this.listeners.includes(r)||this.listeners.push(r)},u.prototype.remove=function(r){for(var a=0;a<this.listeners.length;a++){var f=this.listeners[a];if(f.type===r.type&&f.callback===r.callback){this.listeners.splice(a,1);break}}},u.prototype.removeAll=function(r){var a=this;r?this.listeners.filter(function(f){return f.type===r}).forEach(function(f){return a.remove(f)}):this.listeners.splice(0,this.listeners.length)},u.prototype.fire=function(r){var a=this.getListeners(r.type);a.forEach(function(f){return f.callback(r)})},u}(),Ue=function(){function u(r){this.eventManager=r,this.queue=[]}return u.prototype.add=function(r){this.queue.push(r)},u.prototype.process=function(){for(;this.queue.length>0;){var r=this.queue.shift();r!=null&&r.action&&r.action(),r!=null&&r.event&&this.eventManager.fire(r.event)}},u}(),ce;(function(u){u[u.AVAILABLE=0]="AVAILABLE",u[u.UNAVAILABLE=1]="UNAVAILABLE"})(ce||(ce={}));var at=function(u){ue(r,u);function r(){var a=u!==null&&u.apply(this,arguments)||this;return a._started=!1,a._enabled=!1,a._status=ce.UNAVAILABLE,a}return r.prototype.delay=function(a){return V(this,void 0,void 0,function(){return F(this,function(f){return[2,new Promise(function(g){return setTimeout(g,a)})]})})},r.prototype.timeout=function(){return V(this,void 0,void 0,function(){return F(this,function(a){return[2,new Promise(function(f,g){return setTimeout(g,50)})]})})},r.prototype.reportToListeners=function(){this.fire({type:j.AudioStatusChange}),this.removeAll()},r.prototype.enableAudio=function(){return V(this,void 0,void 0,function(){return F(this,function(a){return this._enabled||(this._enabled=!0,this._status=ce.AVAILABLE,this.reportToListeners()),[2]})})},r.prototype.testAudio=function(){return V(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:if(!(this._status===ce.UNAVAILABLE&&this._audioContext!==null))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return a.sent(),this.enableAudio(),[3,4];case 3:return a.sent(),[3,4];case 4:return[2]}})})},r.prototype._establishAudio=function(){return V(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),a.label=2;case 2:return this._status!==ce.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return a.sent(),[4,this.delay(1e3)];case 4:return a.sent(),[3,2];case 5:return[2]}})})},r.prototype.listenForUserAction=function(){var a=this,f=function(){return V(a,void 0,void 0,function(){return F(this,function(g){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",f,{once:!0})},r.prototype.establishAudio=function(){return V(this,void 0,void 0,function(){return F(this,function(a){return this._establishAudio(),[2]})})},Object.defineProperty(r.prototype,"systemVolume",{get:function(){return this._status===ce.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),r}(Xe),ae=new at,Le=function(){function u(){}return u.prototype.observe=function(){},u.prototype.unobserve=function(){},u.prototype.disconnect=function(){},u}(),Pe=globalThis.ResizeObserver||Le,We=function(){function u(){var r=this;this._elementsMap=new Map,this._onObservedEntry=function(a){var f=r._elementsMap.get(a.target);f!==null?f.onResize(a.target.clientWidth==0||a.target.clientHeight==0):r._resizeObserver.unobserve(a.target)},this._onObserved=function(a){a.forEach(r._onObservedEntry)},this._resizeObserver=new Pe(this._onObserved)}return u.prototype.add=function(r,a){var f={onResize:a,element:r};return this._elementsMap.set(r,f),this._resizeObserver.observe(r),f},u.prototype.remove=function(r){this._resizeObserver.unobserve(r.element),this._elementsMap.delete(r.element)},u}(),$e=new We,ne=function(){function u(r){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.src=r.src,this.buffer=r.buffer,r.assetLoader&&(this.assetLoader=r.assetLoader),this.enableRiveAssetCDN=typeof r.enableRiveAssetCDN=="boolean"?r.enableRiveAssetCDN:!0,this.eventManager=new Xe,r.onLoad&&this.on(j.Load,r.onLoad),r.onLoadError&&this.on(j.LoadError,r.onLoadError)}return u.prototype.initData=function(){return V(this,void 0,void 0,function(){var r,a,f;return F(this,function(g){switch(g.label){case 0:return this.src?(r=this,[4,me(this.src)]):[3,2];case 1:r.buffer=g.sent(),g.label=2;case 2:return this.assetLoader&&(a=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})),f=this,[4,this.runtime.load(new Uint8Array(this.buffer),a,this.enableRiveAssetCDN)];case 3:if(f.file=g.sent(),this.file!==null)this.eventManager.fire({type:j.Load,data:this});else throw this.eventManager.fire({type:j.LoadError,data:null}),new Error(u.fileLoadErrorMessage);return[2]}})})},u.prototype.init=function(){return V(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:if(!this.src&&!this.buffer)throw new Error(u.missingErrorMessage);return r=this,[4,_e.awaitInstance()];case 1:return r.runtime=a.sent(),[4,this.initData()];case 2:return a.sent(),[2]}})})},u.prototype.on=function(r,a){this.eventManager.add({type:r,callback:a})},u.prototype.off=function(r,a){this.eventManager.remove({type:r,callback:a})},u.prototype.cleanup=function(){var r;this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),(r=this.file)===null||r===void 0||r.delete())},u.prototype.removeAllRiveEventListeners=function(r){this.eventManager.removeAll(r)},u.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},u.missingErrorMessage="Rive source file or data buffer required",u.fileLoadErrorMessage="The file failed to load",u}(),dt=function(){function u(r){var a=this,f;this.loaded=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(g){a._hasZeroSize=g,(!a._layout.maxX||!a._layout.maxY)&&a.resizeToCanvas()},this.renderSecondTimer=0,this.canvas=r.canvas,r.canvas.constructor===HTMLCanvasElement&&(this._observed=$e.add(this.canvas,this.onCanvasResize)),this.src=r.src,this.buffer=r.buffer,this.riveFile=r.riveFile,this.layout=(f=r.layout)!==null&&f!==void 0?f:new fe,this.shouldDisableRiveListeners=!!r.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!r.isTouchScrollEnabled,this.automaticallyHandleEvents=!!r.automaticallyHandleEvents,this.enableRiveAssetCDN=r.enableRiveAssetCDN===void 0?!0:r.enableRiveAssetCDN,this.eventManager=new Xe,r.onLoad&&this.on(j.Load,r.onLoad),r.onLoadError&&this.on(j.LoadError,r.onLoadError),r.onPlay&&this.on(j.Play,r.onPlay),r.onPause&&this.on(j.Pause,r.onPause),r.onStop&&this.on(j.Stop,r.onStop),r.onLoop&&this.on(j.Loop,r.onLoop),r.onStateChange&&this.on(j.StateChange,r.onStateChange),r.onAdvance&&this.on(j.Advance,r.onAdvance),r.onload&&!r.onLoad&&this.on(j.Load,r.onload),r.onloaderror&&!r.onLoadError&&this.on(j.LoadError,r.onloaderror),r.onplay&&!r.onPlay&&this.on(j.Play,r.onplay),r.onpause&&!r.onPause&&this.on(j.Pause,r.onpause),r.onstop&&!r.onStop&&this.on(j.Stop,r.onstop),r.onloop&&!r.onLoop&&this.on(j.Loop,r.onloop),r.onstatechange&&!r.onStateChange&&this.on(j.StateChange,r.onstatechange),r.assetLoader&&(this.assetLoader=r.assetLoader),this.taskQueue=new Ue(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:r.autoplay,animations:r.animations,stateMachines:r.stateMachines,artboard:r.artboard,useOffscreenRenderer:r.useOffscreenRenderer})}return u.new=function(r){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new u(r)},u.prototype.onSystemAudioChanged=function(){this.volume=this._volume},u.prototype.init=function(r){var a=this,f=r.src,g=r.buffer,y=r.riveFile,A=r.animations,D=r.stateMachines,$=r.artboard,O=r.autoplay,Q=O===void 0?!1:O,ge=r.useOffscreenRenderer,ye=ge===void 0?!1:ge;if(this.src=f,this.buffer=g,this.riveFile=y,!this.src&&!this.buffer&&!this.riveFile)throw new Error(u.missingErrorMessage);var we=K(A),tt=K(D);this.loaded=!1,this.readyForPlaying=!1,_e.awaitInstance().then(function(je){a.runtime=je,a.removeRiveListeners(),a.deleteRiveRenderer(),a.renderer=a.runtime.makeRenderer(a.canvas,ye),a.canvas.width||a.canvas.height||a.resizeDrawingSurfaceToCanvas(),a.initData($,we,tt,Q).then(function(){return a.setupRiveListeners()}).catch(function(nt){console.error(nt)})}).catch(function(je){console.error(je)})},u.prototype.setupRiveListeners=function(r){var a=this;if(!this.shouldDisableRiveListeners){var f=(this.animator.stateMachines||[]).filter(function(y){return y.playing&&a.runtime.hasListeners(y.instance)}).map(function(y){return y.instance}),g=this.isTouchScrollEnabled;r&&"isTouchScrollEnabled"in r&&(g=r.isTouchScrollEnabled),this.eventCleanup=(0,oe.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:f,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:g,layoutScaleFactor:this._layout.layoutScaleFactor})}},u.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},u.prototype.initializeAudio=function(){var r=this,a;ae.status==ce.UNAVAILABLE&&!((a=this.artboard)===null||a===void 0)&&a.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:j.AudioStatusChange,callback:function(){return r.onSystemAudioChanged()}},ae.add(this._audioEventListener),ae.establishAudio())},u.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},u.prototype.initData=function(r,a,f,g){var y;return V(this,void 0,void 0,function(){var A;return F(this,function(D){switch(D.label){case 0:return D.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(this.riveFile=new ne({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),[4,this.riveFile.init()]);case 1:D.sent(),D.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(r,a,f,g),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:j.Load,data:(y=this.src)!==null&&y!==void 0?y:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()];case 3:return D.sent(),A="Problem loading file; may be corrupt!",console.warn(A),this.eventManager.fire({type:j.LoadError,data:A}),[2,Promise.reject(A)];case 4:return[2]}})})},u.prototype.initArtboard=function(r,a,f,g){if(this.file){var y=r?this.file.artboardByName(r):this.file.defaultArtboard();if(!y){var A="Invalid artboard name or no default artboard";console.warn(A),this.eventManager.fire({type:j.LoadError,data:A});return}if(this.artboard=y,y.volume=this._volume*ae.systemVolume,this.artboard.animationCount()<1){var A="Artboard has no animations";throw this.eventManager.fire({type:j.LoadError,data:A}),A}this.animator=new Fe(this.runtime,this.artboard,this.eventManager);var D;a.length>0||f.length>0?(D=a.concat(f),this.animator.initLinearAnimations(a,g),this.animator.initStateMachines(f,g)):D=[this.animator.atLeastOne(g,!1)],this.taskQueue.add({event:{type:g?j.Play:j.Pause,data:D}})}},u.prototype.drawFrame=function(){this.startRendering()},u.prototype.draw=function(r,a){this.frameRequestId=null;var f=performance.now();this.lastRenderTime||(this.lastRenderTime=r),this.renderSecondTimer+=r-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,a==null||a());var g=(r-this.lastRenderTime)/1e3;this.lastRenderTime=r;for(var y=this.animator.animations.filter(function(Me){return Me.playing||Me.needsScrub}).sort(function(Me){return Me.needsScrub?-1:1}),A=0,D=y;A<D.length;A++){var $=D[A];$.advance(g),$.instance.didLoop&&($.loopCount+=1),$.apply(1)}for(var O=this.animator.stateMachines.filter(function(Me){return Me.playing}),Q=0,ge=O;Q<ge.length;Q++){var ye=ge[Q],we=ye.reportedEventCount();if(we)for(var tt=0;tt<we;tt++){var je=ye.reportedEventAt(tt);if(je)if(je.type===Ee.OpenUrl){if(this.eventManager.fire({type:j.RiveEvent,data:je}),this.automaticallyHandleEvents){var nt=document.createElement("a"),Ft=je,Ge=Ft.url,vt=Ft.target,bt=(0,oe.sanitizeUrl)(Ge);Ge&&nt.setAttribute("href",bt),vt&&nt.setAttribute("target",vt),bt&&bt!==oe.BLANK_URL&&nt.click()}}else this.eventManager.fire({type:j.RiveEvent,data:je})}ye.advanceAndApply(g)}this.animator.stateMachines.length==0&&this.artboard.advance(g);var Ke=this.renderer;Ke.clear(),Ke.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(Ke),Ke.restore(),Ke.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(g),this.frameCount++;var pt=performance.now();for(this.frameTimes.push(pt),this.durations.push(pt-f);this.frameTimes[0]<=pt-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},u.prototype.alignRenderer=function(){var r=this,a=r.renderer,f=r.runtime,g=r._layout,y=r.artboard;a.align(g.runtimeFit(f),g.runtimeAlignment(f),{minX:g.minX,minY:g.minY,maxX:g.maxX,maxY:g.maxY},y.bounds,this._devicePixelRatioUsed*g.layoutScaleFactor)},Object.defineProperty(u.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(r,a){return r+a},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),u.prototype.cleanup=function(){var r;this.stopRendering(),this.cleanupInstances(),this._observed!==null&&$e.remove(this._observed),this.removeRiveListeners(),(r=this.riveFile)===null||r===void 0||r.cleanup(),this.riveFile=null,this.file=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(ae.remove(this._audioEventListener),this._audioEventListener=null)},u.prototype.deleteRiveRenderer=function(){var r;(r=this.renderer)===null||r===void 0||r.delete(),this.renderer=null},u.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},u.prototype.retrieveTextRun=function(r){var a;if(!r){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var f=this.artboard.textRun(r);if(!f){console.warn("Could not access a text run with name '".concat(r,"' in the '").concat((a=this.artboard)===null||a===void 0?void 0:a.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return f},u.prototype.getTextRunValue=function(r){var a=this.retrieveTextRun(r);return a?a.text:void 0},u.prototype.setTextRunValue=function(r,a){var f=this.retrieveTextRun(r);f&&(f.text=a)},u.prototype.play=function(r,a){var f=this;if(r=K(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return f.play(r,a)}});return}this.animator.play(r),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},u.prototype.pause=function(r){var a=this;if(r=K(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.pause(r)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(r)},u.prototype.scrub=function(r,a){var f=this;if(r=K(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return f.scrub(r,a)}});return}this.animator.scrub(r,a||0),this.drawFrame()},u.prototype.stop=function(r){var a=this;if(r=K(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.stop(r)}});return}this.animator&&this.animator.stop(r),this.eventCleanup&&this.eventCleanup()},u.prototype.reset=function(r){var a,f=r==null?void 0:r.artboard,g=K(r==null?void 0:r.animations),y=K(r==null?void 0:r.stateMachines),A=(a=r==null?void 0:r.autoplay)!==null&&a!==void 0?a:!1;this.cleanupInstances(),this.initArtboard(f,g,y,A),this.taskQueue.process()},u.prototype.load=function(r){this.file=null,this.stop(),this.init(r)},Object.defineProperty(u.prototype,"layout",{get:function(){return this._layout},set:function(r){this._layout=r,(!r.maxX||!r.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),u.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},u.prototype.resizeDrawingSurfaceToCanvas=function(r){if(this.canvas instanceof HTMLCanvasElement&&window){var a=this.canvas.getBoundingClientRect(),f=a.width,g=a.height,y=r||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=y,this.canvas.width=y*f,this.canvas.height=y*g,this.startRendering(),this.resizeToCanvas(),this.layout.fit===l.Layout){var A=this._layout.layoutScaleFactor;this.artboard.width=f/A,this.artboard.height=g/A}}},Object.defineProperty(u.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var r=[],a=0;a<this.artboard.animationCount();a++)r.push(this.artboard.animationByIndex(a).name);return r},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var r=[],a=0;a<this.artboard.stateMachineCount();a++)r.push(this.artboard.stateMachineByIndex(a).name);return r},enumerable:!1,configurable:!0}),u.prototype.stateMachineInputs=function(r){if(this.loaded){var a=this.animator.stateMachines.find(function(f){return f.name===r});return a==null?void 0:a.inputs}},u.prototype.retrieveInputAtPath=function(r,a){if(!r){console.warn("No input name provided for path '".concat(a,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(r,"', at path: '").concat(a,"', but the Artboard is null"));return}var f=this.artboard.inputByPath(r,a);if(!f){console.warn("Could not access an input with name: '".concat(r,"', at path:'").concat(a,"'"));return}return f},u.prototype.setBooleanStateAtPath=function(r,a,f){var g=this.retrieveInputAtPath(r,f);g&&(g.type===de.Boolean?g.asBool().value=a:console.warn("Input with name: '".concat(r,"', at path:'").concat(f,"' is not a boolean")))},u.prototype.setNumberStateAtPath=function(r,a,f){var g=this.retrieveInputAtPath(r,f);g&&(g.type===de.Number?g.asNumber().value=a:console.warn("Input with name: '".concat(r,"', at path:'").concat(f,"' is not a number")))},u.prototype.fireStateAtPath=function(r,a){var f=this.retrieveInputAtPath(r,a);f&&(f.type===de.Trigger?f.asTrigger().fire():console.warn("Input with name: '".concat(r,"', at path:'").concat(a,"' is not a trigger")))},u.prototype.retrieveTextAtPath=function(r,a){if(!r){console.warn("No text name provided for path '".concat(a,"'"));return}if(!a){console.warn("No path provided for text '".concat(r,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(r,"', at path: '").concat(a,"', but the Artboard is null"));return}var f=this.artboard.textByPath(r,a);if(!f){console.warn("Could not access text with name: '".concat(r,"', at path:'").concat(a,"'"));return}return f},u.prototype.getTextRunValueAtPath=function(r,a){var f=this.retrieveTextAtPath(r,a);if(!f){console.warn("Could not get text with name: '".concat(r,"', at path:'").concat(a,"'"));return}return f.text},u.prototype.setTextRunValueAtPath=function(r,a,f){var g=this.retrieveTextAtPath(r,f);if(!g){console.warn("Could not set text with name: '".concat(r,"', at path:'").concat(f,"'"));return}g.text=a},Object.defineProperty(u.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(r){return r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(r){return r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(r){return!r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(r){return!r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),u.prototype.on=function(r,a){this.eventManager.add({type:r,callback:a})},u.prototype.off=function(r,a){this.eventManager.remove({type:r,callback:a})},u.prototype.unsubscribe=function(r,a){console.warn("This function is deprecated: please use `off()` instead."),this.off(r,a)},u.prototype.removeAllRiveEventListeners=function(r){this.eventManager.removeAll(r)},u.prototype.unsubscribeAll=function(r){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(r)},u.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},u.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},u.prototype.enableFPSCounter=function(r){this.runtime.enableFPSCounter(r)},u.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(u.prototype,"contents",{get:function(){if(this.loaded){for(var r={artboards:[]},a=0;a<this.file.artboardCount();a++){for(var f=this.file.artboardByIndex(a),g={name:f.name,animations:[],stateMachines:[]},y=0;y<f.animationCount();y++){var A=f.animationByIndex(y);g.animations.push(A.name)}for(var D=0;D<f.stateMachineCount();D++){for(var $=f.stateMachineByIndex(D),O=$.name,Q=new this.runtime.StateMachineInstance($,f),ge=[],ye=0;ye<Q.inputCount();ye++){var we=Q.input(ye);ge.push({name:we.name,type:we.type})}g.stateMachines.push({name:O,inputs:ge})}r.artboards.push(g)}return r}},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(r){this._volume=r,this.artboard&&(this.artboard.volume=r*ae.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"artboardWidth",{get:function(){var r;return this.artboard?this.artboard.width:(r=this._artboardWidth)!==null&&r!==void 0?r:0},set:function(r){this._artboardWidth=r,this.artboard&&(this.artboard.width=r)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"artboardHeight",{get:function(){var r;return this.artboard?this.artboard.height:(r=this._artboardHeight)!==null&&r!==void 0?r:0},set:function(r){this._artboardHeight=r,this.artboard&&(this.artboard.height=r)},enumerable:!1,configurable:!0}),u.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(u.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(r){this._devicePixelRatioUsed=r},enumerable:!1,configurable:!0}),u.missingErrorMessage="Rive source file or data buffer required",u}(),me=function(u){return V(void 0,void 0,void 0,function(){var r,a,f;return F(this,function(g){switch(g.label){case 0:return r=new Request(u),[4,fetch(r)];case 1:return a=g.sent(),[4,a.arrayBuffer()];case 2:return f=g.sent(),[2,f]}})})},K=function(u){return typeof u=="string"?[u]:u instanceof Array?u:[]},Ae={EventManager:Xe,TaskQueueManager:Ue},Be=function(u){return new Promise(function(r){return _e.getInstance(function(a){a.decodeAudio(u,r)})})},H=function(u){return new Promise(function(r){return _e.getInstance(function(a){a.decodeImage(u,r)})})},re=function(u){return new Promise(function(r){return _e.getInstance(function(a){a.decodeFont(u,r)})})}})(),Ve})())})(_r);var ni=_r.exports;function Ar(S,p,M,ee,le,Ve,ie,N){var I=typeof S=="function"?S.options:S;p&&(I.render=p,I.staticRenderFns=M,I._compiled=!0),ee&&(I.functional=!0),Ve&&(I._scopeId="data-v-"+Ve);var oe;if(ie?(oe=function(F){F=F||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!F&&typeof __VUE_SSR_CONTEXT__<"u"&&(F=__VUE_SSR_CONTEXT__),le&&le.call(this,F),F&&F._registeredComponents&&F._registeredComponents.add(ie)},I._ssrRegister=oe):le&&(oe=N?function(){le.call(this,(I.functional?this.parent:this).$root.$options.shadowRoot)}:le),oe)if(I.functional){I._injectStyles=oe;var ue=I.render;I.render=function(l,te){return oe.call(te),ue(l,te)}}else{var V=I.beforeCreate;I.beforeCreate=V?[].concat(V,oe):[oe]}return{exports:S,options:I}}const ri={props:["src","stateMachine","artboard","animation","shouldDisableRiveListeners","isTouchScrollEnabled","width","height"],data(){return{isExpanded:!1,showInfo:!1,sourceWidth:null,sourceHeight:null,artboards:[],animations:[],stateMachines:[],contents:null}},mounted(){this.rive=new ni.Rive({src:this.src,stateMachines:this.stateMachine,canvas:this.$refs.riveCanvas,autoplay:!0,artboard:this.artboard,animations:this.animation,shouldDisableRiveListeners:this.shouldDisableRiveListeners,isTouchScrollEnabled:this.isTouchScrollEnabled,onLoad:()=>{this.sourceWidth=this.rive.bounds.maxX,this.sourceHeight=this.rive.bounds.maxY,this.artboards=this.rive.contents.artboards.map(S=>S.name),this.animations=this.rive.contents.artboards.map(S=>S.animations),this.stateMachines=this.rive.contents.artboards.map(S=>S.stateMachines.map(p=>p.name))}}),this.rive.resizeDrawingSurfaceToCanvas()},methods:{expandCanvas(){this.isExpanded=!this.isExpanded,this.isExpanded?this.$refs.riveWrapper.style.width="100%":this.$refs.riveWrapper.style.width="25%",this.rive.resizeDrawingSurfaceToCanvas()}}};var ii=function(){var p=this,M=p._self._c;return M("div",{staticClass:"r-flex r-justify-between r-mb-6"},[M("div",{ref:"riveWrapper",staticClass:"r-relative",staticStyle:{width:"25%"}},[M("canvas",{ref:"riveCanvas",staticClass:"r-w-full",attrs:{height:p.height,width:p.width}}),M("button",{staticClass:"r-absolute r-bottom-0 r-right-0 r-w-5 r-h-5",on:{click:p.expandCanvas}},[p.isExpanded?p._e():M("svg",{attrs:{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[M("path",{staticClass:"r-fill-gray-500",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M28.1262 3.12492C28.1262 1.39907 29.5253 0 31.2512 0H46.8758C48.6016 0 50.0007 1.39907 50.0007 3.12492V18.7495C50.0007 20.4754 48.6016 21.8744 46.8758 21.8744C45.1499 21.8744 43.7508 20.4754 43.7508 18.7495V6.24984H31.2512C29.5253 6.24984 28.1262 4.85077 28.1262 3.12492ZM3.12687 28.1243C4.85272 28.1243 6.25179 29.5234 6.25179 31.2492V43.7489H18.7515C20.4773 43.7489 21.8764 45.148 21.8764 46.8738C21.8764 48.5996 20.4773 49.9987 18.7515 49.9987H3.12687C1.40103 49.9987 0.00195312 48.5996 0.00195312 46.8738V31.2492C0.00195312 29.5234 1.40103 28.1243 3.12687 28.1243Z",fill:"white"}})]),p.isExpanded?M("svg",{attrs:{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[M("path",{staticClass:"r-fill-gray-500",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 30.9743C0 29.2451 1.40174 27.8434 3.13087 27.8434H18.7852C20.5144 27.8434 21.9161 29.2451 21.9161 30.9743V46.6286C21.9161 48.3577 20.5144 49.7595 18.7852 49.7595C17.0561 49.7595 15.6544 48.3577 15.6544 46.6286V34.1051H3.13087C1.40174 34.1051 0 32.7034 0 30.9743Z",fill:"white"}}),M("path",{staticClass:"r-fill-gray-500",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M31.4562 0C33.1631 0 34.5468 1.38372 34.5468 3.09063V15.4532H46.9094C48.6163 15.4532 50 16.8369 50 18.5438C50 20.2507 48.6163 21.6344 46.9094 21.6344H31.4562C29.7493 21.6344 28.3656 20.2507 28.3656 18.5438V3.09063C28.3656 1.38372 29.7493 0 31.4562 0Z",fill:"white"}})]):p._e()])]),M("div",{staticClass:"r-text-xs r-text-right"},[M("p",[M("strong",[p._v("Width:")]),p._v(" "+p._s(p.sourceWidth)+" px")]),M("p",[M("strong",[p._v("Height:")]),p._v(" "+p._s(p.sourceHeight)+" px")]),M("p",[M("strong",[p._v("Artboards:")]),p._v(" "+p._s(p.artboards.join(", ")||"None"))]),M("p",[M("strong",[p._v("Animations:")]),p._v(" "+p._s(p.animations.join(", ")||"None"))]),M("p",[M("strong",[p._v("State Machines:")]),p._v(" "+p._s(p.stateMachines.join(", ")||"None"))])])])},oi=[],ai=Ar(ri,ii,oi,!1,null,null,null,null);const si=ai.exports,ui={components:{RiveWrapper:si},mixins:[Fieldtype],inject:["storeName"],data(){var S,p,M,ee,le,Ve,ie,N,I,oe,ue,V;return{showOptions:!1,data:{isTouchScrollEnabled:((S=this.value)==null?void 0:S.isTouchScrollEnabled)||!0,shouldDisableRiveListeners:((p=this.value)==null?void 0:p.shouldDisableRiveListeners)||!1,animation:((M=this.value)==null?void 0:M.animation)||null,artboard:((ee=this.value)==null?void 0:ee.artboard)||null,stateMachine:((le=this.value)==null?void 0:le.stateMachine)||null,width:((Ve=this.value)==null?void 0:Ve.width)||500,height:((ie=this.value)==null?void 0:ie.height)||500,url:((N=this.value)==null?void 0:N.url)||null,id:((I=this.value)==null?void 0:I.id)||null,fileName:((oe=this.value)==null?void 0:oe.fileName)||null,alt:((ue=this.value)==null?void 0:ue.alt)||null,error:((V=this.value)==null?void 0:V.error)||null}}},mounted(){this.config.max_files=1,this.config.min_files=0,this.config.mode="list"},watch:{data:{deep:!0,handler(){this.update(this.data)}}},computed:{riveId(){return this.data.id?[this.data.id]:[]}},methods:{updateRive(S){S[0]&&this.getAsset(S[0],"rive",["riv"])},riveClear(){this.data.url=null,this.data.id=null,this.data.fileName=null,this.data.alt=null},getAsset(S,p,M){this.$axios.post(this.cpUrl("assets-fieldtype"),{assets:[S]}).then(ee=>{M.includes(ee.data[0].extension)?(this.data.url=ee.data[0].url,this.data.id=ee.data[0].id,this.data.fileName=ee.data[0].basename,this.data.alt=ee.data[0].values.alt,this.data.error=null):this.data.error="Invalid file type. Please upload a .riv file"})},cpUrl(S){return S=Statamic.$config.get("cpUrl")+"/"+S,S.replace(/([^:])(\/\/+)/g,"$1/")}}};var li=function(){var p=this,M=p._self._c;return M("div",{staticClass:"dark:r-bg-gray-600/5 r-rounded r-p-4 r-mb-4 r-border r-border-black/30"},[p.data.url?M("div",[M("div",{staticClass:"r-flex r-justify-between r-items-center r-p-4"},[M("p",{staticClass:"r-text-sm"},[p._v("Selected Rive Animation:")]),M("div",{staticClass:"r-flex r-items-center r-gap-2"},[M("p",{staticClass:"r-text-sm"},[p._v(p._s(p.data.fileName))]),M("button",{on:{click:p.riveClear}},[p._v(" × ")])])])]):M("div",[M("p",{staticClass:"r-text-sm r-mb-2"},[p._v("Upload a .riv file")]),M("assets-fieldtype",{ref:"assets",staticClass:"assets-fieldtype",attrs:{value:p.riveId,handle:"assets",config:p.config,readOnly:p.readOnly},on:{input:p.updateRive}})],1),p.data.error?M("div",{staticClass:"r-text-red-500"},[p._v(p._s(p.data.error))]):p._e(),p.data.url?M("div",{staticClass:"r-p-4"},[M("RiveWrapper",{key:JSON.stringify(p.data),attrs:{src:p.data.url,stateMachine:p.data.stateMachine,artboard:p.data.artboard,animation:p.data.animation,shouldDisableRiveListeners:p.data.shouldDisableRiveListeners,isTouchScrollEnabled:p.data.isTouchScrollEnabled,width:p.data.width,height:p.data.height}}),M("button",{staticClass:"r-flex d-my-4 r-items-center text-sm",on:{click:function(ee){p.showOptions=!p.showOptions}}},[p._v("Configuration Options "),M("svg",{class:p.showOptions?"r-rotate-180":"",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",viewBox:"0 0 20 20"}},[M("path",{attrs:{fill:"currentColor",d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])]),p.showOptions?M("div",{staticClass:"r-grid r-mt-6 r-gap-4"},[M("div",[p._m(0),M("input",{directives:[{name:"model",rawName:"v-model.lazy",value:p.data.width,expression:"data.width",modifiers:{lazy:!0}}],staticClass:"input-text r-mt-1 r-w-1/2",attrs:{type:"text"},domProps:{value:p.data.width},on:{change:function(ee){return p.$set(p.data,"width",ee.target.value)}}})]),M("div",[p._m(1),M("input",{directives:[{name:"model",rawName:"v-model.lazy",value:p.data.height,expression:"data.height",modifiers:{lazy:!0}}],staticClass:"input-text r-mt-1 r-w-1/2",attrs:{type:"text"},domProps:{value:p.data.height},on:{change:function(ee){return p.$set(p.data,"height",ee.target.value)}}})]),M("div",[p._m(2),M("input",{directives:[{name:"model",rawName:"v-model.lazy",value:p.data.animation,expression:"data.animation",modifiers:{lazy:!0}}],staticClass:"input-text r-mt-1 r-w-1/2",attrs:{type:"text"},domProps:{value:p.data.animation},on:{change:function(ee){return p.$set(p.data,"animation",ee.target.value)}}})]),M("div",[p._m(3),M("input",{directives:[{name:"model",rawName:"v-model.lazy",value:p.data.artboard,expression:"data.artboard",modifiers:{lazy:!0}}],staticClass:"input-text r-mt-1 r-w-1/2",attrs:{type:"text"},domProps:{value:p.data.artboard},on:{change:function(ee){return p.$set(p.data,"artboard",ee.target.value)}}})]),M("div",[p._m(4),M("input",{directives:[{name:"model",rawName:"v-model.lazy",value:p.data.stateMachine,expression:"data.stateMachine",modifiers:{lazy:!0}}],staticClass:"input-text r-mt-1 r-w-1/2",attrs:{type:"text"},domProps:{value:p.data.stateMachine},on:{change:function(ee){return p.$set(p.data,"stateMachine",ee.target.value)}}})]),M("div",[p._m(5),M("toggle-input",{model:{value:p.data.shouldDisableRiveListeners,callback:function(ee){p.$set(p.data,"shouldDisableRiveListeners",ee)},expression:"data.shouldDisableRiveListeners"}})],1),M("div",[p._m(6),M("toggle-input",{model:{value:p.data.isTouchScrollEnabled,callback:function(ee){p.$set(p.data,"isTouchScrollEnabled",ee)},expression:"data.isTouchScrollEnabled"}})],1)]):p._e()],1):p._e()])},ci=[function(){var S=this,p=S._self._c;return p("label",[S._v(" Width "),p("br"),p("span",{staticClass:"r-text-xs r-text-gray-500"},[S._v("Width of the animation")])])},function(){var S=this,p=S._self._c;return p("label",[S._v(" Height "),p("br"),p("span",{staticClass:"r-text-xs r-text-gray-500"},[S._v("Height of the animation")])])},function(){var S=this,p=S._self._c;return p("label",[S._v(" Animation "),p("br"),p("span",{staticClass:"r-text-xs r-text-gray-500"},[S._v(" Name of the animation to use")])])},function(){var S=this,p=S._self._c;return p("label",[S._v(" Art Board "),p("br"),p("span",{staticClass:"r-text-xs r-text-gray-500"},[S._v(" Name of the artboard to use")])])},function(){var S=this,p=S._self._c;return p("label",[S._v(" State Machine "),p("br"),p("span",{staticClass:"r-text-xs r-text-gray-500"},[S._v(" Name of the state machine to use")])])},function(){var S=this,p=S._self._c;return p("label",[S._v("Disable Rive Listeners "),p("br"),p("span",{staticClass:"r-text-xs r-text-gray-500"},[S._v(" Prevent any event listeners from being set up on the element")])])},function(){var S=this,p=S._self._c;return p("label",[S._v("Touch Scroll Enabled "),p("br"),p("span",{staticClass:"r-text-xs r-text-gray-500"},[S._v("Allows scrolling behavior to still occur on canvas elements when a touch/drag action is performed on touch-enabled devices.")])])}],hi=Ar(ui,li,ci,!1,null,null,null,null);const fi=hi.exports;Statamic.$components.register("rive-fieldtype",fi);
